!function(e,t){"use strict";var r="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})}class l{constructor(){this[Symbol.toStringTag]="Map",this._map=new Map,this._size=0}toString(){return"{"+Array.from(this.entries2()).map(({key:e,value:t})=>e+":"+t).join(", ")+"}"}forEach(e,t){for(const r of this._map.values())for(const{key:n,value:i}of r)e.call(t,i,n,this)}*keys(){for(const e of this._map.values())for(const{key:t}of e)yield t}*values(){for(const e of this._map.values())for(const{value:t}of e)yield t}[Symbol.iterator](){return this.entries()}set(e,t){return this.set2(e,t),this}set2(e,t){const r=e.hashCode(),n=this._map.get(r);if(n){const r=n.findIndex(t=>t.key.equals(e));if(-1!=r)return n[r].value=t,!1;n.push({key:e,value:t})}else this._map.set(r,[{key:e,value:t}]);return this._size++,!0}has(e){const t=e.hashCode(),r=this._map.get(t);return void 0!==r&&r.some(t=>t.key.equals(e))}get(e){const t=e.hashCode(),r=this._map.get(t),n=r&&r.find(t=>t.key.equals(e));return n&&n.value}getLike(e){for(const t of e.hashCodes()){const r=this._map.get(t),n=r&&r.find(t=>t.key.like(e));if(n)return n}}setLike(e,t){return!this.getLike(e)&&this.set(e,t)}delete(e){const t=e.hashCode(),r=this._map.get(t);if(r){const n=r.findIndex(t=>t.key.equals(e));if(-1!=n)return 1==r.length?this._map.delete(t):r.splice(n,1),this._size--,!0}return!1}deleteLike(e){for(const t of e.hashCodes()){const r=this._map.get(t);if(r){const n=r.findIndex(t=>t.key.like(e));if(-1!=n){const e=r[n];return 1==r.length?this._map.delete(t):r.splice(n,1),this._size--,e}}}}*entries2(){for(const e of this._map.values())yield*e}*entries(){for(const e of this._map.values())for(const{key:t,value:r}of e)yield[t,r]}clear(){this._map.clear(),this._size=0}get size(){return this._size}}class h{constructor(e){this.v=e}static fromFunction(e,t){const r=new Float64Array(e);let n=e;for(;n--;)r[n]=t(n);return new h(r)}static random(e){return h.fromFunction(e,e=>Math.random())}static from(...e){return e[0]instanceof Float64Array||e.every(e=>"number"==typeof e),new h(e[0]instanceof Float64Array?e[0]:Float64Array.from(e))}static Zero(e){let t=0;const r=new Float64Array(e);for(;t--;)r[t]=0;return new h(r)}static Unit(e,t){let r=0;const n=new Float64Array(e);for(;r--;)n[r]=+(r==t);return new h(n)}static pack(e,t,r=0,n=0,i=e.length-r){const o=e[0].dim(),a=t||new Float32Array(o*i);a.length,a.length;let s=i,l=r,h=n;for(;s--;){const t=e[l++];for(let e=0;e<o;e++)a[h++]=t.v[e]}return a}static lerp(e,t,r){e.dim(),t.dim();const n=new Float64Array(e.v.length);let i=e.v.length;for(;i--;)n[i]=e.v[i]*(1-r)+t.v[i]*r;return new h(n)}static add(...e){const t=e[0].v.length,r=new Float64Array(t);let n=e.length;for(;n--;){let i=t;for(;i--;)r[i]+=e[n].v[i]}return new h(r)}static fromV3AndWeight(e,t){return new h(new Float64Array([e.x*t,e.y*t,e.z*t,t]))}get x(){return this.v[0]}get y(){return this.v[1]}get z(){return this.v[2]}get w(){return this.v[3]}[Symbol.iterator](){return this.v[Symbol.iterator]()}dim(){return this.v.length}e(e){if(0>e||e>=this.v.length)throw Error("array index out of bounds");return this.v[e]}plus(e){const t=this.v,r=e.v,n=new Float64Array(t.length);let i=t.length;for(;i--;)n[i]=t[i]+r[i];return new h(n)}minus(e){const t=this.v,r=e.v,n=new Float64Array(t.length);let i=t.length;for(;i--;)n[i]=t[i]-r[i];return new h(n)}times(e){const t=this.v,r=new Float64Array(t.length);let n=t.length;for(;n--;)r[n]=t[n]*e;return new h(r)}div(e){const t=this.v,r=new Float64Array(t.length);let n=t.length;for(;n--;)r[n]=t[n]/e;return new h(r)}dot(e){this.dim,e.dim;let t=0;const r=this.v,n=e.v;let i=r.length;for(;i--;)t+=r[i]*n[i];return t}cross(e){const t=new Float64Array(3);return t[0]=this.v[1]*e.v[2]-this.v[2]*e.v[1],t[1]=this.v[2]*e.v[0]-this.v[0]*e.v[2],t[2]=this.v[0]*e.v[1]-this.v[1]*e.v[0],new h(t)}schur(e){const t=this.v,r=e.v,n=new Float64Array(t.length);let i=t.length;for(;i--;)n[i]=t[i]*r[i];return new h(n)}equals(e){if(e===this)return!0;if(e.constructor!==h)return!1;if(this.v.length!=e.v.length)return!1;let t=this.v.length;for(;t--;)if(this.v[t]!==e.v[t])return!1;return!0}like(e){if(e===this)return!0;if(e.constructor!==h)return!1;if(this.v.length!=e.v.length)return!1;let t=this.v.length;for(;t--;)if(!p(this.v[t],e.v[t]))return!1;return!0}map(e){return new h(this.v.map(e))}toString(e){return e=e||(e=>+e.toFixed(6)),"Vector("+this.v.map(e).join(", ")+")"}toSource(){return b("VV",...this.v)}angleTo(e){return this.isZero(),e.isZero(),Math.acos(C(this.dot(e)/this.length()/e.length(),-1,1))}isParallelTo(e){return this.isZero(),e.isZero(),p(Math.sqrt(this.lengthSquared()*e.lengthSquared()),Math.abs(this.dot(e)))}isPerpendicularTo(e){return this.isZero(),e.isZero(),g(this.dot(e))}isZero(){return g(this.length())}length(){return Math.hypot.apply(void 0,this.v)}lengthSquared(){let e=0;const t=this.v;let r=t.length;for(;r--;)e+=t[r]*t[r];return e}unit(){const e=this.length();if(g(e))throw Error("cannot normalize zero vector");return this.div(this.length())}normalized(){throw Error("documentation stub. use .unit()")}asRowMatrix(){return new c(this.v.length,1,this.v)}asColMatrix(){return new c(1,this.v.length,this.v)}projectedOn(e){return e.times(this.dot(e)/e.dot(e))}rejectedOn(e){return this.minus(e.times(this.dot(e)/e.dot(e)))}to(e){return e.minus(this)}hasLength(e){return p(e,this.length())}V3(){return new R(this.v[0],this.v[1],this.v[2])}p3(){this.v.length;const e=this.v[3];return new R(this.v[0]/e,this.v[1]/e,this.v[2]/e)}transposed(){return new c(this.v.length,1,this.v)}}function u(...e){return new h(new Float64Array(e))}class c{constructor(e,t,r){this.width=e,this.height=t,this.m=r,r.length,r.length}static random(e,t){return c.fromFunction(e,t,()=>Math.random())}static fromFunction(e,t,r){const n=new Float64Array(t*e);let i=t*e;for(;i--;)n[i]=r(Math.floor(i/e),i%e,i);return new c(e,t,n)}static identityN(e){const t=new Float64Array(e*e);let r=e*(e+1);for(;r;)t[r-=e+1]=1;return new c(e,e,t)}static permutation(e,t,r){const n=new Float64Array(e*e);let i=e*(e+1);for(;i;)n[i-=e+1]=1;return n[t*e+t]=0,n[r*e+r]=0,n[t*e+r]=1,n[r*e+t]=1,new c(e,e,n)}static fromRowArrays(...e){if(0==e.length)throw Error("cannot have 0 vector");const t=e.length,r=e[0].length,n=new Float64Array(t*r);F(e[0],0,n,0,r);for(let i=1;i<t;i++){if(e[i].length!=r)throw Error("all row arrays must be the same length");F(e[i],0,n,i*r,r)}return this.new(r,t,n)}static fromColVectors(e){return c.fromColArrays(...e.map(e=>e.v))}static forWidthHeight(e,t){return new c(e,t,new Float64Array(e*t))}static fromColArrays(...e){if(0==e.length)throw Error("cannot have 0 vector");const t=e.length,r=e[0].length,n=new Float64Array(r*t);A(e[0],0,1,n,0,t,r);for(let i=1;i<t;i++){if(e[i].length!=r)throw Error("all col arrays must be the same length");A(e[i],0,1,n,i,t,r)}return this.new(t,r,n)}static product(...e){const[t,r]=Array.isArray(e[0])?[e[0],e[1]]:[e,void 0];if(0==t.length)throw Error("Can't guess matrix size.");return 1==t.length?c.copy(t[0],r):c.copy(t.reduce((e,t)=>e.times(t)),r)}static jacobi(e,t,r=e(t),n=1e-6){const i=c.forWidthHeight(t.length,r.length);for(let o=0;o<t.length;o++){t[o]+=n;const a=e(t);for(let e=0;e<r.length;e++){const t=(a[e]-r[e])/n;i.setEl(e,o,t)}t[o]-=n}return i}static copy(e,t=e.new()){e.width,t.width,e.height,t.height;const r=e.m,n=t.m;let i=r.length;for(;i--;)n[i]=r[i];return t}static new(e,t,r){return new c(e,t,r)}copy(){return c.copy(this)}e(e,t){return 0<=e&&this.height,0<=t&&this.width,this.m[e*this.width+t]}setEl(e,t,r){0<=e&&this.height,0<=t&&this.width,this.m[e*this.width+t]=r}plus(e){this.width,e.width,this.height,e.height;const t=this.new();let r=this.m.length;for(;r--;)t.m[r]=this.m[r]+e.m[r];return t}minus(e){this.width,e.width,this.height,e.height;const t=this.new();let r=this.m.length;for(;r--;)t.m[r]=this.m[r]-e.m[r];return t}mulScalar(e){const t=this.new();let r=this.m.length;for(;r--;)t.m[r]=this.m[r]*e;return t}divScalar(e){const t=this.new();let r=this.m.length;for(;r--;)t.m[r]=this.m[r]/e;return t}new(){return new c(this.width,this.height,new Float64Array(this.width*this.height))}toString(e,t,r){(e=e||(e=>e.toFixed(6)))(0),e(0),!t||(t.length,this.width),!r||(r.length,this.height);const n=Array.from(this.m).map(e),i=D(this.height,e=>n.slice(e*this.width,(e+1)*this.width));t&&i.unshift(Array.from(t)),r&&i.forEach((e,n)=>e.unshift(r[n-(t?1:0)]||""));const o=D(this.width,e=>i.map(t=>t[e].length).max());return i.map((e,n)=>e.map((e,i)=>(0==n&&t||0==i&&r?String.prototype.padEnd:String.prototype.padStart).call(e,o[i])).join("  ")).map(e=>e+"\n").join("")}row(e){0<=e&&this.height;const t=new Float64Array(this.width);return F(this.m,e*this.width,t,0,this.width),new h(t)}col(e){0<=e&&this.width;const t=new Float64Array(this.height);return A(this.m,e,this.width,t,0,1,this.height),new h(t)}dim(){return{width:this.width,height:this.height}}dimString(){return this.width+"x"+this.height}equals(e){if(e.constructor!=this.constructor)return!1;if(this.width!=e.width||this.height!=e.height)return!1;let t=this.m.length;for(;t--;)if(this.m[t]!=e.m[t])return!1;return!0}equalsMatrix(e,t=d){if(this.width!=e.width||this.height!=e.height)return!1;let r=this.m.length;for(;r--;)if(Math.abs(this.m[r]-e.m[r])>=t)return!1;return!0}hashCode(){let e=0,t=this.m.length;for(;t--;)e=31*e+~~(this.m[t]*(1<<28));return e}isZero(){let e=this.m.length;for(;e--;)if(!g(this.m[e]))return!1;return!0}isOrthogonal(){return this.isSquare()&&this.transposed().times(this).equalsMatrix(c.identityN(this.width))}luDecomposition(){this.dim().toSource();const e=this.width,t=this.asRowArrays(Float64Array),r=D(e,t=>new Float64Array(e)),n=c.identityN(e).asRowArrays(Float64Array);let i=0;for(let o=0;o<e;o++){let a=0,s=-1,l=0;for(let r=i;r<e;r++){const e=t[r][o];l+=+(0!=e),Math.abs(e)>a&&(a=Math.abs(e),s=r)}if(0!=a){if(E(t,i,s),E(r,i,s),E(n,i,s),r[o][o]=1,1<l)for(let n=i+1;n<e;n++){const a=t[n][o]/t[i][o];r[n][o]=a;for(let r=o;r<e;r++)t[n][r]-=a*t[i][r]}i++}}return{L:c.fromRowArrays(...r),U:c.fromRowArrays(...t),P:c.fromRowArrays(...n)}}gauss(){const e=this.width,t=this.height,r=this.asRowArrays(Float64Array),n=D(t,t=>new Float64Array(e)),i=c.identityN(t).asRowArrays(Float64Array);let o=0;for(let a=0;a<e;a++){let s=0,l=-1,h=0;for(let e=o;e<t;e++){const t=r[e][a];h+=+(0!=t),Math.abs(t)>s&&(s=Math.abs(t),l=e)}if(0!=s){if(E(r,o,l),E(n,o,l),E(i,o,l),n[o][a]=1,1<h)for(let i=o+1;i<t;i++){const t=r[i][a]/r[o][a];n[i][a]=t;for(let n=a;n<e;n++)r[i][n]-=t*r[o][n]}o++}}return{L:c.fromRowArrays(...n),U:c.fromRowArrays(...r),P:c.fromRowArrays(...i)}}qrDecompositionGivensRotation(){const e=this.copy();function t(e,t,r,n,i){const o=c.identityN(e);return o.setEl(t,t,n),o.setEl(r,r,n),o.setEl(t,r,i),o.setEl(r,t,-i),o}let r=c.identityN(this.height);for(let n=0;n<this.width;n++)for(let i=n+1;i<this.height;i++){const o=e.e(n,n),a=e.e(i,n);if(0==a)continue;const s=Math.hypot(o,a),l=o/s,h=a/s;for(let t=n;t<this.width;t++){const r=e.e(n,t)*l+e.e(i,t)*h,o=e.e(i,t)*l-e.e(n,t)*h;e.setEl(n,t,r),e.setEl(i,t,o)}r=t(this.height,n,i,l,h).times(r)}return{Q:r.transposed(),R:e}}isPermutation(){return!(!this.isSquare()||this.m.some(e=>!g(e)&&!p(1,e))||this.asRowArrays(Array).some(e=>1!=e.filter(e=>p(1,e)).length)||this.asColArrays(Array).some(e=>1!=e.filter(e=>p(1,e)).length))}isDiagonal(e){let t=this.m.length;for(;t--;)if(0!=t%(this.width+1)&&!g(this.m[t]))return!1;return!0}isIdentity(e){return this.isLowerUnitriangular(e)&&this.isUpperTriangular(e)}isUpperTriangular(e=d){if(!this.isSquare())return!1;for(let t=1;t<this.height;t++)for(let r=0;r<t;r++)if(!g(this.m[t*this.width+r],e))return!1;return!0}isSymmetric(e=d){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let r=t+1;r<this.width;r++){const n=this.m[t*this.width+r],i=this.m[r*this.width+t];if(!p(n,i,e))return!1}return!0}solveLinearSystem(e){const{L:t,U:r,P:n}=this.luDecomposition(),i=t.solveForwards(n.timesVector(e));return r.solveBackwards(i)}isLowerUnitriangular(e=d){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let r=t;r<this.width;r++){const n=this.m[t*this.width+r];if(t==r?!p(1,n,e):!g(n,e))return!1}return!0}isLowerTriangular(e=d){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let r=t+1;r<this.width;r++)if(!g(this.m[t*this.width+r],e))return!1;return!0}solveBackwards(e){this.height,e.dim(),this.isUpperTriangular(),this.str;const t=new Float64Array(this.width);let r=this.height;for(;r--;){let n=e.v[r];for(let e=r+1;e<this.width;e++)n-=t[e]*this.e(r,e);t[r]=n/this.e(r,r)}return new h(t)}solveBackwardsMatrix(e){const t=Array(e.width);let r=e.width;for(;r--;)t[r]=this.solveBackwards(e.col(r));return c.fromColVectors(t)}solveForwardsMatrix(e){const t=Array(e.width);let r=e.width;for(;r--;)t[r]=this.solveForwards(e.col(r));return c.fromColVectors(t)}solveForwards(e){this.height,e.dim(),this.toString();const t=new Float64Array(this.width);for(let r=0;r<this.height;r++){let n=e.v[r];for(let e=0;e<r;e++)n-=t[e]*this.e(r,e);t[r]=n/this.e(r,r)}return new h(t)}rank(){const e=this.gauss().U;let t=this.height;for(;t--&&e.row(t).isZero(););return t+1}rowsIndependent(){return this.height==this.rank()}colsIndependent(){return this.width==this.rank()}asRowArrays(e=Float64Array){return D(this.height,t=>this.rowArray(t,e))}asColArrays(e=Float64Array){return D(this.width,t=>this.colArray(t,e))}rowArray(e,t=Float64Array){const r=new t(this.width);return F(this.m,e*this.width,r,0,this.width)}colArray(e,t=Float64Array){const r=new t(this.width);return A(this.m,e,this.height,r,0,1,this.height),r}subMatrix(e,t,r,n){e+t<=this.width&&this.height;const i=new Float64Array(t*n);return function(e,t,r,n,i,o,a,s){for(let i=0;i<s;i++)F(e,t+r*i,n,0+o*i,a)}(this.m,e,this.width,i,0,t,n,t),new c(t,n,i)}map(e){return new c(this.width,this.height,this.m.map(e))}dimEquals(e){return this.width==e.width&&this.height==e.height}inversed(){if(this.isSquare()){if(2==this.width)return this.inversed2();if(3==this.width)return this.inversed3();if(4==this.width)return this.inversed4()}const{L:e,U:t,P:r}=this.luDecomposition(),n=e.solveForwardsMatrix(r);return t.solveBackwardsMatrix(n)}inversed2(){const e=c.forWidthHeight(2,2),t=this.m,r=e.m,n=t[0]*t[3]-t[1]*r[2];return r[0]=t[3]/n,r[1]=-t[2]/n,r[2]=-t[1]/n,r[3]=t[0]/n,e}inversed3(e=c.forWidthHeight(3,3)){const t=this.m,r=e.m;r[0]=t[4]*t[8]-t[5]*t[7],r[1]=-t[1]*t[8]+t[2]*t[7],r[2]=t[1]*t[5]-t[2]*t[4],r[3]=-t[3]*t[8]+t[5]*t[6],r[4]=t[0]*t[8]-t[2]*t[6],r[5]=-t[0]*t[5]+t[2]*t[3],r[6]=t[3]*t[7]-t[4]*t[6],r[7]=-t[0]*t[7]+t[1]*t[6],r[8]=t[0]*t[4]-t[1]*t[3];const n=t[0]*r[0]+t[1]*r[3]+t[2]*r[6];let i=9;for(;i--;)r[i]/=n;return e}inversed4(e=c.forWidthHeight(4,4)){const t=this.m,r=e.m;r[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],r[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],r[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],r[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],r[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],r[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],r[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],r[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],r[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],r[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],r[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],r[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],r[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],r[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],r[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],r[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];const n=t[0]*r[0]+t[1]*r[4]+t[2]*r[8]+t[3]*r[12];let i=16;for(;i--;)r[i]/=n;return e}canMultiply(e){return this.width==e.height}times(e){this.canMultiply(e);const t=e.width,r=this.height,n=this.width,i=new Float64Array(t*r);let o=r;for(;o--;){let r=t;for(;r--;){let a=0,s=n;for(;s--;)a+=this.m[o*n+s]*e.m[s*t+r];i[o*t+r]=a}}return new c(t,r,i)}timesVector(e){this.width,e.dim();const t=this.height,r=this.width,n=new Float64Array(t);let i=t;for(;i--;){let t=0,o=r;for(;o--;)t+=this.m[i*r+o]*e.v[o];n[i]=t}return new h(n)}transposed(){const e=this.height,t=this.width,r=new Float64Array(e*t);let n=t;for(;n--;){let i=e;for(;i--;)r[n*e+i]=this.m[i*t+n]}return new c(e,t,r)}transpose(){const e=this.height,t=this.width,r=this.m;let n=e;for(;n--;){let i=Math.min(n,t);for(;i--;){const o=r[n*t+i];r[n*t+i]=r[i*e+n],r[i*e+n]=o}}this.width=e,this.height=t}isSquare(){return this.height==this.width}diagonal(){if(!this.isSquare())throw Error("!!");const e=new Float64Array(this.width);let t=this.width*(this.width+1),r=this.width;for(;r--;)t-=this.width+1,e[r]=this.m[t];return new h(e)}maxEl(){return Math.max.apply(void 0,this.m)}minEl(){return Math.min.apply(void 0,this.m)}maxAbsColSum(){let e=0,t=this.width;for(;t--;){let r=0,n=this.height;for(;n--;)r+=Math.abs(this.m[n*this.width+t]);e=Math.max(e,r)}return e}maxAbsRowSum(){let e=0,t=this.height;for(;t--;){let r=0,n=this.width;for(;n--;)r+=Math.abs(this.m[t*this.width+n]);e=Math.max(e,r)}return e}getTriangularDeterminant(){this.isUpperTriangular()||this.isLowerTriangular();let e=1,t=this.width*(this.width+1);for(;t;)t-=this.width+1,e*=this.m[t];return e}getDeterminant(){return this.luDecomposition().U.getTriangularDeterminant()}hasFullRank(){return Math.min(this.width,this.height)==this.rank()}permutationAsIndexMap(){const e=Array(this.height);let t=this.height;for(;t--;){const r=t*this.width;let n=r;for(;this.m[n]<.5;)n++;e[t]=n-r}return e}getDependentRowIndexes(e=this.gauss()){const{L:t,U:r,P:n}=e,i=Array(this.height);let o=this.height;for(;o--&&r.row(o).length()<d;)i[o]=!0;let a=this.height;for(;a--;)if(i[a]){let e=Math.min(a,this.width);for(;e--;)0!==t.e(a,e)&&(i[e]=!0)}console.log("m\n",this.toString(e=>""+e)),console.log("L\n",t.toString(e=>""+e)),console.log("U\n",r.toString(e=>""+e)),console.log("P\n",n.toString(e=>""+e));const s=n.permutationAsIndexMap();return i.map((e,t)=>e&&s[t]).filter(e=>null!=e)}lerp(e,t,r=this.new()){this.width==e.width&&(this.height,e.height);const n=1-t;let i=this.m.length;for(;i--;)r.m[i]=n*this.m[i]+t*e.m[i];return r}}const d=1/(1<<26);function m(e,t,r){return e*(1-r)+t*r}console.log("NLA_PRECISION",d),console.log("NLA_DEBUG",!1);const f=Number.prototype.toString;Number.prototype.toString=function(e){return 3.141592653589793==this?"PI":f.call(this,e)};const g=(e,t=d)=>Math.abs(e)<=t,p=(e,t,r=d)=>Math.abs(e-t)<=r,B=(e,t,r=d)=>e-t<-r,w=p;function y(e,t,r){if(void 0===r||0==+r)return e(t);if(r=+r,isNaN(t=+t)||"number"!=typeof r||r%1!=0)return NaN;let n=t.toString().split("e");return+((n=(t=e(+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"))[0]+"e"+(n[1]?+n[1]+r:r))}function E(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function F(e,t,r,n,i){for(n+=i,i+=t;i-- >t;)r[--n]=e[i];return r}function C(e,t,r){return Math.max(t,Math.min(r,e))}function A(e,t,r,n,i,o,a){let s=t+a*r,l=i+a*o;for(;s>t;)n[l-=o]=e[s-=r]}function D(e,t){const r=Array(e);let n=e;for(;n--;)r[n]=t(n,e);return r}function G(e,t,...r){Object.getOwnPropertyNames(t).forEach(n=>{r.includes(n)||(e.hasOwnProperty(n)&&console.warn("target ",e," already has property ",n,e[n]),Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n)))})}y.bind(void 0,Math.round),y.bind(void 0,Math.floor),y.bind(void 0,Math.ceil);let x=e=>e;const v=.017453292519943295;function M(e){switch(typeof e){case"undefined":return"undefined";case"function":return e.toString();case"number":return""+e;case"string":return JSON.stringify(e);case"object":return null==e?"null":e.sce;default:throw Error()}}function b(e,...t){return e+"("+t.map(M).join(",")+")"}Object.map=function(e,t,r){const n={};for(const i in e)n[i]=t.call(r,e[i],i,e);return n},Array.prototype.emod=function(e){return this[e%this.length]},Array.prototype.sliceStep=function(e,t,r,n=1){e<0&&(e=this.length+e),t<=0&&(t=this.length+t);const i=Array(Math.ceil((t-e)/r));let o=0;for(let a=e;a<t;a+=r)for(let e=a;e<Math.min(a+n,t);e++)i[o++]=this[e];return i},Array.prototype.splicePure=function(e=0,t=0,...r){const n=this.length,i=t<0?0:t;let o;o=e<0?Math.abs(e)>n?0:n+e:e>n?n:e;const a=this.length-i+r.length,s=Array(a);let l=a,h=this.length;for(;h-- >o+i;)s[--l]=this[h];for(h=r.length;h--;)s[--l]=r[h];for(h=o;h--;)s[--l]=r[h];return s},Array.prototype.equals=function(e){if(this===e)return!0;if(Object.getPrototypeOf(e)!==Array.prototype)return!1;if(this.length!==e.length)return!1;for(let n=0;n<this.length;n++)if(t=this[n],r=e[n],!("object"==typeof t?t.equals(r):t===r))return!1;var t,r;return!0},Array.prototype.hashCode=function(){let e=0;for(let r=0;r<this.length;r++)e=31*e+("number"==typeof(t=this[r])||void 0===t?0|t:null===t?0:t.hashCode())|0;var t;return 0|e},Array.prototype.mapFilter=function(e){const t=this.length,r=[];for(let n=0;n<t;n++)if(n in this){const t=e(this[n],n,this);t&&r.push(t)}return r},Array.prototype.flatMap=function(e){return Array.prototype.concat.apply([],this.map(e))},Array.prototype.clear=function(...e){return this.splice(0,this.length,...e)},Array.prototype.concatenated=function(){return Array.prototype.concat.apply([],this)},Array.prototype.min=function(){let e=this.length,t=1/0;for(;e--;){const r=this[e];t>r&&(t=r)}return t},Array.prototype.max=function(){let e=this.length,t=-1/0;for(;e--;){const r=this[e];t<r&&(t=r)}return t},Array.prototype.indexWithMax=function(e){if(0==this.length)return-1;let t=this.length,r=-1,n=-1/0;for(;t--;){const i=e(this[t],t,this);i>n&&(n=i,r=t)}return r},Array.prototype.withMax=function(e){let t=this.length,r=void 0,n=-1/0;for(;t--;){const i=this[t],o=e(i,t,this);o>n&&(n=o,r=i)}return r},Array.prototype.absSum=function(){let e=this.length,t=0;for(;e--;)t+=Math.abs(this[e]);return t},Array.prototype.sum=function(){let e=this.length,t=0;for(;e--;)t+=this[e];return t},Array.prototype.sumInPlaceTree=function(){if(0==this.length)return 0;let e=this.length;for(;1!=e;){const t=Math.floor(e/2),r=Math.ceil(e/2);for(let e=0;e<t;e++)this[e]+=this[e+r];e=r}return this[0]},Array.prototype.isEmpty=function(){return 0==this.length},Array.prototype.unique=function(){const e=new Set(this);return Array.from(e)},Array.prototype.remove=function(e){const t=this.indexOf(e);return-1!=t&&(this.splice(t,1),!0)},Array.prototype.removeIndex=function(e){const t=this[e];return this.splice(e,1),t},Array.prototype.bagRemoveIndex=function(e){const t=this[e];return e==this.length-1?this.pop():this[e]=this.pop(),t},Array.prototype.removeMatch=function(e){const t=this.findIndex(e);if(-1!=t)return this.removeIndex(t)},Array.prototype.removeAll=function(e){let t=e.length;for(;t--;)this.remove(e[t])},Array.prototype.toggle=function(e){const t=this.indexOf(e);return-1!=t?(this.splice(t,1),!1):(this.push(e),!0)},Array.prototype.bagToggle=function(e){const t=this.indexOf(e);return-1!=t?(this.bagRemoveIndex(t),!1):(this.push(e),!0)},Array.prototype.binaryIndexOf=function(e,t=((e,t)=>e-t)){let r,n,i=0,o=this.length-1;for(;i<=o;)if(t(n=this[r=(i+o)/2|0],e)<0)i=r+1;else{if(!(t(n,e)>0))return r;o=r-1}return-i-1},Array.prototype.binaryInsert=function(e,t=((e,t)=>e-t)){let r,n,i=0,o=this.length;for(;i<o;)t(n=this[r=~~((i+o)/2)],e)<0?i=r+1:o=r;this.splice(i,0,e)},Array.prototype.firstUnsorted=function(e){for(let t=1;t<this.length;t++)if(e(this[t-1],this[t])>0)return t;return-1},Object.defineProperty(Array.prototype,"last",{get(){return this[this.length-1]},set(e){this[this.length-1]=e}}),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.equals=function(e){return this==e},Object.defineProperty(Object.prototype,"sce",{get:function(){return this.toSource()}}),Object.defineProperty(Object.prototype,"str",{get:function(){return this.toString()}});class R{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static random(){return new R(Math.random(),Math.random(),Math.random())}static parallel(e,t){return e.dot(t)-e.length()*t.length()}static randomUnit(){const e=2*Math.random()*Math.PI,t=2*Math.random()-1,r=Math.sqrt(1-Math.pow(t,2));return new R(r*Math.cos(e),r*Math.sin(e),t)}static fromAngles(e,t){throw Error()}static fromFunction(e){return new R(e(0),e(1),e(2))}static min(e,t){return new R(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.min(e.z,t.z))}static max(e,t){return new R(Math.max(e.x,t.x),Math.max(e.y,t.y),Math.max(e.z,t.z))}static lerp(e,t,r){return new R(e.x*(1-r)+t.x*r,e.y*(1-r)+t.y*r,e.z*(1-r)+t.z*r)}static fromArray(e){return new R(e[0],e[1],e[2])}static angleBetween(e,t){return e.angleTo(t)}static zip(e,...t){return new R(e.apply(void 0,t.map(e=>e.x)),e.apply(void 0,t.map(e=>e.y)),e.apply(void 0,t.map(e=>e.z)))}static normalOnPoints(e,t,r){return e.to(t).cross(e.to(r))}static add(...e){let t=0,r=0,n=0,i=e.length;for(;i--;)t+=e[i].x,r+=e[i].y,n+=e[i].z;return new R(t,r,n)}static sub(...e){let t=e[0].x,r=e[0].y,n=e[0].z,i=e.length;for(;i--;)t-=e[i].x,r-=e[i].y,n-=e[i].z;return new R(t,r,n)}static pack(e,t,r=0,n=0,i=e.length-r){const o=t||new Float32Array(3*i);o.length,o.length;let a=i,s=r,l=n;for(;a--;){const t=e[s++];o[l++]=t.x,o[l++]=t.y,o[l++]=t.z}return o}static unpack(e,t,r=0,n=0,i=(e.length-r)/3){(t=t||Array(i)).length;let o=i,a=r,s=n;for(;o--;)t[s++]=new R(e[a++],e[a++],e[a++]);return t}static packXY(e,t,r=0,n=0,i=e.length-r){const o=t||new Float32Array(2*i);o.length;let a=i,s=r,l=n;for(;a--;){const t=e[s++];o[l++]=t.x,o[l++]=t.y}return o}static unpackXY(e,t,r=0,n=0,i=Math.min(e.length/2,t&&t.length||1/0)-n){(t=t||Array(i)).length,e.length;let o=i,a=r,s=n;for(;o--;)t[s++]=new R(e[a++],e[a++],0);return t}static perturbed(e,t){return e.perturbed(t)}static polar(e,t,r=0){return new R(e*Math.cos(t),e*Math.sin(t),r)}static sphere(e,t,r=1){return new R(r*Math.cos(t)*Math.cos(e),r*Math.cos(t)*Math.sin(e),r*Math.sin(t))}static inverseLerp(e,t,r){const n=e.to(t);return e.to(r).dot(n)/n.squared()}get 0(){return this.x}get 1(){return this.y}get 2(){return this.z}get u(){return this.x}get v(){return this.y}perturbed(e=.8*d){return this.map(t=>t+(Math.random()-.5)*e)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}e(e){return 0==e?this.x:1==e?this.y:this.z}negated(){return new R(-this.x,-this.y,-this.z)}abs(){return new R(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}plus(e){return new R(this.x+e.x,this.y+e.y,this.z+e.z)}schur(e){return new R(this.x*e.x,this.y*e.y,this.z*e.z)}divv(e){return new R(this.x/e.x,this.y/e.y,this.z/e.z)}minus(e){return new R(this.x-e.x,this.y-e.y,this.z-e.z)}to(e){return e.minus(this)}times(e){return new R(this.x*e,this.y*e,this.z*e)}div(e){return new R(this.x/e,this.y/e,this.z/e)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lerp(e,t){return R.lerp(this,e,t)}squared(){return this.dot(this)}distanceTo(e){return Math.hypot(this.x-e.x,this.y-e.y,this.z-e.z)}distanceToSquared(e){return this.minus(e).squared()}toSource(){return R.NAMEMAP.get(this)||this.toString()}nonParallelVector(){const e=this.abs();return e.x<=e.y&&e.x<=e.z?R.X:e.y<=e.x&&e.y<=e.z?R.Y:R.Z}slerp(e,t){const r=Math.sin,n=this.angleTo(e);return this.times(r((1-t)*n)/r(n)).plus(e.times(r(t*n)/r(n)))}min(e){return new R(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z))}max(e){return new R(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z))}equals(e){return this==e||this.x==e.x&&this.y==e.y&&this.z==e.z}cross(e){return new R(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}minElement(){return Math.min(this.x,this.y,this.z)}maxElement(){return Math.max(this.x,this.y,this.z)}toArray(e=3){return[this.x,this.y,this.z].slice(0,e)}getPerpendicular(){if(g(this.x)&&g(this.y)){if(g(this.z))throw Error("zero vector");return R.Y}return new R(-this.y,this.x,0)}dim(){return 3}els(){return[this.x,this.y,this.z]}angleXY(){return Math.atan2(this.y,this.x)}lengthXY(){return Math.hypot(this.x,this.y)}squaredXY(){return this.x*this.x+this.y*this.y}xy(){return new R(this.x,this.y,0)}map(e){return new R(e(this.x,"x"),e(this.y,"y"),e(this.z,"z"))}toString(e){return e=e||x,R.NAMEMAP.get(this)||"V("+[this.x,this.y,this.z].map(e).join(", ")+")"}angleTo(e){return this.likeO(),e.likeO(),Math.acos(Math.min(1,this.dot(e)/this.length()/e.length()))}angleRelativeNormal(e,t){return Math.atan2(this.cross(e).dot(t),this.dot(e))}isParallelTo(e){this.likeO(),e.likeO();const t=this.dot(e);return p(this.squared()*e.squared(),t*t)}isPerpendicularTo(e){return this.likeO(),e.likeO(),g(this.dot(e))}isReverseDirTo(e){this.likeO(),e.likeO();const t=this.dot(e);return p(Math.sqrt(this.squared()*e.squared()),t)}length(){return Math.hypot(this.x,this.y,this.z)}likeO(){return this.like(R.O)}like(e){return e===this||e instanceof R&&p(this.x,e.x)&&p(this.y,e.y)&&p(this.z,e.z)}likeOrReversed(e){return p(Math.abs(this.dot(e)),Math.sqrt(this.squared()*e.squared()))}unit(){return this.likeO(),this.div(this.length())}normalized(){throw Error("documentation stub. use .unit()")}toLength(e){return this.times(e/this.length())}projectedOn(e){return e.times(this.dot(e)/e.dot(e))}rejectedFrom(e){return this.minus(e.times(this.dot(e)/e.dot(e)))}rejectedFrom1(e){return e.hasLength(1),this.minus(e.times(this.dot(e)))}rejectedLength(e){return Math.sqrt(this.dot(this)-Math.pow(this.dot(e),2)/e.dot(e))}rejected1Length(e){return e.hasLength(1),Math.sqrt(this.dot(this)-Math.pow(this.dot(e),2))}hasLength(e){return p(e,this.length())}absSum(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}minAbsElement(){return Math.min(Math.abs(this.x),Math.abs(this.y),Math.min(this.z))}maxAbsElement(){return Math.max(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}maxAbsDim(){const e=Math.abs(this.x),t=Math.abs(this.y),r=Math.abs(this.z);return e>=t?e>=r?0:2:t>=r?1:2}minAbsDim(){const e=Math.abs(this.x),t=Math.abs(this.y),r=Math.abs(this.z);return e<t?e<r?0:2:t<r?1:2}withElement(e,t){return"x"==e?new R(t,this.y,this.z):"y"==e?new R(this.x,t,this.z):new R(this.x,this.y,t)}hashCode(){function e(e){return~~(e*(1<<28))}return~~(31*(31*e(this.x)+e(this.y))+e(this.z))}hashCodes(){const e=~~(31*(31*~~(this.x*(1<<28)-.5)+~~(this.y*(1<<28)-.5))+~~(this.z*(1<<28)-.5));return[~~e,~~(e+961),~~(e+31),~~(e+31+961),~~(e+1),~~(e+1+961),~~(e+1+31),~~(e+1+31+961)]}compareTo(e){return this.x!=e.x?this.x-e.x:this.y!=e.y?this.y-e.y:this.z-e.z}compareTo2(e,t=d){return w(this.x,e.x,t)?w(this.y,e.y,t)?w(this.z,e.z,t)?0:this.z-e.z:this.y-e.y:this.x-e.x}toAngles(){return{theta:Math.atan2(this.y,this.x),phi:Math.asin(this.z/this.length())}}}function S(e,t,r){if(3==arguments.length)return new R(parseFloat(e),parseFloat(t),parseFloat(r));if(2==arguments.length)return new R(parseFloat(e),parseFloat(t),0);if(1==arguments.length&&"object"==typeof e){if(e instanceof R)return e;if(e instanceof Array||e instanceof Float32Array||e instanceof Float64Array){if(2==e.length)return new R(parseFloat(e[0]),parseFloat(e[1]),0);if(3==e.length)return new R(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]))}else if("x"in e&&"y"in e)return new R(parseFloat(e.x),parseFloat(e.y),"z"in e?parseFloat(e.z):0)}throw Error("invalid arguments"+arguments)}R.O=new R(0,0,0),R.X=new R(1,0,0),R.Y=new R(0,1,0),R.Z=new R(0,0,1),R.XY=new R(1,1,0),R.XYZ=new R(1,1,1),R.INF=new R(1/0,1/0,1/0),R.UNITS=[R.X,R.Y,R.Z],R.NAMEMAP=(new l).set(R.O,"V3.O").set(R.X,"V3.X").set(R.Y,"V3.Y").set(R.Z,"V3.Z").set(R.XYZ,"V3.XYZ").set(R.INF,"V3.INF");const _={normal1:R.X,w:0},T={normal1:R.Y,w:0},P={normal1:R.Z,w:0};class O{mirror(e){return this.transform(L.mirror(e))}mirroredX(){return this.mirror(_)}mirrorY(){return this.mirror(T)}mirrorZ(){return this.mirror(P)}project(e){return this.transform(L.project(e))}projectXY(){return this.transform(L.project(P))}projectYZ(){return this.transform(L.project(_))}projectZX(){return this.transform(L.project(T))}translate(...e){return this.transform(L.translate.apply(void 0,e),b(".translate",...e))}scale(...e){return this.transform(L.scale.apply(void 0,e),b(".scale",...e))}rotateX(e){return this.transform(L.rotateX(e),`.rotateX(${e})`)}rotateY(e){return this.transform(L.rotateY(e),`.rotateY(${e})`)}rotateZ(e){return this.transform(L.rotateZ(e),`.rotateZ(${e})`)}rotate(e,t,r){return this.transform(L.rotateLine(e,t,r),b(".rotate",e,t,r))}rotateAB(e,t){return this.transform(L.rotateAB(e,t),b(".rotateAB",e,t))}eulerZXZ(e,t,r){throw Error()}shearX(e,t){return this.transform(new L([1,e,t,0,0,1,0,0,0,0,1,0,0,0,0,1]))}foo(){return this.transform(L.FOO)}bar(){return this.transform(L.BAR)}visit(e,...t){let r=Object.getPrototypeOf(this);for(;!e.hasOwnProperty(r.constructor.name)&&r!==O.prototype;)r=Object.getPrototypeOf(r);if(e.hasOwnProperty(r.constructor.name))return e[r.constructor.name].apply(this,t);throw Error("No implementation for "+this.constructor.name)}}const{PI:k,abs:V}=Math;class L extends c{constructor(...e){let t;if(0==arguments.length)t=new Float64Array(16);else{const e=Array.prototype.concat.apply([],arguments);e.length,e.length,t=new Float64Array(e)}super(4,4,t)}static inverse(e,t=new L){return e.inversed4(t)}static permutation4(e,t,r=new L){const n=r.m;return L.identity(r),n[4*e+e]=0,n[4*t+t]=0,n[4*e+t]=1,n[4*t+e]=1,r}static transpose(e,t=new L){const r=e.m,n=t.m;return n[0]=r[0],n[1]=r[4],n[2]=r[8],n[3]=r[12],n[4]=r[1],n[5]=r[5],n[6]=r[9],n[7]=r[13],n[8]=r[2],n[9]=r[6],n[10]=r[10],n[11]=r[14],n[12]=r[3],n[13]=r[7],n[14]=r[11],n[15]=r[15],t}static multiply(e,t,r=new L){const n=e.m,i=t.m,o=r.m;return o[0]=n[0]*i[0]+n[1]*i[4]+(n[2]*i[8]+n[3]*i[12]),o[1]=n[0]*i[1]+n[1]*i[5]+(n[2]*i[9]+n[3]*i[13]),o[2]=n[0]*i[2]+n[1]*i[6]+(n[2]*i[10]+n[3]*i[14]),o[3]=n[0]*i[3]+n[1]*i[7]+(n[2]*i[11]+n[3]*i[15]),o[4]=n[4]*i[0]+n[5]*i[4]+(n[6]*i[8]+n[7]*i[12]),o[5]=n[4]*i[1]+n[5]*i[5]+(n[6]*i[9]+n[7]*i[13]),o[6]=n[4]*i[2]+n[5]*i[6]+(n[6]*i[10]+n[7]*i[14]),o[7]=n[4]*i[3]+n[5]*i[7]+(n[6]*i[11]+n[7]*i[15]),o[8]=n[8]*i[0]+n[9]*i[4]+(n[10]*i[8]+n[11]*i[12]),o[9]=n[8]*i[1]+n[9]*i[5]+(n[10]*i[9]+n[11]*i[13]),o[10]=n[8]*i[2]+n[9]*i[6]+(n[10]*i[10]+n[11]*i[14]),o[11]=n[8]*i[3]+n[9]*i[7]+(n[10]*i[11]+n[11]*i[15]),o[12]=n[12]*i[0]+n[13]*i[4]+(n[14]*i[8]+n[15]*i[12]),o[13]=n[12]*i[1]+n[13]*i[5]+(n[14]*i[9]+n[15]*i[13]),o[14]=n[12]*i[2]+n[13]*i[6]+(n[14]*i[10]+n[15]*i[14]),o[15]=n[12]*i[3]+n[13]*i[7]+(n[14]*i[11]+n[15]*i[15]),r}static product(...e){const[t,r]=Array.isArray(e[0])?[e[0],e[1]]:[e,new L];if(0==t.length)return L.identity(r);if(1==t.length)return L.copy(t[0],r);if(2==t.length)return L.multiply(t[0],t[1],r);let n=L.temp0,i=L.temp1;L.multiply(t[0],t[1],n);for(let e=2;e<t.length-1;e++)L.multiply(n,t[e],i),[n,i]=[i,n];return L.multiply(n,t.last,r)}static forSys(e,t,r=e.cross(t),n=R.O){return new L(e.x,t.x,r.x,n.x,e.y,t.y,r.y,n.y,e.z,t.z,r.z,n.z,0,0,0,1)}static forRows(e,t,r,n=R.O){return new L(e.x,e.y,e.z,0,t.x,t.y,t.z,0,r.x,r.y,r.z,0,n.x,n.y,n.z,1)}static identity(e=new L){const t=e.m;return t[0]=t[5]=t[10]=t[15]=1,t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=t[14]=0,e}static fromFunction4(e,t=new L){const r=t.m;let n=16;for(;n--;)r[n]=e(Math.floor(n/4),n%4,n);return t}static perspective(e,t,r,n,i=new L){return L.perspectiveRad(e*v,t,r,n,i)}static perspectiveRad(e,t,r,n,i=new L){const o=Math.tan(e/2)*r,a=o*t;return L.frustum(-a,a,-o,o,r,n,i)}static perspectivePlane(e,t=new L){const r=t.m;return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e.normal1.x,r[13]=e.normal1.y,r[14]=e.normal1.z,r[15]=-e.w,t}static frustum(e,t,r,n,i,o,a=new L){const s=a.m;return s[0]=2*i/(t-e),s[1]=0,s[2]=(t+e)/(t-e),s[3]=0,s[4]=0,s[5]=2*i/(n-r),s[6]=(n+r)/(n-r),s[7]=0,s[8]=0,s[9]=0,s[10]=-(o+i)/(o-i),s[11]=-2*o*i/(o-i),s[12]=0,s[13]=0,s[14]=-1,s[15]=0,a}static projectPlanePoint(e,t,r=new L){t.normal1;const n=r.m,i=t.normal1,o=t.w,a=i.dot(e);return n[0]=e.x*i.x+o-a,n[1]=e.x*i.y,n[2]=e.x*i.z,n[3]=-o*e.x,n[4]=e.y*i.x,n[5]=e.y*i.y+o-a,n[6]=e.y*i.z,n[7]=-o*e.y,n[8]=e.z*i.x,n[9]=e.z*i.y,n[10]=e.z*i.z+o-a,n[11]=-o*e.z,n[12]=i.x,n[13]=i.y,n[14]=i.z,n[15]=-a,r}static ortho(e,t,r,n,i,o,a=new L){const s=a.m;return s[0]=2/(t-e),s[1]=0,s[2]=0,s[3]=-(t+e)/(t-e),s[4]=0,s[5]=2/(n-r),s[6]=0,s[7]=-(n+r)/(n-r),s[8]=0,s[9]=0,s[10]=-2/(o-i),s[11]=-(o+i)/(o-i),s[12]=0,s[13]=0,s[14]=0,s[15]=1,a}static scale(...e){let t,r,n,i;e[0]instanceof R?(e.length,({x:t,y:r,z:n}=e[0]),i=e[1]):"number"!=typeof e[1]?(t=r=n=e[0],i=e[1]):(e.length,t=e[0],r=e[1],n=null!=e[2]?e[2]:1,i=e[3]),null==i&&(i=new L);const o=i.m;return o[0]=t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=r,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,i}static translate(...e){let t,r,n,i;e[0]instanceof R?(e.length,({x:t,y:r,z:n}=e[0]),i=e[1]):(e.length,t=e[0],r=null!=e[1]?e[1]:0,n=null!=e[2]?e[2]:0,i=e[3]),null==i&&(i=new L);const o=i.m;return o[0]=1,o[1]=0,o[2]=0,o[3]=t,o[4]=0,o[5]=1,o[6]=0,o[7]=r,o[8]=0,o[9]=0,o[10]=1,o[11]=n,o[12]=0,o[13]=0,o[14]=0,o[15]=1,i}static rotate(e,t,r){null==r&&(r=new L);let{x:n,y:i,z:o}=t;new R(n,i,o).likeO();const a=r.m,s=Math.sqrt(n*n+i*i+o*o);n/=s,i/=s,o/=s;const l=Math.cos(e),h=Math.sin(e),u=1-l;return a[0]=n*n*u+l,a[1]=n*i*u-o*h,a[2]=n*o*u+i*h,a[3]=0,a[4]=i*n*u+o*h,a[5]=i*i*u+l,a[6]=i*o*u-n*h,a[7]=0,a[8]=o*n*u-i*h,a[9]=o*i*u+n*h,a[10]=o*o*u+l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,r}static lookAt(e,t,r,n=new L){const i=n.m,o=e.minus(t).unit(),a=r.cross(o).unit(),s=o.cross(a).unit();return i[0]=a.x,i[1]=a.y,i[2]=a.z,i[3]=-a.dot(e),i[4]=s.x,i[5]=s.y,i[6]=s.z,i[7]=-s.dot(e),i[8]=o.x,i[9]=o.y,i[10]=o.z,i[11]=-o.dot(e),i[12]=0,i[13]=0,i[14]=0,i[15]=1,n}static rotateX(e){const t=Math.sin(e),r=Math.cos(e);return new L([1,0,0,0,0,r,-t,0,0,t,r,0,0,0,0,1])}static rotateY(e){const t=Math.sin(e),r=Math.cos(e);return new L([r,0,t,0,0,1,0,0,-t,0,r,0,0,0,0,1])}static rotateZ(e){const t=Math.sin(e),r=Math.cos(e);return new L([r,-t,0,0,t,r,0,0,0,0,1,0,0,0,0,1])}static rotateAB(e,t,r=new L){const n=e.cross(t),i=n.length();if(g(i))return L.identity(r);const o=Math.atan2(i,e.dot(t));return L.rotateLine(R.O,n,o,r)}static rotateLine(e,t,r,n=new L){t=t.unit();const i=e.x,o=e.y,a=e.z,s=t.x,l=t.y,h=t.z,u=n.m,c=Math.cos(r),d=Math.sin(r);return u[0]=s*s+(l*l+h*h)*c,u[1]=s*l*(1-c)-h*d,u[2]=s*h*(1-c)+l*d,u[3]=(i*(l*l+h*h)-s*(o*l+a*h))*(1-c)+(o*h-a*l)*d,u[4]=s*l*(1-c)+h*d,u[5]=l*l+(s*s+h*h)*c,u[6]=l*h*(1-c)-s*d,u[7]=(o*(s*s+h*h)-l*(i*s+a*h))*(1-c)+(a*s-i*h)*d,u[8]=s*h*(1-c)-l*d,u[9]=l*h*(1-c)+s*d,u[10]=h*h+(s*s+l*l)*c,u[11]=(a*(s*s+l*l)-h*(i*s+o*l))*(1-c)+(i*l-o*s)*d,u[12]=0,u[13]=0,u[14]=0,u[15]=1,n}static mirror(e,t=new L){e.normal1;const[r,n,i]=e.normal1,o=e.w,a=t.m;return a[0]=1-2*r*r,a[1]=-2*n*r,a[2]=-2*i*r,a[3]=2*r*o,a[4]=-2*r*n,a[5]=1-2*n*n,a[6]=-2*i*n,a[7]=2*n*o,a[8]=-2*r*i,a[9]=-2*n*i,a[10]=1-2*i*i,a[11]=2*i*o,a[12]=0,a[13]=0,a[14]=0,a[15]=1,t}static project(e,t=e.normal1,r=new L){e.normal1;const n=e.w,i=r.m,o=e.normal1.dot(t),{x:a,y:s,z:l}=e.normal1,{x:h,y:u,z:c}=t.div(o);return i[0]=1-a*h,i[1]=-s*h,i[2]=-l*h,i[3]=h*n,i[4]=-a*u,i[5]=1-s*u,i[6]=-l*u,i[7]=u*n,i[8]=-a*c,i[9]=-s*c,i[10]=1-l*c,i[11]=c*n,i[12]=0,i[13]=0,i[14]=0,i[15]=1,r}static lineProjection(e,t=new L){e.anchor,e.dir1;const r=e.anchor.x,n=e.anchor.y,i=e.anchor.z,o=e.dir1.x,a=e.dir1.y,s=e.dir1.z,l=t.m;return l[0]=o*o,l[1]=o*a,l[2]=o*s,l[3]=r,l[4]=a*o,l[5]=a*a,l[6]=a*s,l[7]=n,l[8]=s*o,l[9]=s*a,l[10]=s*s,l[11]=i,l[12]=0,l[13]=0,l[14]=0,l[15]=1,t}static pointInversion(e,t=new L){const r=t.m;return r[0]=-1,r[1]=0,r[2]=0,r[3]=2*e.x,r[4]=0,r[5]=-1,r[6]=0,r[7]=2*e.y,r[8]=0,r[9]=0,r[10]=-1,r[11]=2*e.z,r[12]=0,r[13]=0,r[14]=0,r[15]=1,t}static new(e,t,r){return new L(...r)}get X(){return this.transformVector(R.X)}get Y(){return this.transformVector(R.Y)}get Z(){return this.transformVector(R.Z)}get O(){return this.getTranslation()}isMirror(e=d){const t=this.m,r=Math.sqrt((1-t[0])/2),n=Math.sqrt((1-t[5])/2),i=Math.sqrt((1-t[10])/2);return p(t[1],-2*n*r,e)&&p(t[2],-2*i*r,e)&&p(t[4],-2*r*n,e)&&p(t[6],-2*i*n,e)&&p(t[8],-2*r*i,e)&&p(t[9],-2*n*i,e)&&p(t[12],0,e)&&p(t[13],0,e)&&p(t[14],0,e)&&p(t[15],1,e)&&p(t[3]*n,t[7]*r,e)&&p(t[7]*i,t[11]*n,e)&&p(t[11]*r,t[3]*i,e)}inversed(e){return L.inverse(this,e)}trace(){return this.m[0]+this.m[5]+this.m[10]+this.m[15]}as3x3(e){const t=(e=L.copy(this,e)).m;return t[3]=t[7]=t[11]=t[12]=t[13]=t[14]=0,t[15]=1,e}transform(e){return e.times(this)}realEigenValues3(){const e=this.m;0==e[12]&&0==e[13]&&e[14];const[t,r,n,,i,o,a,,s,l,h]=e,u=t+o+h,c=-t*o-t*h+r*i+n*s-o*h+a*l,m=t*(o*h-a*l)-r*(i*h-a*s)+n*(i*l-o*s);return console.log(-1,u,c,m),function(e,t,r,n){if(g(e))return g(t)?[-n/r]:function(e,r){const i=e*e/4-n/t;if(i<-d)return[];if(i<=d)return[-e/2];{const t=Math.sqrt(i);return[-e/2-t,-e/2+t]}}(r/t);const i=e;e=t/i;const o=(3*(t=r/i)-e*e)/3/3,a=o*o*o,s=(2*e*e*e-9*e*t+27*(r=n/i))/27,l=s/2,h=l*l+a;if(h<-d/8){const t=Math.sqrt(-a),r=-s/(2*t),n=Math.acos(r<-1?-1:r>1?1:r),i=2*Math.cbrt(t);return[i*Math.cos(n/3)-e/3,i*Math.cos((n+2*Math.PI)/3)-e/3,i*Math.cos((n+4*Math.PI)/3)-e/3]}if(h<=d/8){if(0==l)return[-e/3];const t=l<0?Math.cbrt(-l):-Math.cbrt(l);return[2*t-e/3,-t-e/3]}{const t=Math.sqrt(h);return[Math.cbrt(-l+t)-Math.cbrt(l+t)-e/3]}}(-1,u,c,m)}realEigenVectors3(){const e=this.realEigenValues3(),t=this.times(L.IDENTITY3);console.log(this.toString()),console.log(t.toString());let r=e.map(e=>L.IDENTITY3.scale(-e).plus(t));if(console.log(r.map(e=>e.determinant3())),console.log(r.map(e=>""+e.toString(e=>""+e)).join("\n\n")),console.log(r.map(e=>""+e.gauss().U.toString(e=>""+e)).join("\n\n")),console.log("mats.map(m=>m.rank())",r.map(e=>e.rank())),1==e.length)return console.log(r[0].toString()),D(3,e=>new R(this.m[e],this.m[4+e],this.m[8+e]));if(2==e.length){1==r[0].rank()&&(r=[r[1],r[0]]);const e=r[0].gauss().U,t=e.row(0).cross(e.row(1)).V3().unit(),n=r[1].gauss().U.row(0).V3(),i=n.getPerpendicular().unit(),o=t.cross(i).rejectedFrom(n);return[t,i,o]}if(3==e.length)return r.forEach((e,t)=>(e.rank(),e.rank(),!0)),r.map(e=>{const t=e.gauss().U;return t.row(0).cross(t.row(1)).V3().unit()});throw Error("there cannot be more than 3 eigen values")}svd3(){function e(e,t,r,n){const i=L.identity();return i.setEl(e,e,r),i.setEl(t,t,r),i.setEl(e,t,n),i.setEl(t,e,-n),i}const t=this.as3x3();let r=t.transposed().times(t),n=L.identity();console.log(r.str);for(let i=0;i<16;i++){console.log("blahg\n",n.times(r).times(n.transposed()).str),n.times(r).times(n.transposed()).likeM4(t.transposed().times(t)),n.times(r).times(n.transposed()).str,t.transposed().times(t).str;let i=0,o=1,a=10;for(;a--;){const e=Math.abs(r.m[a]);a%4!=Math.floor(a/4)&&e>i&&(i=e,o=a)}const s=Math.floor(o/4),l=o%4,h=r.m[5*s],u=r.m[5*l],c=r.m[o],d=h===u?k/4:Math.atan(2*c/(h-u))/2;console.log(o,s,l,"phi",d);const m=e(s,l,Math.cos(d),-Math.sin(d));m.transposed().times(m).likeIdentity(),console.log(m.str),n=n.times(m),r=L.product(m.transposed(),r,m),console.log(r.str)}const i=r.map((e,t)=>t%5==0?Math.sqrt(e):0);return{U:L.product(t,n,i.map((e,t)=>t%5==0?1/e:0)),SIGMA:i,VSTAR:n.transposed()}}map(e){return L.fromFunction4((t,r,n)=>e(this.m[n],n,this.m))}likeM4(e){return this.m.every((t,r)=>p(t,e.m[r]))}transposed(e){return L.transpose(this,e)}times(e){return L.multiply(this,e)}vanishingPoint(e){const t=this.m,r=e.x,n=e.y,i=e.z,o=r*t[12]+n*t[13]+i*t[14];if(g(o))return;const a=r*t[0]+n*t[1]+i*t[2],s=r*t[4]+n*t[5]+i*t[6],l=r*t[8]+n*t[9]+i*t[10];return new R(a/o,s/o,l/o)}transformPoint(e){const t=this.m,r=e.x,n=e.y,i=e.z,o=r*t[0]+n*t[1]+i*t[2]+t[3],a=r*t[4]+n*t[5]+i*t[6]+t[7],s=r*t[8]+n*t[9]+i*t[10]+t[11],l=r*t[12]+n*t[13]+i*t[14]+t[15];return new R(o/l,a/l,s/l)}transformVector(e,t=!0){const r=this.m;return e.x,r[12],e.y,r[13],e.z,r[14],new R(r[0]*e.x+r[1]*e.y+r[2]*e.z,r[4]*e.x+r[5]*e.y+r[6]*e.z,r[8]*e.x+r[9]*e.y+r[10]*e.z)}transformVector2(e,t){const r=this.timesVector(u(t.x,t.y,t.z,1)),n=this.timesVector(u(e.x,e.y,e.z,0));return n.times(r.w).minus(r.times(n.w)).div(Math.pow(r.w,2)).V3()}transformedPoints(e){return e.map(e=>this.transformPoint(e))}transformedVectors(e){return e.map(e=>this.transformVector(e))}new(){return new L}isRegular(){return!g(this.determinant())}isAxisAligned(){const e=this.m;return 1>=+!g(e[0])+ +!g(e[1])+ +!g(e[2])&&1>=+!g(e[4])+ +!g(e[5])+ +!g(e[6])&&1>=+!g(e[8])+ +!g(e[9])+ +!g(e[10])}isOrthogonal(){return L.transpose(this,L.temp0),L.multiply(this,L.temp0,L.temp1),L.IDENTITY.likeM4(L.temp1)}isSymmetric(){return L.transpose(this,L.temp0),this.likeM4(L.temp0)}isNormal(){return L.transpose(this,L.temp0),L.multiply(this,L.temp0,L.temp1),L.multiply(L.temp0,this,L.temp2),L.temp1.likeM4(L.temp2)}determinant(){const e=this.m,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],h=e[8],u=e[9],c=e[10],d=e[11],m=e[12],f=e[13],g=e[14],p=e[15],B=c*p-d*g,w=u*p-d*f,y=u*g-c*f,E=h*p-d*m,F=h*g-c*m,C=h*f-u*m;return t*(a*B-s*w+l*y)-r*(o*B-s*E+l*F)+n*(o*w-a*E+l*C)-i*(o*y-a*F+s*C)}determinant3(){const[e,t,r,,n,i,o,,a,s,l]=this.m;return e*(i*l-o*s)-t*(n*l-o*a)+r*(n*s-i*a)}isMirroring(){return this.determinant()<0}getTranslation(){const e=this.m,t=e[15];return new R(e[3]/t,e[7]/t,e[11]/t)}normalized(){const e=V(this.determinant());return 1==e?this:this.divScalar(Math.pow(e,.25))}normalized2(){const e=this.m[15];return 1==e?this:this.divScalar(Math.pow(e,.25))}like3x3(){const e=this.m;return p(1,e[15])&&g(e[12])&&g(e[13])&&g(e[14])&&g(e[3])&&g(e[7])&&g(e[11])}isNoProj(){const e=this.m;return 0==e[12]&&0==e[13]&&0==e[14]&&1==e[15]}likeIdentity(){return this.m.every((e,t)=>(t/4|0)==t%4?p(1,e):g(e))}isIdentity(){return this.m.every((e,t)=>(t/4|0)==t%4?1==e:0==e)}toString(e=(e=>e.toFixed(6).replace(/([0.])(?=0*$)/g," "))){e(0),e(0);const t=Array.prototype.slice.call(this.m).map(e),r=[0,1,2,3].map(e=>t.sliceStep(e,0,4).map(e=>e.length).max());return[0,1,2,3].map(e=>t.slice(4*e,4*e+4).map((e,t)=>" ".repeat(r[t]-e.length)+e).join(" ")).join("\n")}isTranslation(){return[1,0,0,2,0,1,0,2,0,0,1,2,0,0,0,1].every((e,t)=>2==e||e==this.m[t])}isScaling(){return[2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,1].every((e,t)=>2==e||e==this.m[t])}isZRotation(){return[2,2,0,0,2,2,0,0,0,0,1,0,0,0,0,1].every((e,t)=>2==e||e==this.m[t])&&p(1,Math.pow(this.m[0],2)+Math.pow(this.m[1],2))&&this.m[0]==this.m[5]&&this.m[1]==-this.m[4]}toSource(){const e=L.NAMEMAP.get(this);if(e)return e;if(this.isTranslation())return b("M4.translate",this.O);if(this.isScaling())return b("M4.scale",this.m[0],this.m[5],this.m[10]);if(this.isNoProj())return this.O.equals(R.O)?b("M4.forSys",this.X,this.Y,this.Z):b("M4.forSys",this.X,this.Y,this.Z,this.O);if(this.isMirror(0)){const e=this.m,t=Math.sqrt((1-e[0])/2),r=Math.sqrt((1-e[5])/2),n=Math.sqrt((1-e[10])/2),i=e[3]/2/t;return b("M4.mirror",{normal1:new R(t,r,n),w:i})}{const e=this.m;return"new M4(\n\t"+e[0]+",\t"+e[1]+",\t"+e[2]+",\t"+e[3]+",\n\t"+e[4]+",\t"+e[5]+",\t"+e[6]+",\t"+e[7]+",\n\t"+e[8]+",\t"+e[9]+",\t"+e[10]+",\t"+e[11]+",\n\t"+e[12]+",\t"+e[13]+",\t"+e[14]+",\t"+e[15]+")"}}xyAreaFactor(){return this.transformVector(R.X).cross(this.transformVector(R.Y)).length()}}L.FOO=new L(0,1,1,2,.3,.4,.8,13,2.1,3.4,5.5,8.9,0,0,0,1),L.BAR=L.FOO.inversed(),L.IDENTITY=L.identity(),L.YZX=L.forSys(R.Y,R.Z,R.X),L.ZXY=L.forSys(R.Z,R.X,R.Y),L.IDENTITY3=new L(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0),L.temp0=new L,L.temp1=new L,L.temp2=new L,L.NAMEMAP=(new l).set(L.IDENTITY3,"M4.IDENTITY3").set(L.FOO,"M4.FOO").set(L.BAR,"M4.BAR").set(L.IDENTITY,"M4.IDENTITY").set(L.ZXY,"M4.ZXY").set(L.YZX,"M4.YZX"),L.prototype.height=4,L.prototype.width=4,G(L.prototype,O.prototype,"constructor");const Y=/^(abstract|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|undefined|var|void|volatile|while|with)$/,I=[];function N(e,t=0){return void 0===e?"undefined":null===e?"null":e.toSource()}function z(e,t){e.prototype.toSource||Object.defineProperty(e.prototype,"toSource",{value:t,writable:!0,configurable:!0,enumerable:!1})}z(Boolean,Boolean.prototype.toString),z(Function,Function.prototype.toString),z(Number,Number.prototype.toString),z(RegExp,RegExp.prototype.toString),z(Date,function(){return"new Date("+this.getTime()+")"}),z(String,function(){return JSON.stringify(this)}),z(Array,function(){if(I.includes(this))return"CIRCULAR_REFERENCE";I.push(this);let e="[";for(let t=0;t<this.length;t++)e+="\n\t"+N(this[t]).replace(/\r\n|\n|\r/g,"$&\t"),t!==this.length-1&&(e+=",");return e+=0===this.length?"]":"\n]",I.pop(),e}),z(Object,function(){if(I.includes(this))return"CIRCULAR_REFERENCE";I.push(this);let e="{";const t=Object.keys(this).sort();for(let n=0;n<t.length;n++){const i=t[n];e+="\n\t"+(/^[a-z_$][0-9a-z_$]*$/gi.test(r=i)&&!Y.test(r)?i:JSON.stringify(i))+": "+N(this[i]).replace(/\r\n|\n|\r/g,"$&\t"),n!==t.length-1&&(e+=",")}var r;return e+=0===t.length?"}":"\n}",I.pop(),e});class W extends O{constructor(e=R.INF,t=R.INF.negated()){super(),this.min=e,this.max=t}static forXYZ(e,t,r){return new W(R.O,new R(e,t,r))}static forAABBs(e){const t=new W;for(const r of e)t.addAABB(r);return t}addPoint(e){return this.min=this.min.min(e),this.max=this.max.max(e),this}addPoints(e){return e.forEach(e=>this.addPoint(e)),this}addAABB(e){return this.addPoint(e.min),this.addPoint(e.max),this}withoutAABB(e){let t,r;const n=this.volume(),i=this.size();let o=-1/0;for(let a=0;a<3;a++){const s=["x","y","z"][a],l=e.min[s]-this.min[s]>this.max[s]-e.max[s],h=l?this.min[s]:Math.max(this.min[s],e.max[s]),u=l?Math.min(this.max[s],e.min[s]):this.max[s],c=(u-h)*n/i[s];c>o&&(o=c,t=this.min.withElement(s,h),r=this.max.withElement(s,u))}return new W(t,r)}getIntersectionAABB(e){return new W(this.min.max(e.min),this.max.min(e.max))}touchesAABB(e){return!(this.min.x>e.max.x||this.max.x<e.min.x||this.min.y>e.max.y||this.max.y<e.min.y||this.min.z>e.max.z||this.max.z<e.min.z)}touchesAABBfuzzy(e,t=d){return!(B(e.max.x,this.min.x,t)||B(this.max.x,e.min.x,t)||B(e.max.y,this.min.y,t)||B(this.max.y,e.min.y,t)||B(e.max.z,this.min.z,t)||B(this.max.z,e.min.z,t))}intersectsAABB(e){return!(this.min.x>=e.max.x||this.max.x<=e.min.x||this.min.y>=e.max.y||this.max.y<=e.min.y||this.min.z>=e.max.z||this.max.z<=e.min.z)}intersectsAABB2d(e){return!(this.min.x>=e.max.x||this.max.x<=e.min.x||this.min.y>=e.max.y||this.max.y<=e.min.y)}containsPoint(e){return this.min.x<=e.x&&this.min.y<=e.y&&this.min.z<=e.z&&this.max.x>=e.x&&this.max.y>=e.y&&this.max.z>=e.z}containsSphere(e,t){return this.distanceToPoint(e)>t}intersectsSphere(e,t){return this.distanceToPoint(e)<=t}distanceToPoint(e){const t=e.x,r=e.y,n=e.z,i=this.min,o=this.max;return this.containsPoint(e)?Math.max(i.x-t,t-o.x,i.y-r,r-o.y,i.z-n,n-o.z):e.distanceTo(new R(C(t,i.x,o.x),C(r,i.y,o.y),C(n,i.z,o.z)))}containsAABB(e){return this.containsPoint(e.min)&&this.containsPoint(e.max)}likeAABB(e){return this.min.like(e.min)&&this.max.like(e.max)}intersectsLine(e){e.anchor,e.dir1;const t=e.dir1.map(e=>e||5e-324),r=this.min.minus(e.anchor).divv(t),n=this.max.minus(e.anchor).divv(t),i=r.min(n).maxElement(),o=r.max(n).minElement();return i<=o&&!(o<e.tMin||e.tMax<i)}hasVolume(){return this.min.x<=this.max.x&&this.min.y<=this.max.y&&this.min.z<=this.max.z}volume(){if(!this.hasVolume())return-1;const e=this.max.minus(this.min);return e.x*e.y*e.z}size(){return this.max.minus(this.min)}getCenter(){return this.min.plus(this.max).div(2)}transform(e){e.isAxisAligned();const t=new W;return t.addPoint(e.transformPoint(this.min)),t.addPoint(e.transformPoint(this.max)),t}ofTransformed(e){const t=new W;return t.addPoints(e.transformedPoints(this.corners())),t}corners(){const e=this.min,t=this.max;return[e,new R(e.x,e.y,t.z),new R(e.x,t.y,e.z),new R(e.x,t.y,t.z),new R(t.x,e.y,e.z),new R(t.x,e.y,t.z),new R(t.x,t.y,e.z),t]}toString(){return b("new AABB",this.min,this.max)}toSource(){return this.toString()}getM4(){return L.translate(this.min).times(L.scale(this.size()))}}var j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function H(e,t){return e(t={exports:{}},t.exports),t.exports}var U,q=H(function(e,t){!function(e){const{abs:t,atan2:r,cos:n,floor:i,log:o,min:a,max:s,round:l,sign:h,sin:u,sqrt:c,cbrt:d,PI:m,hypot:f}=Math;function g(e,t,r){return e+(t-e)*r}function p(e,t=0,r=1){return e<t?t:e>r?r:e}function B(e,r,n,i=1e-8){let o,a=r;for(;n--&&t(o=e(a))>i;){const t=(e(a+i)-o)/i;console.log("fx / dfdx",o/t,"fx",o,"x",a),a-=o/t}return a}const w=2*m,y=m/180,E=180/m;function F(...e){return e[0]instanceof C?e[0]:e.length>1&&"string"==typeof e[e.length-1]?z(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?z(e[0]):z(e)}class C{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}mix(e,t,r="rgb"){return M(this,e,t,r)}rgb(e=!0,t=!0){const r=r=>(e&&(r=l(r)),t&&(r=p(r,0,255)),r),{r:n,g:i,b:o}=this;return[r(n),r(i),r(o)]}rgba(e=!0,t=!0){const r=r=>(e&&(r=l(r)),t&&(r=p(r,0,255)),r),{r:n,g:i,b:o,a:a}=this;return[r(n),r(i),r(o),a]}hex(e="rgb"){const{r:t,g:r,b:n,a:i}=this;return function(e,r,n,i,o="rgb"){const a=(p(l(t),0,255)<<16|(r=p(l(r),0,255))<<8|(n=p(l(n),0,255))).toString(16).padStart(6,"0"),s=l(255*p(i)).toString(16).padStart(2,"0");return"#"+("argb"==o?s+a:"rgba"==o?a+s:a)}(0,r,n,i,e)}hsl(){const{r:e,g:t,b:r}=this;return function(e,t,r){const[n,i,o]=ce(e/255,t/255,r/255),a=(o+i)/2;let s;return[n,s=o==i?0:a<.5?(o-i)/(o+i):(o-i)/(2-o-i),a]}(e,t,r)}hsv(){const{r:e,g:t,b:r}=this;return function(e,t,r){const[n,i,o]=ce(e,t,r);return[n,0==o?0:(o-i)/o,o/255]}(e,t,r)}hcg(){const{r:e,g:t,b:r}=this;return function(e,t,r){const[n,i,o]=ce(e,t,r),a=(o-i)/255;return[n,a,a<1?i/255/(1-a):0]}(e,t,r)}css(e="rgb"){if("rgb"==e){const{r:e,g:t,b:r,a:n}=this;return function(e,t,r,n=1){return n>=1?"rgb("+[e,t,r].map(l).join(",")+")":"rgba("+[e,t,r].map(l).join(",")+","+n+")"}(e,t,r,n)}if("hsl"==e)return function([e,t,r],n){const i=n<1?"hsla":"hsl";return i+"("+te(e)+","+te(100*t)+"%,"+te(100*r)+"%"+("hsla"==i?","+te(n):"")+")"}(this.hsl(),this.alpha());throw Error()}name(e=!1){const t=this.num(),r=Object.keys(x).find(e=>x[e]==t);if(!r&&e){const[e,t,r]=this.lab();return(n=Object.keys(x))[Ge(n,n=>{const[i,o,a]=_(x[n]).lab();return-f(e-i,t-o,r-a)})]}var n;return r}cmyk(){const{r:e,g:t,b:r}=this;return function(e,t,r){const n=1-s(e/=255,t/=255,r/=255);return 1==n?[0,0,0,1]:[(1-e-n)/(1-n),(1-t-n)/(1-n),(1-r-n)/(1-n),n]}(e,t,r)}gl(){const{r:e,g:t,b:r,a:n}=this;return[e/255,t/255,r/255,n]}luminance(e){const{r:t,g:r,b:n,a:i}=this,[,o]=Ae(t,r,n);if(void 0===e)return o;const a=(e,t,r)=>(r-e)/(t-e);return e>o?M(this,D,a(o,1,e),"xyz").alpha(i):M(A,this,a(0,o,e),"xyz").alpha(i)}temperature(){const{r:e,g:t,b:r}=this;return i=t,console.log((a=r)-(n=e)),i+a<158.61?(console.log("0 < t < 20"),l(100*B(e=>i-(-155.25485562709179-.44596950469579133*(e-2)+104.49216199393888*o(e-2)),15,4))):a-n<0?(console.log("20 < t < 66"),l(100*B(e=>a-(.8274096064007395*(e-10)-254.76935184120902+115.67994401066147*o(e-10)),43,4))):(console.log("0 < t < 400, start= "+(-1.4*(n+i)+755)),l(100*B(e=>n-(351.97690566805693+.114206453784165*(e-55)-40.25366309332127*o(e-55)),-1.4*(n+i)+755,8)));var n,i,a}set(e,t){const[r,n]=e.split("."),i=this[r](),o=r.indexOf(n);if(-1==o)throw Error("invalid channel");return i[o]="number"==typeof t?t:t(i[o]),F(i,r).alpha(this.a)}clipped(){const{r:e,g:t,b:r}=this;return!(0<=e&&e<=255&&0<=t&&t<=255&&0<=r&&r<=255)}textColor(){return this.luminance()>.5?A:D}alpha(e){if(void 0===e)return this.a;const{r:t,g:r,b:n}=this;return T(t,r,n,e)}darker(e=1){const[t,r,n]=this.lab();return S(t-ge*e,r,n,this.alpha())}brighter(e=1){return this.darker(-e)}saturate(e=1){const[t,r,n]=this.lch();return b(t,s(0,r+e*ge),n,this.alpha())}desaturate(e=1){return this.saturate(-e)}premultiplied(){const{r:e,g:t,b:r,a:n}=this;return T(e*n,t*n,r*n,n)}hsi(){const{r:e,g:t,b:n}=this;return function(i,o,s){const l=e/255,h=t/255,u=n/255,d=(l+h+u)/3;if(l==h&&h==u)return[0,0,d];{const e=.5*(2*l-h-u),t=c(3)/2*(h-u),n=r(t,e),i=a(l,h,u);return[(n<0?2*m+n:n)*E,1-i/d,d]}}()}lab(){const{r:e,g:t,b:r}=this;return Ce(e,t,r)}num(e="rgb"){const{r:t,g:r,b:n,a:i}=this;return function(e,r,n,i=1,o="rgb"){const a=l(t)<<16|l(r)<<8|l(n);return"rgb"===o?a:"rgba"===o?a<<8|l(255*i)<<24:l(255*i)<<24|a}(0,r,n,i,e)}lch(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[i,o,a]=Ce(e,t,n);return function(e,t,n){return[e,f(t,n),(r(n,t)*E+360)%360]}(i,o,a)}(e,t,n)}xyz(){const{r:e,g:t,b:r}=this;return Ae(e,t,r)}equals(e){const{r:t,g:r,b:n,a:i}=this,{r:o,g:a,b:s,a:l}=e;return t==o&&r==a&&n==s&&i==l}hashCode(){return this.num("rgba")}toSource(){const{r:e,g:t,b:r,a:n}=this;return"chroma.rgb("+e+", "+t+", "+r+(1===n?")":", "+n+")")}}C.prototype.toString=C.prototype.css,C.prototype.kelvin=C.prototype.temperature;const A=new C(0,0,0,1),D=new C(255,255,255,1),G={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};class v{start(e){return void 0===e?this._start:(this._start=e,this)}rotations(e){return void 0===e?this._rotations:(this._rotations=e,this)}gamma(e){return void 0===e?this._gamma:(this._gamma=e,this)}hue(e){return void 0===e?this._hue:(this._hue=Array.isArray(e)?e:[e,e],this)}lightness(e){return void 0===e?this._lightness:(this._lightness=Array.isArray(e)?e:[e,e],this)}scale(){return k(this)}at(e){const t=w*((this._start+120)/360+this._rotations*e),r=g(this._lightness[0],this._lightness[1],e)**this._gamma,i=g(this._hue[0],this._hue[1],e)*r*(1-r)/2,o=n(t),a=u(t);return T([255*(r+i*(-.14861*o+1.78277*a)),255*(r+i*(-.29227*o-.90649*a)),255*(r+i*(1.97294*o)),1])}}function M(e,t,r=.5,n="rgb"){const i=F(e),o=F(t),a=I[n]&&I[n](i,o,r,n);if(!a)throw Error("color mode "+n+" is not supported");return a.alpha(g(i.alpha(),o.alpha(),r))}function b(...e){return z(e,"lch")}function R(...e){return z(e,"hsl")}function S(...e){return z(e,"lab")}function _(e){const[t,r,n]=H(e);return new C(t,r,n)}function T(...e){return z(e,"rgb")}var P,O;function k(...e){const t=e=>t._at(e);return Object.getOwnPropertyNames(V.prototype).forEach(e=>t[e]=V.prototype[e]),Array.isArray(e[0])&&(e=e[0]),1==e.length&&"string"==typeof e[0]&&(e=G[e[0]]),t._init("function"==typeof e[0]?e[0]:e.map(e=>F(e))),t}!function(e){e.normal=oe(ae((e,t)=>e)),e.multiply=oe(ae((e,t)=>e*t/255)),e.screen=oe(ae(se)),e.overlay=oe(ae(le)),e.darken=oe(ae(a)),e.lighten=oe(ae(s)),e.dodge=oe(ae(ue)),e.burn=oe(ae(he))}(P||(P={}));class V{classes(e){if(void 0===e)return this._classes;if(Array.isArray(e))this._classes=e,this.domain(e[0],e[e.length-1]);else{if(e%1!=0||e<1)throw Error("invalid classes param");this._classes=Y(this.domain(),"e",e)}return this}domain(...e){if(void 0===e[0])return"function"!=typeof this._colors?this._pos.map(e=>g(this._min,this._max,e)):[this._min,this._max];if(this._min=e[0],this._max=e[e.length-1],2==e.length)"function"!=typeof this._colors&&(this._pos=this._colors.map((e,t)=>t/(this._colors.length-1)));else{if("function"==typeof this._colors||e.length!=this._colors.length)throw Error("invalid domain "+e);this._pos=e.map(e=>(function(t,r,n){return(e-t)/(r-t)})(this._min,this._max))}return this}mode(e){return void 0===e?this._mode:(this._mode=e,this._resetCache(),this)}out(e){return this._out=e,this}correctLightness(e=!0){if(this._correctLightness!=e){this._resetCache();const t=this._colors;if(e&&"function"!=typeof t){let e=0;for(let r=1;r<t.length;r++){const n=t[r].lab()[0]-t[r-1].lab()[0];if(0==e)e=n;else if(e*n<0)throw Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=e,this}padding(e,t=e){return e?(this._paddingLeft=e,this._paddingRight=t,this):[this._paddingLeft,this._paddingRight]}colors(e,t="hex"){let r;if(void 0===e)r=this._colors.slice();else if(1==e)r=[this._color((this._min+this._max)/2)];else if(e>1)r=Array.from({length:e},(t,r)=>this._color(g(this._min,this._max,r/(e-1))));else{let e;r=(e=this._classes&&this._classes.length>2?Array.from({length:this._classes.length-1},(e,t)=>.5*(this._classes[t]+this._classes[t+1])):this.domain()).map(e=>this._color(e))}return t?r.map(e=>e[t]()):r}cache(e){return void 0===e?!!this._cache:(this._cache=e?this._cache||new Map:void 0,this)}gamma(e){return void 0===e?this._gamma:(this._gamma=e,this)}_at(e){const t=this._color(e);return this._out?t[this._out]():t}_init(e){this._colors=e,"function"!=typeof e&&(this._pos=e.map((t,r)=>r/(e.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(e){return this._classes.findIndex(t=>e<=t)-1}_color(e,t=!1){let r;if(t)r=e;else{const t=this._min,n=this._max;r=this._classes&&this._classes.length>2?this._getClass(e)/(this._classes.length-2):n!==t?(e-t)/(n-t):1,this._correctLightness&&(r=this._tCorrectedLightness(r))}r=r**this._gamma;const n=r=p(r=(this._paddingLeft+r)/(1+this._paddingLeft+this._paddingRight),0,1),i=this._cache&&this._cache.get(n);if(i)return i;{let e;if(Array.isArray(this._colors))for(let t=0;t<this._pos.length;t++){const n=this._pos[t];if(r<=n){e=this._colors[t];break}if(r>=n&&t==this._pos.length-1){e=this._colors[t];break}if(r>n&&r<this._pos[t+1]){r=(r-n)/(this._pos[t+1]-n),e=M(this._colors[t],this._colors[t+1],r,this._mode);break}}else e=this._colors(r);return this._cache&&this._cache.set(n,e),e}}_tCorrectedLightness(e){const t=g(this._color(0,!0).lab()[0],this._color(1,!0).lab()[0],e);return function(e,t,r,n){let i=e(t);for(;n--;){const n=(t+r)/2,o=e(n);h(i)==h(o)?(t=n,i=o):r=n}return(t+r)/2}(e=>this._color(e,!0).lab()[0]-t,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}function L(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};return e.forEach(e=>(function(e){null==e||isNaN(e)||(t.values.push(e),t.sum+=e,e<t.min&&(t.min=e),e>t.max&&(t.max=e),t.count+=1)})(e)),t.domain=[t.min,t.max],t.limits=function(e,t){return Y(this,e,t)},t}function Y(e,r="e",n=7){const a=Array.isArray(e)?L(e):e,{min:s,max:l,values:h}=a;if(h.sort((e,t)=>e-t),1==n)return[s,l];if(r.startsWith("c"))return[s,l];if(r.startsWith("e"))return Array.from({length:n+1},(e,t)=>g(s,l,t/n));if(r.startsWith("l")){if(s<=0)throw Error("Logarithmic scales are only possible for values > 0");const e=Math.LOG10E*o(s),t=Math.LOG10E*o(l);return Array.from({length:n+1},(r,i)=>10**g(e,t,i/n))}if(r.startsWith("q"))return Array.from({length:n+1},(e,t)=>{const r=(h.length-1)*t/n,o=i(r);return o==r?h[o]:g(h[o],h[o+1],r-o)});if(r.startsWith("k")){const e=h.length,r=Array(e),i=Array(n);let o=!0,a=0,u=Array.from({length:n+1},(e,t)=>g(s,l,t/n));do{i.fill(0);for(let e=0;e<h.length;e++){const n=h[e],o=Ge(u,e=>-t(e-n));i[o]++,r[e]=o}const e=Array(n).fill(0);for(let t=0;t<r.length;t++)e[r[t]]+=h[t];for(let t=0;t<e.length;t++)e[t]/=i[t];o=e.some((e,t)=>e!=u[t]),u=e}while(a++<200&&o);const c=Array.from({length:n},()=>[]);for(let e=0;e<r.length;e++)c[r[e]].push(h[e]);const d=[];for(const e of c)d.push(e[0],e[e.length-1]);d.sort((e,t)=>e-t);const m=[];m.push(d[0]);for(let e=1;e<d.length;e+=2){const t=d[e];isNaN(t)||-1!=m.indexOf(t)||m.push(t)}return m}throw Error("unknown mode")}(O=e.scales||(e.scales={})).cool=function(){return k([R(180,1,.9),R(250,.7,.4)])},O.hot=function(){return k(["#000","#f00","#ff0","#fff"]).mode("rgb")};const I={},N={};function z(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(1==e.length&&e[0]in x)t="name";else if(1==e.length&&"string"==typeof e[0])t="css";else if(3==e.length)t="rgb";else if(4==e.length&&"number"==typeof e[3]&&e[3]>=0&&e[3]<=1)t="rgb";else{if(!(1==e.length&&"number"==typeof e[0]&&e[0]>=0&&e[0]<=16777215))throw Error("could not guess mode. args "+JSON.stringify(e));t="num"}const r=N[t](...e);return new C(r[0],r[1],r[2],void 0!==r[3]?r[3]:1)}function W(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),t[4]?17*parseInt(t[4],16)/255:1];throw Error("invalid hex color: "+e)}function j(e){return(e%360+360)%360}function H(e){if(!("number"==typeof e&&e>=0&&e<=16777215))throw Error("unknown num color: "+e);return[e>>16,e>>8&255,255&e,1]}I.xyz=I.rgb=I.lab=function(e,t,r,n){const i=e[n](),o=t[n]();return z([g(i[0],o[0],r),g(i[1],o[1],r),g(i[2],o[2],r),g(e.alpha(),t.alpha(),r)],n)},I.num=function(e,t,r){return _(g(e.num(),t.num(),r))},I.lrgb=function(e,t,r){const[n,i,o,a]=e.rgba(!1,!1),[s,l,h,u]=t.rgba(!1,!1);return new C(c(n**2*(1-r)+s**2*r),c(i**2*(1-r)+l**2*r),c(o**2*(1-r)+h**2*r),g(a,u,r))},N.lrgb=N.rgb,N.hex=W,N.hsl=me,N.hsv=function(e,r,n,i=1){const o=n*r;return de(e=j(e),o,o*(1-t(e/60%2-1)),n-o,i)},N.num=H;const U="\\s*",q="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",X=RegExp(["^rgba?\\(",q,",",q,",",q,"(?:,",q+"(%)?",")?\\)$"].join(U),"i"),Z=RegExp(["^rgba?\\(",q,q,q,"(?:/",q+"(%)?",")?\\)$"].join(U),"i"),J=RegExp(["^rgba?\\(",q+"%",",",q+"%",",",q+"%","(?:,",q+"(%)?",")?\\)$"].join(U),"i"),K=RegExp(["^rgba?\\(",q+"%",q+"%",q+"%","(?:/",q+"(%)?",")?\\)$"].join(U),"i"),$=RegExp(["^hsla?\\(",q+"(deg|rad|turn)?",",",q+"%",",",q+"%","(?:,",q+"(%)?",")?\\)$"].join(U),"i"),Q=RegExp(["^hsla?\\(",q+"(deg|rad|turn)?\\s+"+q+"%",q+"%","(?:/",q+"(%)?",")?\\)$"].join(U),"i");function ee(e){if(x&&x[e.toLowerCase()])return H(x[e.toLowerCase()]);let t;if(t=e.match(X)||e.match(Z))return[p(+t[1],0,255),p(+t[2],0,255),p(+t[3],0,255),t[4]?p(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(J)||e.match(K))return[255*p(+t[1]/100),255*p(+t[2]/100),255*p(+t[3]/100),t[4]?p(t[5]?+t[4]/100:+t[4]):1];if(t=e.match($)||e.match(Q)){const e={deg:1,rad:E,turn:360},r=t[2]?t[2].toLowerCase():"deg";return me((+t[1]*e[r]%360+360)%360,p(+t[3]/100),p(+t[4]/100),t[5]?p(t[6]?+t[5]/100:+t[5]):1)}return W(e)}function te(e){return l(100*e)/100}function re(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function ne(e){return e<=.0031308?12.92*e*255:255*(1.055*e**(1/2.4)-.055)}function ie(e){const t=e/100;let r,n,i;return t<66?(r=255,n=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*o(t-2),i=t<20?0:.8274096064007395*(t-10)-254.76935184120902+115.67994401066147*o(t-10)):(r=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*o(t-55),n=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*o(t-50),i=255),[r,n,i]}function oe(e){return function(t,r){const[n,i,o]=e(F(r).rgb(),F(t).rgb());return T(n,i,o)}}function ae(e){return function(t,r){return t.map((t,n)=>e(t,r[n]))}}function se(e,t){return 255*(1-(1-e/255)*(1-t/255))}function le(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}function he(e,t){return 255*(1-(1-t/255)/(e/255))}function ue(e,t){return 255==e?255:255*a(1,t/255/(1-e/255))}function ce(e,t,r){const n=a(e,t,r),i=s(e,t,r),o=i-n;let l;return[60*(l=0==o?0:e==i?(t-r)/o+(t<r?6:0):t==i?2+(r-e)/o:4+(e-t)/o),n,i]}function de(e,t,r,n,i){const o=255*n,a=255*t+o,s=255*r+o;return e<60?[a,s,o,i]:e<120?[s,a,o,i]:e<180?[o,a,s,i]:e<240?[o,s,a,i]:e<300?[s,o,a,i]:[a,o,s,i]}function me(e,r,n,i=1){e=j(e);const o=(1-t(2*n-1))*r;return de(e,o,o*(1-t(e/60%2-1)),n-o/2,i)}function fe(e,t,r,n=1){const[i,o,a]=function(e,t,r){function n(e){return e>ye?e**3:Ee*(e-4/29)}return[pe*n((e+16)/116+t/500),Be*n((e+16)/116),we*n((e+16)/116-r/200)]}(e,t,r);return De(i,o,a,n)}N.css=ee,N.name=function(e){return H(x[e])},N.lch=function(e,t,r,i=1){const[,o,a]=function(e,t,r){return[e,n(r*y)*t,u(r*y)*t]}(e,t,r);return fe(e,o,a,i)},N.cmyk=function(e,t,r,n,i=1){return 1==n?[0,0,0,i]:[255*(1-e)*(1-n),255*(1-t)*(1-n),255*(1-r)*(1-n),i]},N.gl=function(e,t,r,n=1){return[255*e,255*t,255*r,n]},N.rgb=((...e)=>e),N.temperature=N.kelvin=N.K=ie,N.hcg=function(e,r,n,i=1){const o=n*(1-r);return de(e=j(e),r,r*(1-t(e/60%2-1)),o,i)};const ge=18,pe=.95047,Be=1,we=1.08883,ye=.206896552,Ee=.12841855,Fe=.008856452;function Ce(e,t,r){const[n,i,o]=Ae(e,t,r);return function(e,t,r){function n(e){return e>Fe?d(e):e/Ee+4/29}return[116*n(t/Be)-16,500*(n(e/pe)-n(t/Be)),200*(n(t/Be)-n(r/we))]}(n,i,o)}function Ae(e,t,r){const n=re(e),i=re(t),o=re(r);return[.4124564*n+.3575761*i+.1804375*o,.2126729*n+.7151522*i+.072175*o,.0193339*n+.119192*i+.9503041*o]}function De(e,t,r,n=1){const i=-.969266*e+1.8760108*t+.041556*r,o=.0556434*e-.2040259*t+1.0572252*r;return[ne(3.2404542*e-1.5371385*t-.4985314*r),ne(i),ne(o),n]}function Ge(e,t){let r=-1/0,n=-1;for(let i=0;i<e.length;i++){const o=t(e[i]);o>r&&(r=o,n=i)}return n}N.xyz=De,N.lab=fe,N.hsi=function(e,t,r,i=1){let o,a,s,l=e*y;return l<2*m/3?a=1-((s=(1-t)/3)+(o=(1+t*n(l)/n(m/3-l))/3)):l<4*m/3?s=1-((o=(1-t)/3)+(a=(1+t*n(l-=2*m/3)/n(m/3-l))/3)):o=1-((a=(1-t)/3)+(s=(1+t*n(l-=4*m/3)/n(m/3-l))/3)),[3*r*o*255,3*r*a*255,3*r*s*255,i]},I.hsv=I.hsl=I.hsi=I.lch=I.hcg=function(e,t,r,n){const[i,o,a]=e[n](),[s,l,h]=t[n]();function u(e,t,r){return e+r*(j(t-e+180)-180)}return F(("h"==n.charAt(0)?u:g)(i,s,r),g(o,l,r),("h"==n.charAt(2)?u:g)(a,h,r),n)},e.color=F,e.Color=C,e.black=A,e.white=D,e.brewer=G,e.w3cx11=x,e.cubehelix=function(e=300,t=-1.5,r=1,n=1,i=[0,1]){const o=e=>o.at(e);return Object.getOwnPropertyNames(v.prototype).forEach(e=>o[e]=v.prototype[e]),o.start(e),o.rotations(t),o.hue(r),o.gamma(n),o.lightness(i),o},e.CubeHelix=v,e.random=function(e=Math.random){return _(16777216*e()|0)},e.mix=M,e.css=function(e){const[t,r,n,i]=ee(e);return new C(t,r,n,i)},e.cmyk=function(...e){return z(e,"cmyk")},e.gl=function(...e){return z(e,"gl")},e.hcg=function(...e){return z(e,"hcg")},e.lch=b,e.hsi=function(...e){return z(e,"hsi")},e.hsl=R,e.hsv=function(...e){return z(e,"hsv")},e.kelvin=function(e){const[t,r,n]=ie(e);return new C(t,r,n)},e.lab=S,e.num=_,e.rgb=T,e.xyz=function(...e){return z(e,"xyz")},e.average=function(e,t="rgb"){const i=e.map(e=>F(e));if("lrgb"==t)return function(e){let t=0,r=0,n=0,i=0;for(const o of e){const[e,a,s,l]=o.rgba(!1,!1);t+=e**2,r+=a**2,n+=s**2,i+=l}return new C(c(t)/e.length,c(r)/e.length,c(n)/e.length,i/e.length)}(i);if("num"==t){let e=0,t=0;for(const r of i)e+=r.num(),t+=r.alpha();return _(e/i.length).alpha(t/i.length)}const o=[0,0,0];let a=0,s=0,l=0;for(const e of i){const r=e[t]();l+=e.alpha(),console.log(l);for(let e=0;e<o.length;e++)if("h"==t.charAt(e)){const t=r[e]*y;a+=n(t),s+=u(t)}else o[e]+=r[e]}for(let e=0;e<o.length;e++)if("h"==t.charAt(e)){const t=r(s/i.length,a/i.length)*E;o[e]=(t+360)%360}else o[e]=o[e]/i.length;return z(o,t).alpha(l/i.length)},e.bezier=function(...e){const t=function e(t){const r=t.map(e=>F(e)),[n,i,o,a]=r.map(e=>e.lab());if(2==t.length)return e=>S([0,1,2].map(t=>g(n[t],i[t],e)));if(3==t.length){const e=(e,t,r,n)=>(1-n)**2*e+2*(1-n)*n*t+n**2*r;return t=>S([0,1,2].map(r=>e(n[r],i[r],o[r],t)))}if(4==t.length){const e=(e,t,r,n,i)=>(1-i)**3*e+3*(1-i)**2*i*t+3*(1-i)*i**2*r+i**3*n;return t=>S([0,1,2].map(r=>e(n[r],i[r],o[r],a[r],t)))}if(5==t.length){const t=e(r.slice(0,3)),n=e(r.slice(2,5));return e=>e<.5?t(2*e):n(2*(e-.5))}throw Error()}(Array.isArray(e[0])?e[0]:e);return t.scale=v.prototype.scale,t},e.blend=function(e,t,r){if(!P[r])throw Error("unknown blend mode "+r);return P[r](e,t)},e.scale=k,e.Scale=V,e.contrast=function(e,t){const r=F(e).luminance(),n=F(t).luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},e.distance=function(e,t,r="lab"){const n=F(e)[r](),i=F(t)[r](),o=n.map((e,t)=>e-i[t]);return f(...o)},e.deltaE=function(e,i,o=1,a=1){const[s,l,h]=F(e).lab(),[u,d,m]=F(i).lab(),f=c(l*l+h*h),g=c(d*d+m*m),p=s<16?.511:.040975*s/(1+.01765*s),B=.0638*f/(1+.0131*f)+.638,w=j(f<1e-6?0:r(h,l)*E),C=w>=164&&w<=345?.56+t(.2*n((w+168)*y)):.36+t(.4*n((w+35)*y)),A=f*f*f*f,D=c(A/(A+1900)),G=B*(D*C+1-D),x=f-g,v=l-d,M=h-m,b=(s-u)/(o*p),R=x/(a*B);return c(b*b+R*R+(v*v+M*M-x*x)/(G*G))},e.analyze=L,e.limits=Y,Object.defineProperty(e,"__esModule",{value:!0})}(t)}),X=(U=q)&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U;const Z=WebGLRenderingContext;class J{constructor(e,t){this.target=e,this.type=t,this.buffer=void 0,this.data=[],this.count=0,this.spacing=1,this.hasBeenCompiled=!1,e==Z.ARRAY_BUFFER||Z.ELEMENT_ARRAY_BUFFER,Uint16Array==t?this.bindSize=Z.UNSIGNED_SHORT:Uint32Array==t&&(this.bindSize=Z.UNSIGNED_INT)}compile(e=Z.STATIC_DRAW,t=Fe()){let r;if(Z.STATIC_DRAW==e||Z.DYNAMIC_DRAW,this.buffer=this.buffer||t.createBuffer(),0==this.data.length&&console.warn("empty buffer "+this.name),0==this.data.length||this.data[0]instanceof R)!(this.data[0]instanceof R)||(this.type,Float32Array),R.pack(this.data,r=new this.type(3*this.data.length)),this.spacing=3,this.count=this.data.length,this.maxValue=0;else{if(Array.isArray(this.data[0])){const e=this.data.length*this.data[0].length;r=new this.type(e);let t=this.data.length,n=e;for(;t--;){const e=this.data[t];let i=e.length;for(;i--;)r[--n]=e[i]}}else r=new this.type(this.data);const e=this.data.length?r.length/this.data.length:0;this.name,this.spacing=e,this.count=this.data.length}t.bindBuffer(this.target,this.buffer),t.bufferData(this.target,r,e),this.hasBeenCompiled=!0}}const{cos:K,sin:$,PI:Q,min:ee,max:te}=Math,re=WebGLRenderingContext,ne=new L,ie=new L;class oe extends O{constructor(){super(),this.hasBeenCompiled=!1,this.vertexBuffers={},this.indexBuffers={},this.addVertexBuffer("vertices","ts_Vertex")}calcVolume(){let e=0,t=R.O,r=0;const n=this.TRIANGLES,i=this.vertices;for(let o=0;o<n.length;o+=3){const a=n[o+0],s=n[o+1],l=n[o+2],h=i[a],u=i[s],c=i[l],d=u.minus(h),m=c.minus(h),f=d.cross(m);e+=R.add(h,u,c).div(3).z*f.z,r+=f.length();const g=R.add(h.times(2*h.z+u.z+c.z),u.times(h.z+2*u.z+c.z),c.times(h.z+u.z+2*c.z)).times(f.z);t=t.plus(g)}const o=e/2;return{volume:o,centroid:g(o)?R.O:t.div(24*o).schur(new R(1,1,.5)),area:r/2}}addVertexBuffer(e,t){return this.vertexBuffers[t],this.hasBeenCompiled=!1,(this.vertexBuffers[t]=new J(re.ARRAY_BUFFER,Float32Array)).name=e,this[e]=[],this}addIndexBuffer(e,t=re.UNSIGNED_SHORT){this.hasBeenCompiled=!1;const r=re.UNSIGNED_SHORT==t?Uint16Array:Uint32Array;return(this.indexBuffers[e]=new J(re.ELEMENT_ARRAY_BUFFER,r)).name=e,this[e]=[],this}concat(...e){const t=new oe,r=[this].concat(e);return Object.getOwnPropertyNames(this.vertexBuffers).forEach(n=>{e.every(e=>!!e.vertexBuffers[n]);const i=this.vertexBuffers[n].name;"ts_Vertex"!==n&&t.addVertexBuffer(i,n),t[i]=r.map(e=>e[i]).concatenated()}),Object.getOwnPropertyNames(this.indexBuffers).forEach(n=>{e.every(e=>!!e.indexBuffers[n]),t.addIndexBuffer(n,this.indexBuffers[n].bindSize);const i=Array(r.reduce((e,t)=>e+t[n].length,0));let o=0,a=0;for(const e of r){for(const t of e[n])i[o++]=a+t;a+=e.vertices.length}t[n]=i}),t.compile(),t}compile(e=Fe()){let t=1/0;Object.getOwnPropertyNames(this.vertexBuffers).forEach(r=>{const n=this.vertexBuffers[r];n.data=this[n.name],n.compile(void 0,e),this[n.name].length<t&&(t=this[n.name].length)});for(const t in this.indexBuffers){const r=this.indexBuffers[t];r.data=this[r.name],r.compile(void 0,e)}return this.hasBeenCompiled=!0,this}static fromBinarySTL(e){return s(this,void 0,void 0,function*(){return new Promise((t,r)=>{const n=(new oe).addVertexBuffer("normals","ts_Normal"),i=new FileReader;i.onerror=r,i.onload=function(e){const r=new DataView(this.result),i=r.getUint32(80,!0);n.normals.length=3*i,n.vertices.length=3*i;let o=3*i,a=84;function s(){const e=r.getFloat32(a,!0);a+=4;const t=r.getFloat32(a,!0);a+=4;const n=r.getFloat32(a,!0);return a+=4,new R(e,t,n)}for(;o;){o-=3;const e=s();n.normals[o+0]=e,n.normals[o+1]=e,n.normals[o+2]=e,n.vertices[o+0]=s(),n.vertices[o+1]=s(),n.vertices[o+2]=s(),a+=2}t(n)},i.readAsArrayBuffer(e)})})}toBinarySTL(){if(!this.TRIANGLES)throw Error("TRIANGLES must be defined.");const e=this.TRIANGLES,t=e.length/3,r=new ArrayBuffer(84+50*t),n=new DataView(r);n.setUint32(80,t,!0);let i=84,o=e.length;for(;o;){o-=3;const t=this.vertices[e[o]],r=this.vertices[e[o+1]],a=this.vertices[e[o+2]];[R.normalOnPoints(t,r,a),t,r,a].forEach(e=>{n.setFloat32(i,e.x,!0),i+=4,n.setFloat32(i,e.y,!0),i+=4,n.setFloat32(i,e.z,!0),i+=4}),i+=2}return new Blob([r],{type:"application/octet-stream"})}transform(e){const t=new oe;if(t.vertices=e.transformedPoints(this.vertices),this.normals){t.addVertexBuffer("normals","ts_Normal");const r=e.as3x3(ne).inversed(ie).transposed(ne);t.normals=this.normals.map(e=>r.transformVector(e).unit())}for(const e in this.indexBuffers)t.addIndexBuffer(e),t[e]=this[e];for(const e in this.vertexBuffers)if("ts_Vertex"!==e&&"ts_Normal"!==e){const r=this.vertexBuffers[e].name;t.addVertexBuffer(r,e),t[r]=this[r]}return t}computeNormalsFromFlatTriangles(){this.normals||this.addVertexBuffer("normals","ts_Normal");const e=this.TRIANGLES,t=this.vertices,r=this.normals;r.length=t.length;for(let n=0;n<e.length;n+=3){const i=e[n],o=e[n+1],a=e[n+2],s=t[i],l=t[o],h=t[a],u=l.minus(s).cross(h.minus(s)).unit();r[i]=r[i].plus(u),r[o]=r[o].plus(u),r[a]=r[a].plus(u)}for(let e=0;e<t.length;e++)r[e]=r[e].unit();return this.hasBeenCompiled=!1,this}computeWireframeFromFlatTriangles(e="LINES"){if(!this.TRIANGLES)throw Error("TRIANGLES must be defined.");const t=new Set;function r(e,t){return ee(e,t)<<16|te(e,t)}const n=this.TRIANGLES;for(let e=0;e<n.length;e+=3)t.add(r(n[e+0],n[e+1])),t.add(r(n[e+1],n[e+2])),t.add(r(n[e+2],n[e+0]));const i=e;return this[i]||this.addIndexBuffer(e),t.forEach(e=>this[i].push(e>>16,65535&e)),this.hasBeenCompiled=!1,this}computeWireframeFromFlatTrianglesClosedMesh(e="LINES"){if(!this.TRIANGLES)throw Error("TRIANGLES must be defined.");this.LINES||this.addIndexBuffer("LINES");const t=this.TRIANGLES;this[e]||this.addIndexBuffer(e);const r=this[e];for(let e=0;e<t.length;e+=3)t[e+0]<t[e+1]&&r.push(t[e+0],t[e+1]),t[e+1]<t[e+2]&&r.push(t[e+1],t[e+2]),t[e+2]<t[e+0]&&r.push(t[e+2],t[e+0]);return this.hasBeenCompiled=!1,this}computeNormalLines(e=1,t="LINES"){if(!this.normals)throw Error("normals must be defined.");const r=this.vertices,n=this.vertices.length;this[t]||this.addIndexBuffer(t);for(let i=0;i<this.normals.length;i++)r[n+i]=r[i].plus(this.normals[i].toLength(e)),this[t].push(n+i,i);return this.hasBeenCompiled=!1,this}getAABB(){return(new W).addPoints(this.vertices)}getBoundingSphere(){const e={center:this.getAABB().getCenter(),radius:0};for(let t=0;t<this.vertices.length;t++)e.radius=Math.max(e.radius,this.vertices[t].minus(e.center).length());return e}static plane(e={}){const t=e.detailX||e.detail||1,r=e.detailY||e.detail||1,n=e.startX||0,i=e.startY||0,o=e.width||1,a=e.height||1,s=(new oe).addIndexBuffer("LINES").addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal").addVertexBuffer("coords","ts_TexCoord");for(let e=0;e<=r;e++){const l=e/r;for(let h=0;h<=t;h++){const u=h/t;if(s.vertices.push(new R(n+u*o,i+l*a,0)),s.coords.push([u,l]),s.normals.push(R.Z),h<t&&e<r){const r=h+e*(t+1);s.TRIANGLES.push(r,r+t+1,r+1,r+t+1,r+t+2,r+1)}}}for(let e=0;e<t;e++)s.LINES.push(e,e+1),s.LINES.push((t+1)*r+e,(t+1)*r+e+1);for(let e=0;e<r;e++)s.LINES.push(t*e,t*(e+1)+1),s.LINES.push(t*(e+1),t*(e+2)+1);return s.compile(),s}static box(e=1,t=1,r=1){const n=(new oe).addIndexBuffer("LINES").addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal");n.vertices.length=n.normals.length=2*((e+1)*(t+1)+(t+1)*(r+1)+(r+1)*(e+1)),n.TRIANGLES.length=4*(e*t+t*r+r*e);let i=0,o=0;function a(e,t,r,a=0,s=1,l=0,h=1){const u=r.transformVector(R.Z);for(let c=0;c<=t;c++){const d=c/t;for(let m=0;m<=e;m++){const f=m/e;if(n.vertices[i]=r.transformPoint(new R(a+f*s,l+d*h,0)),n.normals[i]=u,i++,m<e&&c<t){const t=m+c*(e+1);n.TRIANGLES[o++]=t,n.TRIANGLES[o++]=t+e+1,n.TRIANGLES[o++]=t+1,n.TRIANGLES[o++]=t+e+1,n.TRIANGLES[o++]=t+e+2,n.TRIANGLES[o++]=t+1}}}}return a(t,e,L.forSys(R.Y,R.X,R.Z.negated())),a(e,t,L.translate(R.Z)),a(r,t,L.forSys(R.Z,R.Y,R.X.negated())),a(t,r,L.forSys(R.Y,R.Z,R.X,R.X)),a(e,r,L.forSys(R.X,R.Z,R.Y.negated())),a(r,e,L.forSys(R.Z,R.X,R.Y,R.Y)),n}static cube(){const e=(new oe).addVertexBuffer("normals","ts_Normal").addIndexBuffer("TRIANGLES").addIndexBuffer("LINES"),t=[0,1,2,3,4,5,6,7,0,4,1,5,2,6,3,7,2,6,0,4,3,7,1,5];e.vertices=t.map(e=>oe.UNIT_CUBE_CORNERS[e]),e.normals=[R.X.negated(),R.X,R.Y.negated(),R.Y,R.Z.negated(),R.Z].flatMap(e=>[e,e,e,e]);for(let r=0;r<24;r+=4)Ae(e.TRIANGLES,0!=r%8,t[r],t[r+1],t[r+2],t[r+3]);return e.LINES=[0,1,0,2,1,3,2,3,0,4,1,5,2,6,3,7,4,5,4,6,5,7,6,7].map(e=>t.indexOf(e)),e.compile(),e}static isocahedron(){return oe.sphere(0)}static sphere2(e,t){const r=D(e,t=>{const r=t/(e-1)*Q-Q/2;return new R(0,K(r),$(r))});return oe.rotation(r,{anchor:R.O,dir1:R.Z},2*Q,t,!0,r)}static sphere(e=3){const t=new R(1,1.618033988749895,0).unit(),r=t.x,n=t.y,i=[new R(-r,n,0),new R(r,n,0),new R(-r,-n,0),new R(r,-n,0),new R(0,-r,n),new R(0,r,n),new R(0,-r,-n),new R(0,r,-n),new R(n,0,-r),new R(n,0,r),new R(-n,0,-r),new R(-n,0,r)],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];function a(e,t,r,n,i,o,s,l,h,u){if(0==n)o.push(s,l,h),s<l&&u.push(s,l),l<h&&u.push(l,h),h<s&&u.push(h,s);else{const c=e.plus(t).toLength(1),d=t.plus(r).toLength(1),m=r.plus(e).toLength(1),f=i.length,g=f+1,p=f+2;i.push(c,d,m),a(c,d,m,n-1,i,o,f,g,p,u),a(e,c,m,n-1,i,o,s,f,p,u),a(t,d,c,n-1,i,o,l,g,f,u),a(r,m,d,n-1,i,o,h,p,g,u)}}const s=(new oe).addVertexBuffer("normals","ts_Normal").addIndexBuffer("TRIANGLES").addIndexBuffer("LINES");s.vertices.push(...i),e=null==e?4:e;for(let t=0;t<20;t++){const[r,n,l]=o.slice(3*t,3*t+3);a(i[r],i[n],i[l],e,s.vertices,s.TRIANGLES,r,n,l,s.LINES)}return s.normals=s.vertices,s.compile(),s}static aabb(e){const t=L.product(L.translate(e.min),L.scale(e.size().max(new R(d,d,d)))),r=oe.cube().transform(t);return r.computeNormalLines(20),r.compile(),r}static offsetVertices(e,t,r,n){(function(...e){return!0}).apply(void 0,e);const i=(new oe).addIndexBuffer("TRIANGLES").addVertexBuffer("coords","ts_TexCoord");n&&i.addVertexBuffer("normals","ts_Normal"),i.vertices=e.concat(e.map(e=>e.plus(t)));const o=e.length;i.coords=D(2*o,e=>[e%o/o,e/o|0]);const a=i.TRIANGLES;for(let t=0;t<e.length-1;t++)Ae(a,!1,t,t+1,e.length+t,e.length+t+1);return r&&Ae(a,!1,e.length-1,0,2*e.length-1,e.length),n&&(i.normals=n.concat(n)),i.compile(),i}static rotation(e,t,r,n,i=!0,o){const a=(new oe).addIndexBuffer("TRIANGLES");o&&a.addVertexBuffer("normals","ts_Normal");const s=e.length,l=s*n,h=new L,u=a.TRIANGLES;for(let c=0;c<n;c++){const d=r/n*c;if(L.rotateLine(t.anchor,t.dir1,d,h),a.vertices.push(...h.transformedPoints(e)),o&&a.normals.push(...h.transformedVectors(o)),i||c!==n-1)for(let e=0;e<s-1;e++)Ae(u,!1,c*s+e+1,c*s+e,((c+1)*s+e+1)%l,((c+1)*s+e)%l)}return a.compile(),a}static parametric(e,t,r,n,i,o,a,s){const l=(new oe).addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal");for(let h=0;h<=a;h++){const u=m(r,n,h/a);for(let r=0;r<=s;r++){const n=m(i,o,r/s);if(l.vertices.push(e(u,n)),t&&l.normals.push(t(u,n)),r<s&&h<a){const e=r+h*(s+1);Ae(l.TRIANGLES,!1,e,e+s+1,e+1,e+s+2)}}}return l}static load(e){const t=new oe;if(!Array.isArray(e.vertices[0]))throw Error();return t.vertices=e.vertices.map(e=>S(e)),e.triangles&&(t.addIndexBuffer("TRIANGLES"),t.TRIANGLES=e.triangles),e.normals&&(t.addVertexBuffer("normals","ts_Normal"),t.normals=e.normals),t.compile(),t}toJSON(){return{vertices:this.vertices.map(e=>e.toArray()),TRIANGLES:this.TRIANGLES}}}oe.UNIT_CUBE_CORNERS=[R.O,new R(0,0,1),new R(0,1,0),new R(0,1,1),new R(1,0,0),new R(1,0,1),new R(1,1,0),R.XYZ];const ae=WebGLRenderingContext,se={[ae.POINTS]:"POINTS",[ae.LINES]:"LINES",[ae.LINE_STRIP]:"LINE_STRIP",[ae.LINE_LOOP]:"LINE_LOOP",[ae.TRIANGLES]:"TRIANGLES",[ae.TRIANGLE_STRIP]:"TRIANGLE_STRIP",[ae.TRIANGLE_FAN]:"TRIANGLE_FAN"},le={[ae.POINTS]:e=>!0,[ae.LINES]:e=>0==e%2,[ae.LINE_STRIP]:e=>e>2,[ae.LINE_LOOP]:e=>e>2,[ae.TRIANGLES]:e=>0==e%3,[ae.TRIANGLE_STRIP]:e=>e>3,[ae.TRIANGLE_FAN]:e=>e>3};class he{constructor(e,t,r=Fe()){this.projectionMatrixVersion=-1,this.modelViewMatrixVersion=-1;const n="\n\t\tuniform mat3 ts_NormalMatrix;\n\t\tuniform mat4 ts_ModelViewMatrix;\n\t\tuniform mat4 ts_ProjectionMatrix;\n\t\tuniform mat4 ts_ModelViewProjectionMatrix;\n\t\tuniform mat4 ts_ModelViewMatrixInverse;\n\t\tuniform mat4 ts_ProjectionMatrixInverse;\n\t\tuniform mat4 ts_ModelViewProjectionMatrixInverse;\n\t".match(/\bts_\w+/g);function i(e,t){const n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error("compile error: "+r.getShaderInfoLog(n));return n}if(this.gl=r,this.program=r.createProgram(),r.attachShader(this.program,i(r.VERTEX_SHADER,e)),r.attachShader(this.program,i(r.FRAGMENT_SHADER,t)),r.linkProgram(this.program),!r.getProgramParameter(this.program,r.LINK_STATUS))throw Error("link error: "+r.getProgramInfoLog(this.program));this.attributeLocations={},this.uniformLocations={},this.constantAttributes={},this.activeMatrices={},n&&n.forEach(e=>{r.getUniformLocation(this.program,e)&&(this.activeMatrices[e]=!0)}),this.uniformInfos={};for(let e=r.getProgramParameter(this.program,r.ACTIVE_UNIFORMS);e-- >0;){const t=r.getActiveUniform(this.program,e);this.uniformInfos[t.name]=t}}static create(e,t,r){return new he(e,t,r)}uniforms(e){const t=this.gl;t.useProgram(this.program);for(const r in e){const n=this.uniformLocations[r]||t.getUniformLocation(this.program,r);if(!n)continue;this.uniformLocations[r]=n;let i=e[r];const o=this.uniformInfos[r];if(i instanceof R&&(i=i.toArray()),t.FLOAT_VEC4==o.type&&1!=o.size)i instanceof Float32Array||i instanceof Float64Array?t.uniform4fv(n,i instanceof Float32Array?i:Float32Array.from(i)):t.uniform4fv(n,i.concatenated());else if(t.FLOAT==o.type&&1!=o.size)t.uniform1fv(n,i);else if(t.FLOAT_VEC3==o.type&&1!=o.size)t.uniform3fv(n,R.pack(i));else if(i.length)switch(i.length){case 1:t.uniform1fv(n,i);break;case 2:t.uniform2fv(n,i);break;case 3:t.uniform3fv(n,i);break;case 4:t.uniform4fv(n,i);break;case 9:t.uniformMatrix3fv(n,!1,new Float32Array([i[0],i[3],i[6],i[1],i[4],i[7],i[2],i[5],i[8]]));break;case 16:t.uniformMatrix4fv(n,!1,new Float32Array([i[0],i[4],i[8],i[12],i[1],i[5],i[9],i[13],i[2],i[6],i[10],i[14],i[3],i[7],i[11],i[15]]));break;default:throw Error("don't know how to load uniform \""+r+'" of length '+i.length)}else if("number"==typeof i)t.SAMPLER_2D==o.type||t.SAMPLER_CUBE==o.type||t.INT==o.type?t.uniform1i(n,i):t.uniform1f(n,i);else if("boolean"==typeof i)t.uniform1i(n,+i);else{if(!(i instanceof L))throw Error('attempted to set uniform "'+r+'" to invalid value '+i);{const e=i.m;if(t.FLOAT_MAT4==o.type)t.uniformMatrix4fv(n,!1,[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]);else if(t.FLOAT_MAT3==o.type)t.uniformMatrix3fv(n,!1,[e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]]);else{if(t.FLOAT_MAT2!=o.type)throw Error(`Can't assign M4 to ${o.type}`);t.uniformMatrix2fv(n,!1,new Float32Array([e[0],e[4],e[1],e[5]]))}}}}return this}attributes(e){const t=this.gl;t.useProgram(this.program);for(const r in e){const n=this.attributeLocations[r]||t.getAttribLocation(this.program,r);if(-1==n){r.startsWith("ts_")||console.warn(`Vertex buffer ${r} was not bound because the attribute is not active.`);continue}this.attributeLocations[r]=n,t.disableVertexAttribArray(n);let i=e[r];i instanceof R&&(i=i.toArray()),"number"==typeof i?t.vertexAttrib1f(n,i):t.vertexAttrib4fv(n,i),this.constantAttributes[r]=!0}return this}draw(e,t=ae.TRIANGLES,r,n){e.hasBeenCompiled;const i=se[t];return this.drawBuffers(e.vertexBuffers,e.indexBuffers[i],t,r,n)}drawBuffers(e,t,r=ae.TRIANGLES,n=0,i){const o=this.gl;Object.keys(e).forEach(t=>(e[t],!0));const a=this.activeMatrices,s=(a.ts_ModelViewMatrixInverse||a.ts_NormalMatrix)&&o.modelViewMatrix.inversed(),l=a.ts_ProjectionMatrixInverse&&o.projectionMatrix.inversed(),h=(a.ts_ModelViewProjectionMatrix||a.ts_ModelViewProjectionMatrixInverse)&&o.projectionMatrix.times(o.modelViewMatrix),u={};a.ts_ModelViewMatrix&&this.modelViewMatrixVersion!=o.modelViewMatrixVersion&&(u.ts_ModelViewMatrix=o.modelViewMatrix),a.ts_ModelViewMatrixInverse&&(u.ts_ModelViewMatrixInverse=s),a.ts_ProjectionMatrix&&this.projectionMatrixVersion!=o.projectionMatrixVersion&&(u.ts_ProjectionMatrix=o.projectionMatrix),l&&(u.ts_ProjectionMatrixInverse=l),h&&(u.ts_ModelViewProjectionMatrix=h),h&&a.ts_ModelViewProjectionMatrixInverse&&(u.ts_ModelViewProjectionMatrixInverse=h.inversed()),a.ts_NormalMatrix&&this.modelViewMatrixVersion!=o.modelViewMatrixVersion&&(u.ts_NormalMatrix=s.transposed()),this.uniforms(u),this.projectionMatrixVersion=o.projectionMatrixVersion,this.modelViewMatrixVersion=o.modelViewMatrixVersion;let c=1/0;for(const t in e){const r=e[t];r.hasBeenCompiled;const n=this.attributeLocations[t]||o.getAttribLocation(this.program,t);-1!=n&&r.buffer?(this.attributeLocations[t]=n,o.bindBuffer(ae.ARRAY_BUFFER,r.buffer),o.enableVertexAttribArray(n),o.vertexAttribPointer(n,r.spacing,ae.FLOAT,!1,0,0),c=Math.min(c,r.count)):t.startsWith("ts_")||console.warn(`Vertex buffer ${t} was not bound because the attribute is not active.`)}for(const t in this.attributeLocations)t in e||o.disableVertexAttribArray(this.attributeLocations[t]);if(c){if(void 0===i&&(i=t?t.count:c),le[r](i),le[r].toString(),se[r],t){if(t.hasBeenCompiled,t.maxValue,t.spacing,t.spacing,n+i>t.count)throw Error("Buffer not long enough for passed parameters start/length/buffer length "+n+" "+i+" "+t.count);o.bindBuffer(ae.ELEMENT_ARRAY_BUFFER,t.buffer),o.drawElements(r,i,t.bindSize,t.type.BYTES_PER_ELEMENT*n)}else{if(n+i>c)throw Error("invalid");o.drawArrays(r,n,i)}o.drawCallCount++}return this}}class ue{constructor(e,t,r={},n=Fe()){this.gl=n,this.width=e,this.height=t,this.format=r.format||n.RGBA,this.internalFormat=r.internalFormat||n.RGBA,this.type=r.type||n.UNSIGNED_BYTE;const i=r.filter||r.magFilter||n.LINEAR,o=r.filter||r.minFilter||n.LINEAR;if(this.type===n.FLOAT){if(2!=n.version&&!n.getExtension("OES_texture_float"))throw Error("OES_texture_float is required but not supported");if((o!==n.NEAREST||i!==n.NEAREST)&&!n.getExtension("OES_texture_float_linear"))throw Error("OES_texture_float_linear is required but not supported")}else if(this.type===n.HALF_FLOAT_OES){if(!n.getExtension("OES_texture_half_float"))throw Error("OES_texture_half_float is required but not supported");if((o!==n.NEAREST||i!==n.NEAREST)&&!n.getExtension("OES_texture_half_float_linear"))throw Error("OES_texture_half_float_linear is required but not supported")}this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,r.wrap||r.wrapS||n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,r.wrap||r.wrapT||n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,this.internalFormat,e,t,0,this.format,this.type,r.data)}setData(e){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,e)}bind(e){this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture)}unbind(e){this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}drawTo(e){const t=this.gl,r=t.getParameter(t.FRAMEBUFFER_BINDING);if(this.framebuffer)r!==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);else{const e=t.getParameter(t.RENDERBUFFER_BINDING),r=t.createRenderbuffer();if(t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,e),this.framebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)throw Error("Rendering to this texture is not supported (incomplete this.framebuffer)")}const n=t.getParameter(t.VIEWPORT);t.viewport(0,0,this.width,this.height),e(t),r!==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,r),t.viewport(n[0],n[1],n[2],n[3])}swapWith(e){let t;this.gl,e.gl,t=e.texture,e.texture=this.texture,this.texture=t,t=e.width,e.width=this.width,this.width=t,t=e.height,e.height=this.height,this.height=t}static fromImage(e,t={},r=Fe()){const n=new ue(e.width,e.height,t,r);try{r.texImage2D(r.TEXTURE_2D,0,n.format,n.format,n.type,e)}catch(e){throw"file:"==location.protocol?Error('imgElement not loaded for security reasons (serve this page over "http://" instead)'):Error("imgElement not loaded for security reasons (imgElement must originate from the same domain as this page or use Cross-Origin Resource Sharing)")}return t.minFilter&&t.minFilter!=r.NEAREST&&t.minFilter!=r.LINEAR&&r.generateMipmap(r.TEXTURE_2D),n}static fromURLSwitch(e,t,r=Fe()){ue.checkerBoardCanvas=ue.checkerBoardCanvas||function(){const e=document.createElement("canvas").getContext("2d");if(!e)throw Error("Could not create 2d canvas.");e.canvas.width=e.canvas.height=128;for(let t=0;t<e.canvas.height;t+=16)for(let r=0;r<e.canvas.width;r+=16)e.fillStyle=16&(r^t)?"#FFF":"#DDD",e.fillRect(r,t,16,16);return e.canvas}();const n=ue.fromImage(ue.checkerBoardCanvas,t),i=new Image;return i.onload=(()=>ue.fromImage(i,t,r).swapWith(n)),i.onerror=(()=>{throw Error("Could not load image "+i.src+". 404?")}),i.src=e,n}static fromURL(e,t,r=Fe()){return new Promise((n,i)=>{const o=new Image;o.onload=(()=>n(ue.fromImage(o,t,r))),o.onerror=(e=>i("Could not load image "+o.src+". 404?"+e)),o.src=e})}}const ce={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},bindBuffer:{2:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}},bufferData:{3:{0:!0,2:!0},4:{0:!0,2:!0},5:{0:!0,2:!0}},bufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},copyBufferSubData:{5:{0:!0,1:!0}},getBufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},blitFramebuffer:{10:{8:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]},9:!0}},framebufferTextureLayer:{5:{0:!0,1:!0}},invalidateFramebuffer:{2:{0:!0}},invalidateSubFramebuffer:{6:{0:!0}},readBuffer:{1:{0:!0}},getInternalformatParameter:{3:{0:!0,1:!0,2:!0}},renderbufferStorageMultisample:{5:{0:!0,2:!0}},texStorage2D:{5:{0:!0,2:!0}},texStorage3D:{6:{0:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0},10:{0:!0,2:!0,6:!0,7:!0}},texImage3D:{10:{0:!0,2:!0,7:!0,8:!0},11:{0:!0,2:!0,7:!0,8:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0},10:{0:!0,6:!0,7:!0}},texSubImage3D:{11:{0:!0,8:!0,9:!0},12:{0:!0,8:!0,9:!0}},copyTexSubImage3D:{9:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0},8:{0:!0,2:!0},9:{0:!0,2:!0}},compressedTexImage3D:{8:{0:!0,2:!0},9:{0:!0,2:!0},10:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0},9:{0:!0,6:!0},10:{0:!0,6:!0}},compressedTexSubImage3D:{10:{0:!0,8:!0},11:{0:!0,8:!0},12:{0:!0,8:!0}},vertexAttribIPointer:{5:{2:!0}},drawArraysInstanced:{4:{0:!0}},drawElementsInstanced:{5:{0:!0,2:!0}},drawRangeElements:{6:{0:!0,4:!0}},readPixels:{7:{4:!0,5:!0},8:{4:!0,5:!0}},clearBufferfv:{3:{0:!0},4:{0:!0}},clearBufferiv:{3:{0:!0},4:{0:!0}},clearBufferuiv:{3:{0:!0},4:{0:!0}},clearBufferfi:{4:{0:!0}},beginQuery:{2:{0:!0}},endQuery:{1:{0:!0}},getQuery:{2:{0:!0,1:!0}},getQueryParameter:{2:{1:!0}},samplerParameteri:{3:{1:!0,2:!0}},samplerParameterf:{3:{1:!0}},getSamplerParameter:{2:{1:!0}},fenceSync:{2:{0:!0,1:{enumBitwiseOr:[]}}},clientWaitSync:{3:{1:{enumBitwiseOr:["SYNC_FLUSH_COMMANDS_BIT"]}}},waitSync:{3:{1:{enumBitwiseOr:[]}}},getSyncParameter:{2:{1:!0}},bindTransformFeedback:{2:{0:!0}},beginTransformFeedback:{1:{0:!0}},transformFeedbackVaryings:{3:{2:!0}},bindBufferBase:{3:{0:!0}},bindBufferRange:{5:{0:!0}},getIndexedParameter:{2:{0:!0}},getActiveUniforms:{3:{2:!0}},getActiveUniformBlockParameter:{3:{2:!0}}};let de=null,me=null;function fe(){if(null===de){de={},me={};const e=window.WebGL2RenderingContext||window.WebGLRenderingContext;if(!e)throw Error("Neither WebGL2RenderingContext nor WebGLRenderingContext exists on window.");for(const t in e){const r=e[t];"number"==typeof r&&(de[r]=t,me[t]=r)}}}function ge(e){fe();var t=de[e];return void 0!==t?"gl."+t:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function pe(e,t,r,n){const i=ce[e];if(void 0!==i){const e=i[t];if(void 0!==e){const t=e[r];if(t){if("object"==typeof t){const e=t.enumBitwiseOr,r=[];let i=0;for(let t=0;t<e.length;++t){const o=me[e[t]];0!=(n&o)&&(i|=o,r.push(ge(o)))}return i===n?r.join(" | "):ge(n)}return ge(n)}}}return null===n?"null":void 0===n?"undefined":n.toString()}function Be(e,t,r){e.__defineGetter__(r,function(){return t[r]}),e.__defineSetter__(r,function(e){t[r]=e})}var we,ye="attribute vec2 ts_TexCoord;attribute vec4 ts_Vertex;uniform mat4 ts_ModelViewProjectionMatrix;varying vec2 coord;void main(){coord=ts_TexCoord.xy;gl_Position=ts_ModelViewProjectionMatrix*ts_Vertex;}",Ee="precision mediump float;uniform sampler2D u_texture;uniform vec4 u_color;uniform float u_buffer;uniform float u_gamma;uniform float u_debug;varying vec2 coord;void main(){float dist=texture2D(u_texture,coord).r;if(u_debug>0.0){gl_FragColor=vec4(dist,dist,dist,1);}else{float alpha=smoothstep(u_buffer-u_gamma,u_buffer+u_gamma,dist);gl_FragColor=vec4(u_color.rgb,alpha*u_color.a);if(gl_FragColor.a==0.0){discard;}}}";function Fe(){return Ce.gl}class Ce{constructor(e,t={mesh:(new oe).addVertexBuffer("coords","ts_TexCoord").addVertexBuffer("colors","ts_Color"),mode:-1,coord:[0,0],color:[1,1,1,1],pointSize:1,shader:he.create("\n\t\t\tattribute vec4 ts_Color;\n\t\t\tattribute vec4 ts_Vertex;\n\t\t\tuniform mat4 ts_ModelViewProjectionMatrix;\n\t\t\tattribute vec2 ts_TexCoord;\n            uniform float pointSize;\n            varying vec4 color;\n            varying vec2 coord;\n            void main() {\n                color = ts_Color;\n                coord = ts_TexCoord;\n                gl_Position = ts_ModelViewProjectionMatrix * ts_Vertex;\n                gl_PointSize = pointSize;\n            }\n\t\t","\n\t\t\tprecision highp float;\n            uniform sampler2D texture;\n            uniform float pointSize;\n            // uniform bool useTexture;\n            varying vec4 color;\n            varying vec2 coord;\n            void main() {\n                gl_FragColor = color;\n                // if (useTexture) gl_FragColor *= texture2D(texture, coord.xy);\n            }\n        ",e)}){this.immediate=t,this.modelViewMatrix=L.identity(),this.projectionMatrix=L.identity(),this.tempMatrix=new L,this.resultMatrix=new L,this.modelViewStack=[],this.projectionStack=[],this.drawCallCount=0,this.projectionMatrixVersion=0,this.modelViewMatrixVersion=0,this.cachedSDFMeshes={},this.matrixMode(Ce.MODELVIEW)}matrixMode(e){switch(e){case this.MODELVIEW:this.currentMatrixName="modelViewMatrix",this.stack=this.modelViewStack;break;case this.PROJECTION:this.currentMatrixName="projectionMatrix",this.stack=this.projectionStack;break;default:throw Error("invalid matrix mode "+e)}}loadIdentity(){L.identity(this[this.currentMatrixName]),"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}loadMatrix(e){L.copy(e,this[this.currentMatrixName]),"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}multMatrix(e){L.multiply(this[this.currentMatrixName],e,this.resultMatrix);const t=this.resultMatrix;this.resultMatrix=this[this.currentMatrixName],this[this.currentMatrixName]=t,"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}mirror(e){this.multMatrix(L.mirror(e))}perspective(e,t,r,n){this.multMatrix(L.perspectiveRad(e*v,t,r,n,this.tempMatrix))}frustum(e,t,r,n,i,o){this.multMatrix(L.frustum(e,t,r,n,i,o,this.tempMatrix))}ortho(e,t,r,n,i,o){this.multMatrix(L.ortho(e,t,r,n,i,o,this.tempMatrix))}scale(...e){this.multMatrix(L.scale(...e,this.tempMatrix))}mirroredX(){this.multMatrix(L.mirror(T))}translate(e,t,r){void 0!==t?this.multMatrix(L.translate(e,t,r,this.tempMatrix)):this.multMatrix(L.translate(e,this.tempMatrix))}rotate(e,t,r,n){this.multMatrix(L.rotate(e*v,{x:t,y:r,z:n},this.tempMatrix))}lookAt(e,t,r){this.multMatrix(L.lookAt(e,t,r,this.tempMatrix))}pushMatrix(){this.stack.push(L.copy(this[this.currentMatrixName]))}popMatrix(){const e=this.stack.pop();this[this.currentMatrixName]=e,"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}wcToWindowMatrix(){const e=this.getParameter(this.VIEWPORT),[t,r,n,i]=e,o=new L([n/2,0,0,t+n/2,i/2,0,0,r+i/2,0,0,1,0,0,0,0,1]);return L.product(o,this.projectionMatrix,this.modelViewMatrix)}pointSize(e){this.immediate.shader.uniforms({pointSize:e})}begin(e){if(-1!=this.immediate.mode)throw Error("mismatched viewerGL.begin() and viewerGL.end() calls");this.immediate.mode=e,this.immediate.mesh.colors=[],this.immediate.mesh.coords=[],this.immediate.mesh.vertices=[]}color(...e){var t;this.immediate.color=1==e.length&&Array.isArray(e[0])?e[0]:1==e.length&&"number"==typeof e[0]?[((t=e[0])>>16)/255,(t>>8&255)/255,(255&t)/255,1]:1==e.length&&"string"==typeof e[0]?X.color(e[0]).gl():[e[0],e[1],e[2],e[3]||1]}texCoord(...e){this.immediate.coord=S.apply(void 0,e).toArray(2)}vertex(...e){this.immediate.mesh.colors.push(this.immediate.color),this.immediate.mesh.coords.push(this.immediate.coord),this.immediate.mesh.vertices.push(S.apply(void 0,e))}end(){if(-1==this.immediate.mode)throw Error("mismatched viewerGL.begin() and viewerGL.end() calls");this.immediate.mesh.compile(),this.immediate.shader.uniforms({useTexture:!!Ce.gl.getParameter(this.TEXTURE_BINDING_2D)}).drawBuffers(this.immediate.mesh.vertexBuffers,void 0,this.immediate.mode),this.immediate.mode=-1}makeCurrent(){Ce.gl=this}animate(e){const t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(()=>e(performance.now()),1e3/60)};let r=performance.now(),n=!0;const i=o=>{n&&(e.call(this,o,o-r),r=o,t(i))};return t(i),()=>{n=!1}}fullscreen(e={}){const t=e.paddingTop||0,r=e.paddingLeft||0,n=e.paddingRight||0,i=e.paddingBottom||0;if(!document.body)throw Error("document.body doesn't exist yet (call viewerGL.fullscreen() from window.onload() or from inside the <body> tag)");document.body.appendChild(this.canvas),document.body.style.overflow="hidden",this.canvas.style.position="absolute",this.canvas.style.left=r+"px",this.canvas.style.top=t+"px",this.canvas.style.width=window.innerWidth-r-n+"px",this.canvas.style.bottom=window.innerHeight-t-i+"px";const o=this;function a(){o.canvas.width=(window.innerWidth-r-n)*window.devicePixelRatio,o.canvas.height=(window.innerHeight-t-i)*window.devicePixelRatio,o.viewport(0,0,o.canvas.width,o.canvas.height),e.camera&&(o.matrixMode(Ce.PROJECTION),o.loadIdentity(),o.perspective(e.fov||45,o.canvas.width/o.canvas.height,e.near||.1,e.far||1e3),o.matrixMode(Ce.MODELVIEW))}return window.addEventListener("resize",a),a(),this}getMouseLine(e,t){if(e instanceof MouseEvent)return this.getMouseLine(e.offsetX,e.offsetY);const r=S(2*e/this.canvas.offsetWidth-1,2*-t/this.canvas.offsetHeight+1,0),n=S(2*e/this.canvas.offsetWidth-1,2*-t/this.canvas.offsetHeight+1,1),i=this.projectionMatrix.inversed(),o=i.transformPoint(r);return{anchor:o,dir:i.transformPoint(n).minus(o)}}viewportFill(){this.viewport(0,0,this.canvas.width,this.canvas.height)}setupTextRendering(e,t){return s(this,void 0,void 0,function*(){this.textRenderShader=he.create(ye,Ee),[this.textAtlas,this.textMetrics]=yield Promise.all([ue.fromURL(e,{format:this.LUMINANCE,internalFormat:this.LUMINANCE,type:this.UNSIGNED_BYTE}),fetch(t).then(e=>e.json())])})}getSDFMeshForString(e){return this.textMetrics,this.cachedSDFMeshes[e]||(this.cachedSDFMeshes[e]=function(e,t,r,n=1){const i=(new oe).addIndexBuffer("TRIANGLES").addVertexBuffer("coords","ts_TexCoord");let o=0,a=0;function s(r){const n=e.chars[r];if(!n)return;const[s,l,h,u,c,d,m]=n,{size:f,buffer:g}=e,p=i.vertices.length;if(s>0&&l>0){const e=(o+h-g)/f,r=(o+h+s+g)/f,n=(u-l-g)/f,c=(u+g)/f;i.vertices.push(new R(e,n,a/f),new R(r,n,a/f),new R(e,c,a/f),new R(r,c,a/f));const B=d/t.width,w=(d+s+2*g)/t.width,y=(m+l+2*g)/t.height,E=m/t.height;i.coords.push([B,y],[w,y],[B,E],[w,E]),Ae(i.TRIANGLES,!1,p,p+1,p+2,p+3)}o+=c}for(let t=0;t<r.length;t++){const i=r[t];"\n"==i?(o=0,a+=n*e.size):s(i)}return Object.assign(i.compile(),{width:o/e.size,lineCount:a+1})}(this.textMetrics,this.textAtlas,e))}renderText(e,t,r=1,n="left",i="bottom",o=.05,a=1.2){const s=this.getSDFMeshForString(e);this.pushMatrix(),this.scale(r);const l={top:-this.textMetrics.ascender/this.textMetrics.size,middle:(-this.textMetrics.ascender-this.textMetrics.descender)/2/this.textMetrics.size,alphabetic:0,bottom:-this.textMetrics.descender/this.textMetrics.size};this.translate({left:0,center:-.5,right:-1}[n]*s.width,l[i],0),this.multMatrix(L.forSys(R.X,R.Y,new R(0,-a,0))),this.textAtlas.bind(0),this.textRenderShader.uniforms({texture:0,u_color:t,u_debug:0,u_gamma:o,u_buffer:.75}).draw(s),this.popMatrix()}static create(e={}){const t=e.canvas||document.createElement("canvas");e.canvas||(t.width=800,t.height=600),"alpha"in e||(e.alpha=!1);let r=void 0;try{(r=t.getContext("webgl2",e))&&(r.version=2),r||(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e))&&(r.version=1),console.log("getting context")}catch(e){console.log(e,"Failed to get context")}if(!r)throw Error("WebGL not supported");return e.throwOnError&&(r=function e(t,r,n,i=t){fe(),r=r||function(e,t,r){var n,i="",o=r.length;for(let e=0;e<o;++e)i+=(0==e?"":", ")+pe(t,o,e,r[e]);n="WebGL error "+ge(e)+" in "+t+"("+i+")",window.console&&window.console.error?window.console.error(n):function(e){window.console&&window.console.log&&window.console.log(e)}(n)};const o={};function a(e,t){return function(...a){n&&n(t,a);const s=e[t].apply(e,a),l=i.getError();return 0!=l&&(o[l]=!0,r(l,t,a)),s}}const s={};for(let o in t)if("function"==typeof t[o])if("getExtension"!=o)s[o]=a(t,o);else{let l=a(t,o);s[o]=function(){const o=l.apply(t,arguments);return o?e(o,r,n,i):null}}else Be(s,t,o);return s.getError=function(){for(const e in o)if(o.hasOwnProperty(e)&&o[e])return o[e]=!1,parseInt(e);return t.NO_ERROR},s}(r,(e,t)=>{throw Error(ge(e)+" was caused by "+t)})),Ce.gl=r,G(r,Ce.prototype),G(r,new Ce(r)),r}fixCanvasRes(e=1/0){this.canvas.width=this.canvas.clientWidth*Math.min(window.devicePixelRatio,e),this.canvas.height=this.canvas.clientHeight*Math.min(window.devicePixelRatio,e),this.viewport(0,0,this.canvas.width,this.canvas.height)}}function Ae(e,t,r,n,i,o){t?e.push(r,i,n,n,i,o):e.push(r,n,i,n,o,i)}Ce.MODELVIEW=0,Ce.PROJECTION=1,Ce.HALF_FLOAT_OES=36193,(we||(we={})).create=Ce.create,Ce.prototype.MODELVIEW=Ce.MODELVIEW,Ce.prototype.PROJECTION=Ce.PROJECTION,Ce.prototype.HALF_FLOAT_OES=Ce.HALF_FLOAT_OES;var De,Ge="Expected a function",xe="[object Function]",ve="[object GeneratorFunction]",Me=/^\[object .+?Constructor\]$/,be="object"==typeof j&&j&&j.Object===Object&&j,Re="object"==typeof self&&self&&self.Object===Object&&self,Se=be||Re||Function("return this")(),_e=Array.prototype,Te=Function.prototype,Pe=Object.prototype,Oe=Se["__core-js_shared__"],ke=(De=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+De:"",Ve=Te.toString,Le=Pe.hasOwnProperty,Ye=Pe.toString,Ie=RegExp("^"+Ve.call(Le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=_e.splice,ze=Ze(Se,"Map"),We=Ze(Object,"create");function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function He(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ue(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qe(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function Xe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ze(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ke(e)||(t=e,ke&&ke in t))&&(function(e){var t=Ke(e)?Ye.call(e):"";return t==xe||t==ve}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Ie:Me).test(function(e){if(null!=e){try{return Ve.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function Je(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Ge);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(Je.Cache||Ue),r}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}je.prototype.clear=function(){this.__data__=We?We(null):{}},je.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},je.prototype.get=function(e){var t=this.__data__;if(We){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Le.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return We?void 0!==t[e]:Le.call(t,e)},je.prototype.set=function(e,t){return this.__data__[e]=We&&void 0===t?"__lodash_hash_undefined__":t,this},He.prototype.clear=function(){this.__data__=[]},He.prototype.delete=function(e){var t=this.__data__,r=qe(t,e);return!(r<0||(r==t.length-1?t.pop():Ne.call(t,r,1),0))},He.prototype.get=function(e){var t=this.__data__,r=qe(t,e);return r<0?void 0:t[r][1]},He.prototype.has=function(e){return qe(this.__data__,e)>-1},He.prototype.set=function(e,t){var r=this.__data__,n=qe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ue.prototype.clear=function(){this.__data__={hash:new je,map:new(ze||He),string:new je}},Ue.prototype.delete=function(e){return Xe(this,e).delete(e)},Ue.prototype.get=function(e){return Xe(this,e).get(e)},Ue.prototype.has=function(e){return Xe(this,e).has(e)},Ue.prototype.set=function(e,t){return Xe(this,e).set(e,t),this},Je.Cache=Ue;var $e=Je;function Qe(e,t,r,n,i,o,a,s){e.begin(e.LINES),e.color("black"),e.vertex(R.O),e.vertex(S(0,0,1)),e.vertex(R.O),e.vertex(S(t,0,0));for(var l=0;l<256;l++)e.vertex(R.polar(t,l/256*2*Math.PI,0)),e.vertex(R.polar(t,(l+1)/256*2*Math.PI,0));e.end();for(var h=0;h<360;h+=30)e.pushMatrix(),e.rotate(h,0,0,1),e.translate(t,0),e.rotate(90,0,0,1),e.renderText(h+"",X.hsl(h,1,.5).gl(),.05,"center","top"),e.renderText(h+"",[0,0,0,1],.05,"center","top",.2),e.popMatrix();e.pushMatrix(),e.rotate(90,1,0,0),e.renderText(r,[0,0,0,1],.05,"left","top"),e.translate(.25,0,0),e.renderText(n,[0,0,0,1],.05,"center","top"),e.translate(.25,0,0),e.renderText(i,[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(90,1,0,0),e.renderText(o,[0,0,0,1],.05,"left","bottom"),e.translate(0,.5,0),e.renderText(a,[0,0,0,1],.05,"left","middle"),e.translate(0,.5,0),e.renderText(s,[0,0,0,1],.05,"left","top"),e.popMatrix()}var et,tt={rgb:{render:function(e){e.translate(-.5,-.5,0),e.begin(e.LINES),e.color("black"),e.vertex(R.O),e.vertex(R.X),e.vertex(R.O),e.vertex(R.Y),e.vertex(R.O),e.vertex(R.Z),e.end(),e.pushMatrix(),e.rotate(90,1,0,0),e.renderText("0",[0,0,0,1],.05,"left","top"),e.translate(.5,0,0),e.renderText("red",[1,0,0,1],.05,"center","top"),e.translate(.5,0,0),e.renderText("255",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(90,0,0,1),e.rotate(90,1,0,0),e.renderText("0",[0,0,0,1],.05,"left","top"),e.translate(.5,0,0),e.renderText("green",[0,1,0,1],.05,"center","top"),e.translate(.5,0,0),e.renderText("255",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(-135,0,0,1),e.rotate(90,1,0,0),e.renderText("0",[0,0,0,1],.05,"left","bottom"),e.translate(0,.5,0),e.renderText("blue",[0,0,1,1],.05,"left","middle"),e.translate(0,.5,0),e.renderText("255",[0,0,0,1],.05,"left","top"),e.popMatrix()},convert:function(e){var t=e.gl(),r=t[0],n=t[1],i=t[2];return new R(r-.5,n-.5,i)},title:"RGB",children:r.createElement(r.Fragment,null,"The RGB color space. What your screen uses. Red, green and blue channels, generally 8 bits each, for a total of 16 million colors.")},hsl:{render:function(e){Qe(e,.5,"0","saturation","100%","0","lightness","100%")},convert:function(e){var t=e.hsl(),r=t[0],n=t[1],i=t[2];return R.polar(.5*n,r*v).plus(new R(0,0,i))},title:"HSL",children:r.createElement(r.Fragment,null,"Hue, saturation and lightness. Also supported by CSS.")},hsv:{render:function(e){Qe(e,.5,"0","saturation","100%","0","value","100%")},convert:function(e){var t=e.hsv(),r=t[0],n=t[1],i=t[2];return R.polar(.5*n,r*v).plus(new R(0,0,i))},title:"HSV",children:r.createElement(r.Fragment,null)},hcl:{render:function(e){Qe(e,.5,"0","chroma","200","0","luminance","100")},convert:function(e){var t=e.lch(),r=t[0],n=t[1],i=t[2];return R.polar(n/200*.5,i*v).plus(new R(0,0,r/100))},title:"HCL",children:r.createElement(r.Fragment,null,r.createElement("a",{href:"https://en.wikipedia.org/wiki/HCL_color_space"},"wiki"))},lab:{render:function(e){e.begin(e.LINES),e.color("black"),e.vertex(R.O),e.vertex(new R(0,0,1)),e.vertex(new R(-.435,0,0)),e.vertex(new R(.495,0,0)),e.vertex(new R(0,-.54,0)),e.vertex(new R(0,.475,0)),e.end(),e.pushMatrix(),e.rotate(90,1,0,0),e.renderText("A*",[1,0,0,1],.05,"center","top"),e.translate(-.435,0,0),e.renderText("-87",[0,0,0,1],.05,"left","top"),e.translate(.93,0,0),e.renderText("99",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(90,0,0,1),e.rotate(90,1,0,0),e.renderText("B*",[1,0,0,1],.05,"center","top"),e.translate(-.54,0,0),e.renderText("-108",[0,0,0,1],.05,"left","top"),e.translate(1.015,0,0),e.renderText("95",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(-135,0,0,1),e.rotate(90,1,0,0),e.renderText("0",[0,0,0,1],.05,"left","bottom"),e.translate(0,.5,0),e.renderText("blue",[0,0,1,1],.05,"left","middle"),e.translate(0,.5,0),e.renderText("255",[0,0,0,1],.05,"left","top"),e.popMatrix()},convert:function(e){var t=e.lab(),r=t[0],n=t[1],i=t[2];return new R(n/100*.5,i/100*.5,r/100)},title:"CIELAB",children:r.createElement(r.Fragment,null,"CIELAB color space. Much closer to perceptual uniform that RGB or HSL."," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/CIELAB_color_space"},"wiki"))},xyz:{render:function(e){e.begin(e.LINES),e.color("black"),e.vertex(R.O),e.vertex(new R(0,0,1)),e.vertex(new R(-.435,0,0)),e.vertex(new R(.495,0,0)),e.vertex(new R(0,-.54,0)),e.vertex(new R(0,.475,0)),e.end(),e.pushMatrix(),e.rotate(90,1,0,0),e.renderText("X",[1,0,0,1],.05,"center","top"),e.translate(-.435,0,0),e.renderText("-87",[0,0,0,1],.05,"left","top"),e.translate(.93,0,0),e.renderText("99",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(90,0,0,1),e.rotate(90,1,0,0),e.renderText("Y",[1,0,0,1],.05,"center","top"),e.translate(-.54,0,0),e.renderText("-108",[0,0,0,1],.05,"left","top"),e.translate(1.015,0,0),e.renderText("95",[0,0,0,1],.05,"right","top"),e.popMatrix(),e.pushMatrix(),e.rotate(-135,0,0,1),e.rotate(90,1,0,0),e.renderText("0",[0,0,0,1],.05,"left","bottom"),e.translate(0,.5,0),e.renderText("Z",[0,0,1,1],.05,"left","middle"),e.translate(0,.5,0),e.renderText("255",[0,0,0,1],.05,"left","top"),e.popMatrix()},convert:function(e){var t=e.xyz(),r=t[0],n=t[1],i=t[2];return new R(.5*r,.5*n,i)},title:"XYZ",children:r.createElement(r.Fragment,null,"CIELAB color space. Much closer to perceptual uniform that RGB or HSL."," ",r.createElement("a",{href:"https://en.wikipedia.org/wiki/CIELAB_color_space"},"wiki"))}},rt=[["35312C","Acadia","Brown"],["75AA94","Acapulco","Green"],["C0E8D5","Aero Blue","Green"],["745085","Affair","Violet"],["905E26","Afghan Tan","Yellow"],["5D8AA8","Air Force Blue","Blue"],["BEB29A","Akaroa","Yellow"],["F2F0E6","Alabaster","Grey"],["E1DACB","Albescent White","Yellow"],["954E2C","Alert Tan","Orange"],["F0F8FF","Alice Blue","Blue"],["E32636","Alizarin","Red"],["1F6A7D","Allports","Blue"],["EED9C4","Almond","Yellow"],["9A8678","Almond Frost","Brown"],["AD8A3B","Alpine","Yellow"],["CDC6C5","Alto","Grey"],["848789","Aluminium","Grey"],["E52B50","Amaranth","Red"],["387B54","Amazon","Green"],["FFBF00","Amber","Yellow"],["8A7D72","Americano","Brown"],["9966CC","Amethyst","Violet"],["95879C","Amethyst Smoke","Violet"],["F5E6EA","Amour","Violet"],["7D9D72","Amulet","Green"],["8CCEEA","Anakiwa","Blue"],["6C461F","Antique Brass","Orange"],["FAEBD7","Antique White","White"],["C68E3F","Anzac","Yellow"],["D3A95C","Apache","Yellow"],["66B348","Apple","Green"],["A95249","Apple Blossom","Red"],["DEEADC","Apple Green","Green"],["FBCEB1","Apricot","Orange"],["F7F0DB","Apricot White","Yellow"],["00FFFF","Aqua","Blue"],["D9DDD5","Aqua Haze","Grey"],["E8F3E8","Aqua Spring","Green"],["DBE4DC","Aqua Squeeze","Grey"],["7FFFD4","Aquamarine","Blue"],["274A5D","Arapawa","Blue"],["484A46","Armadillo","Grey"],["4B5320","Army green","Green"],["827A67","Arrowtown","Yellow"],["3B444B","Arsenic","Grey"],["BEBAA7","Ash","Green"],["7BA05B","Asparagus","Green"],["EDD5A6","Astra","Yellow"],["376F89","Astral","Blue"],["445172","Astronaut","Blue"],["214559","Astronaut Blue","Blue"],["DCDDDD","Athens Grey","Grey"],["D5CBB2","Aths Special","Yellow"],["9CD03B","Atlantis","Green"],["2B797A","Atoll","Green"],["3D4B52","Atomic","Blue"],["FF9966","Atomic Tangerine","Orange"],["9E6759","Au Chico","Brown"],["372528","Aubergine","Brown"],["712F2C","Auburn","Brown"],["EFF8AA","Australian Mint","Green"],["95986B","Avocado","Green"],["63775A","Axolotl","Green"],["F9C0C4","Azalea","Red"],["293432","Aztec","Green"],["F0FFFF","Azure","Blue"],["6FFFFF","Baby Blue","Blue"],["25597F","Bahama Blue","Blue"],["A9C01C","Bahia","Green"],["5C3317","Baker's Chocolate","Brown"],["849CA9","Bali Hai","Blue"],["3C3D3E","Baltic Sea","Grey"],["FBE7B2","Banana Mania","Yellow"],["878466","Bandicoot","Green"],["D2C61F","Barberry","Green"],["B6935C","Barley Corn","Yellow"],["F7E5B7","Barley White","Yellow"],["452E39","Barossa","Violet"],["2C2C32","Bastille","Blue"],["51574F","Battleship Grey","Grey"],["7BB18D","Bay Leaf","Green"],["353E64","Bay Of Many","Blue"],["8F7777","Bazaar","Brown"],["EBB9B3","Beauty Bush","Red"],["926F5B","Beaver","Brown"],["E9D7AB","Beeswax","Yellow"],["F5F5DC","Beige","Brown"],["86D2C1","Bermuda","Green"],["6F8C9F","Bermuda Grey","Blue"],["BCBFA8","Beryl Green","Green"],["F4EFE0","Bianca","Yellow"],["334046","Big Stone","Blue"],["3E8027","Bilbao","Green"],["AE99D2","Biloba Flower","Violet"],["3F3726","Birch","Yellow"],["D0C117","Bird Flower","Green"],["2F3C53","Biscay","Blue"],["486C7A","Bismark","Blue"],["B5AC94","Bison Hide","Yellow"],["FFE4C4","Bisque","Brown"],["3D2B1F","Bistre","Brown"],["88896C","Bitter","Green"],["D2DB32","Bitter Lemon","Green"],["FE6F5E","Bittersweet","Orange"],["E7D2C8","Bizarre","Orange"],["000000","Black","Black"],["232E26","Black Bean","Green"],["2C3227","Black Forest","Green"],["E0DED7","Black Haze","Grey"],["332C22","Black Magic","Brown"],["383740","Black Marlin","Blue"],["1E272C","Black Pearl","Blue"],["2C2D3C","Black Rock","Blue"],["532934","Black Rose","Red"],["24252B","Black Russian","Grey"],["E5E6DF","Black Squeeze","Grey"],["E5E4DB","Black White","Grey"],["43182F","Blackberry","Violet"],["2E183B","Blackcurrant","Violet"],["D9D0C1","Blanc","Yellow"],["FFEBCD","Blanched Almond","Brown"],["EBE1CE","Bleach White","Yellow"],["A3E3ED","Blizzard Blue","Blue"],["DFB1B6","Blossom","Red"],["0000FF","Blue","Blue"],["62777E","Blue Bayoux","Blue"],["9999CC","Blue Bell","Blue"],["E3D6E9","Blue Chalk","Violet"],["262B2F","Blue Charcoal","Blue"],["408F90","Blue Chill","Green"],["4B2D72","Blue Diamond","Violet"],["35514F","Blue Dianne","Green"],["4B3C8E","Blue Gem","Violet"],["BDBACE","Blue Haze","Violet"],["00626F","Blue Lagoon","Green"],["6A5BB1","Blue Marguerite","Violet"],["D8F0D2","Blue Romance","Green"],["78857A","Blue Smoke","Green"],["166461","Blue Stone","Green"],["8A2BE2","Blue Violet","Violet"],["1E3442","Blue Whale","Blue"],["3C4354","Blue Zodiac","Blue"],["305C71","Blumine","Blue"],["B55067","Blush","Red"],["2A2725","Bokara Grey","Grey"],["79443B","Bole","Brown"],["AEAEAD","Bombay","Grey"],["DFD7D2","Bon Jour","Grey"],["0095B6","Bondi Blue","Blue"],["DBC2AB","Bone","Orange"],["4C1C24","Bordeaux","Red"],["4C3D4E","Bossanova","Violet"],["438EAC","Boston Blue","Blue"],["92ACB4","Botticelli","Blue"],["254636","Bottle Green","Green"],["7C817C","Boulder","Grey"],["A78199","Bouquet","Violet"],["AF6C3E","Bourbon","Orange"],["5B3D27","Bracken","Brown"],["DCB68A","Brandy","Orange"],["C07C40","Brandy Punch","Orange"],["B6857A","Brandy Rose","Red"],["B5A642","Brass","Yellow"],["517B78","Breaker Bay","Green"],["C62D42","Brick Red","Red"],["F8EBDD","Bridal Heath","Orange"],["FAE6DF","Bridesmaid","Orange"],["66FF00","Bright Green","Green"],["57595D","Bright Grey","Grey"],["922A31","Bright Red","Red"],["ECBD2C","Bright Sun","Yellow"],["08E8DE","Bright Turquoise","Blue"],["FF55A3","Brilliant Rose","Red"],["FB607F","Brink Pink","Red"],["004225","British Racing Green","Green"],["A79781","Bronco","Brown"],["CD7F32","Bronze","Brown"],["584C25","Bronze Olive","Yellow"],["434C28","Bronzetone","Yellow"],["EECC24","Broom","Yellow"],["A52A2A","Brown","Brown"],["53331E","Brown Bramble","Brown"],["594537","Brown Derby","Brown"],["3C241B","Brown Pod","Brown"],["E6F2EA","Bubbles","Green"],["6E5150","Buccaneer","Red"],["A5A88F","Bud","Green"],["BC9B1B","Buddha Gold","Yellow"],["F0DC82","Buff","Yellow"],["482427","Bulgarian Rose","Red"],["75442B","Bull Shot","Orange"],["292C2F","Bunker","Grey"],["2B3449","Bunting","Blue"],["800020","Burgundy","Red"],["DEB887","Burly Wood","Brown"],["234537","Burnham","Green"],["D08363","Burning Sand","Orange"],["582124","Burnt Crimson","Red"],["FF7034","Burnt Orange","Orange"],["E97451","Burnt Sienna","Brown"],["8A3324","Burnt Umber","Brown"],["DA9429","Buttercup","Yellow"],["9D702E","Buttered Rum","Yellow"],["68578C","Butterfly Bush","Violet"],["F6E0A4","Buttermilk","Yellow"],["F1EBDA","Buttery White","Yellow"],["4A2E32","Cab Sav","Red"],["CD526C","Cabaret","Red"],["4C5544","Cabbage Pont","Green"],["5B6F55","Cactus","Green"],["5F9EA0","Cadet Blue","Blue"],["984961","Cadillac","Red"],["6A4928","Cafe Royale","Brown"],["D5B185","Calico","Brown"],["E98C3A","California","Orange"],["3D7188","Calypso","Blue"],["206937","Camarone","Green"],["803A4B","Camelot","Red"],["CCA483","Cameo","Brown"],["4F4D32","Camouflage","Yellow"],["78866B","Camouflage Green","Green"],["D08A9B","Can Can","Red"],["FFFF99","Canary","Yellow"],["8E5164","Cannon Pink","Red"],["4E5552","Cape Cod","Grey"],["FEE0A5","Cape Honey","Yellow"],["75482F","Cape Palliser","Orange"],["AFC182","Caper","Green"],["592720","Caput Mortuum","Brown"],["FFD59A","Caramel","Yellow"],["EBE5D5","Cararra","Green"],["1B3427","Cardin Green","Green"],["C41E3A","Cardinal","Red"],["C99AA0","Careys Pink","Red"],["00CC99","Caribbean Green","Green"],["E68095","Carissma","Red"],["F5F9CB","Carla","Green"],["960018","Carmine","Red"],["5B3A24","Carnaby Tan","Brown"],["FFA6C9","Carnation Pink","Red"],["F8DBE0","Carousel Pink","Red"],["ED9121","Carrot Orange","Orange"],["F0B253","Casablanca","Yellow"],["3F545A","Casal","Blue"],["8CA8A0","Cascade","Green"],["D1B399","Cashmere","Brown"],["AAB5B8","Casper","Blue"],["44232F","Castro","Red"],["273C5A","Catalina Blue","Blue"],["E0E4DC","Catskill White","Grey"],["E0B8B1","Cavern Pink","Red"],["9271A7","Ce Soir","Violet"],["463430","Cedar","Brown"],["ACE1AF","Celadon","Green"],["B4C04C","Celery","Green"],["D2D2C0","Celeste","Green"],["3A4E5F","Cello","Blue"],["2B3F36","Celtic","Green"],["857158","Cement","Brown"],["DE3163","Cerise","Violet"],["007BA7","Cerulean","Blue"],["2A52BE","Cerulean Blue","Blue"],["FDE9E0","Chablis","Red"],["5A6E41","Chalet Green","Green"],["DFC281","Chalky","Yellow"],["475877","Chambray","Blue"],["E8CD9A","Chamois","Yellow"],["EED9B6","Champagne","Yellow"],["EDB8C7","Chantilly","Red"],["394043","Charade","Blue"],["464646","Charcoal","Grey"],["F8EADF","Chardon","Orange"],["FFC878","Chardonnay","Yellow"],["A4DCE6","Charlotte","Blue"],["D0748B","Charm","Red"],["7FFF00","Chartreuse","Green"],["DFFF00","Chartreuse Yellow","Yellow"],["419F59","Chateau Green","Green"],["B3ABB6","Chatelle","Violet"],["2C5971","Chathams Blue","Blue"],["88A95B","Chelsea Cucumber","Green"],["95532F","Chelsea Gem","Orange"],["DEC371","Chenin","Yellow"],["F5CD82","Cherokee","Yellow"],["372D52","Cherry Pie","Violet"],["F5D7DC","Cherub","Red"],["B94E48","Chestnut","Brown"],["666FB4","Chetwode Blue","Blue"],["5B5D56","Chicago","Grey"],["F0F5BB","Chiffon","Green"],["D05E34","Chilean Fire","Orange"],["F9F7DE","Chilean Heath","Green"],["FBF3D3","China Ivory","Green"],["B8AD8A","Chino","Yellow"],["9DD3A8","Chinook","Green"],["D2691E","Chocolate","Brown"],["382161","Christalle","Violet"],["71A91D","Christi","Green"],["BF652E","Christine","Orange"],["CAC7B7","Chrome White","Green"],["7D4E38","Cigar","Brown"],["242A2E","Cinder","Grey"],["FBD7CC","Cinderella","Red"],["E34234","Cinnabar","Red"],["5D3B2E","Cioccolato","Brown"],["8E9A21","Citron","Green"],["9FB70A","Citrus","Green"],["D2B3A9","Clam Shell","Orange"],["6E2233","Claret","Red"],["F4C8DB","Classic Rose","Violet"],["897E59","Clay Creek","Yellow"],["DFEFEA","Clear Day","Green"],["463623","Clinker","Brown"],["C2BCB1","Cloud","Yellow"],["353E4F","Cloud Burst","Blue"],["B0A99F","Cloudy","Brown"],["47562F","Clover","Green"],["0047AB","Cobalt","Blue"],["4F3835","Cocoa Bean","Red"],["35281E","Cocoa Brown","Brown"],["E1DABB","Coconut Cream","Green"],["2D3032","Cod Grey","Grey"],["726751","Coffee","Yellow"],["362D26","Coffee Bean","Brown"],["9A463D","Cognac","Red"],["3C2F23","Cola","Brown"],["9D8ABF","Cold Purple","Violet"],["CAB5B2","Cold Turkey","Red"],["9BDDFF","Columbia Blue","Blue"],["636373","Comet","Blue"],["4C785C","Como","Green"],["A0B1AE","Conch","Green"],["827F79","Concord","Grey"],["D2D1CD","Concrete","Grey"],["DDCB46","Confetti","Green"],["654D49","Congo Brown","Brown"],["B1DD52","Conifer","Green"],["C16F68","Contessa","Red"],["DA8A67","Copper","Red"],["77422C","Copper Canyon","Orange"],["996666","Copper Rose","Violet"],["95524C","Copper Rust","Red"],["FF7F50","Coral","Orange"],["F5D0C9","Coral Candy","Red"],["FF4040","Coral Red","Red"],["AB6E67","Coral Tree","Red"],["404D49","Corduroy","Green"],["BBB58D","Coriander","Green"],["5A4C42","Cork","Brown"],["FBEC5D","Corn","Yellow"],["F8F3C4","Corn Field","Green"],["42426F","Corn Flower Blue","Blue"],["8D702A","Corn Harvest","Yellow"],["FFF8DC","Corn Silk","Yellow"],["93CCEA","Cornflower","Blue"],["6495ED","Cornflower Blue","Blue"],["E9BA81","Corvette","Orange"],["794D60","Cosmic","Violet"],["E1F8E7","Cosmic Latte","White"],["FCD5CF","Cosmos","Red"],["625D2A","Costa Del Sol","Green"],["FFB7D5","Cotton Candy","Red"],["BFBAAF","Cotton Seed","Yellow"],["1B4B35","County Green","Green"],["443736","Cowboy","Brown"],["87382F","Crab Apple","Red"],["A65648","Crail","Red"],["DB5079","Cranberry","Red"],["4D3E3C","Crater Brown","Brown"],["FFFDD0","Cream","White"],["FFE39B","Cream Brulee","Yellow"],["EEC051","Cream Can","Yellow"],["393227","Creole","Brown"],["77712B","Crete","Green"],["DC143C","Crimson","Red"],["706950","Crocodile","Yellow"],["763C33","Crown Of Thorns","Red"],["B4E2D5","Cruise","Green"],["165B31","Crusoe","Green"],["F38653","Crusta","Orange"],["784430","Cumin","Orange"],["F5F4C1","Cumulus","Green"],["F5B2C5","Cupid","Red"],["3D85B8","Curious Blue","Blue"],["5C8173","Cutty Sark","Green"],["0F4645","Cyprus","Green"],["EDD2A4","Dairy Cream","Yellow"],["5B3E90","Daisy Bush","Violet"],["664A2D","Dallas","Brown"],["FED85D","Dandelion","Yellow"],["5B89C0","Danube","Blue"],["00008B","Dark Blue","Blue"],["654321","Dark Brown","Brown"],["08457E","Dark Cerulean","Blue"],["986960","Dark Chestnut","Red"],["CD5B45","Dark Coral","Orange"],["008B8B","Dark Cyan","Green"],["B8860B","Dark Goldenrod","Yellow"],["A9A9A9","Dark Gray","Grey"],["013220","Dark Green","Green"],["4A766E","Dark Green Copper","Green"],["BDB76B","Dark Khaki","Yellow"],["8B008B","Dark Magenta","Violet"],["556B2F","Dark Olive Green","Green"],["FF8C00","Dark Orange","Orange"],["9932CC","Dark Orchid","Violet"],["03C03C","Dark Pastel Green","Green"],["E75480","Dark Pink","Red"],["871F78","Dark Purple","Violet"],["8B0000","Dark Red","Red"],["45362B","Dark Rum","Brown"],["E9967A","Dark Salmon","Orange"],["8FBC8F","Dark Sea Green","Green"],["465352","Dark Slate","Green"],["483D8B","Dark Slate Blue","Blue"],["2F4F4F","Dark Slate Grey","Grey"],["177245","Dark Spring Green","Green"],["97694F","Dark Tan","Brown"],["FFA812","Dark Tangerine","Orange"],["00CED1","Dark Turquoise","Blue"],["9400D3","Dark Violet","Violet"],["855E42","Dark Wood","Brown"],["788878","Davy's Grey","Grey"],["9F9D91","Dawn","Green"],["E6D6CD","Dawn Pink","Orange"],["85CA87","De York","Green"],["CCCF82","Deco","Green"],["E36F8A","Deep Blush","Red"],["51412D","Deep Bronze","Brown"],["DA3287","Deep Cerise","Violet"],["193925","Deep Fir","Green"],["343467","Deep Koamaru","Violet"],["9955BB","Deep Lilac","Violet"],["CC00CC","Deep Magenta","Violet"],["FF1493","Deep Pink","Red"],["167E65","Deep Sea","Green"],["00BFFF","Deep Sky Blue","Blue"],["19443C","Deep Teal","Green"],["B5998E","Del Rio","Brown"],["486531","Dell","Green"],["999B95","Delta","Grey"],["8272A4","Deluge","Violet"],["1560BD","Denim","Blue"],["F9E4C6","Derby","Yellow"],["A15F3B","Desert","Orange"],["EDC9AF","Desert Sand","Brown"],["EDE7E0","Desert Storm","Grey"],["E7F2E9","Dew","Green"],["322C2B","Diesel","Grey"],["696969","Dim Gray","Grey"],["607C47","Dingley","Green"],["892D4F","Disco","Red"],["CD8431","Dixie","Yellow"],["1E90FF","Dodger Blue","Blue"],["F5F171","Dolly","Green"],["6A6873","Dolphin","Violet"],["6C5B4C","Domino","Brown"],["5A4F51","Don Juan","Brown"],["816E5C","Donkey Brown","Brown"],["6E5F56","Dorado","Brown"],["E4CF99","Double Colonial White","Yellow"],["E9DCBE","Double Pearl Lusta","Yellow"],["D2C3A3","Double Spanish White","Yellow"],["777672","Dove Grey","Grey"],["6FD2BE","Downy","Green"],["FBEB9B","Drover","Yellow"],["514F4A","Dune","Grey"],["E5CAC0","Dust Storm","Orange"],["AC9B9B","Dusty Grey","Grey"],["F0DFBB","Dutch White","Yellow"],["B0AC94","Eagle","Green"],["B8A722","Earls Green","Green"],["FBF2DB","Early Dawn","Yellow"],["47526E","East Bay","Blue"],["AA8CBC","East Side","Violet"],["00879F","Eastern Blue","Blue"],["E6D8D4","Ebb","Red"],["313337","Ebony","Grey"],["323438","Ebony Clay","Grey"],["A4AFCD","Echo Blue","Blue"],["3F3939","Eclipse","Grey"],["C2B280","Ecru","Brown"],["D6D1C0","Ecru White","Green"],["C96138","Ecstasy","Orange"],["266255","Eden","Green"],["C1D8C5","Edgewater","Green"],["97A49A","Edward","Green"],["F9E4C5","Egg Sour","Yellow"],["990066","Eggplant","Violet"],["1034A6","Egyptian Blue","Blue"],["39392C","El Paso","Green"],["8F4E45","El Salva","Red"],["7DF9FF","Electric Blue","Blue"],["6600FF","Electric Indigo","Violet"],["CCFF00","Electric Lime","Green"],["BF00FF","Electric Purple","Violet"],["243640","Elephant","Blue"],["1B8A6B","Elf Green","Green"],["297B76","Elm","Green"],["50C878","Emerald","Green"],["6E3974","Eminence","Violet"],["50494A","Emperor","Grey"],["7C7173","Empress","Grey"],["29598B","Endeavour","Blue"],["F5D752","Energy Yellow","Yellow"],["274234","English Holly","Green"],["8BA58F","Envy","Green"],["DAB160","Equator","Yellow"],["4E312D","Espresso","Red"],["2D2F28","Eternity","Green"],["329760","Eucalyptus","Green"],["CDA59C","Eunry","Red"],["26604F","Evening Sea","Green"],["264334","Everglade","Green"],["F3E5DC","Fair Pink","Orange"],["6E5A5B","Falcon","Brown"],["C19A6B","Fallow","Brown"],["801818","Falu Red","Red"],["F2E6DD","Fantasy","Orange"],["625665","Fedora","Violet"],["A5D785","Feijoa","Green"],["4D5D53","Feldgrau","Grey"],["D19275","Feldspar","Red"],["63B76C","Fern","Green"],["4F7942","Fern Green","Green"],["876A68","Ferra","Brown"],["EACC4A","Festival","Yellow"],["DBE0D0","Feta","Green"],["B1592F","Fiery Orange","Orange"],["636F22","Fiji Green","Green"],["75785A","Finch","Green"],["61755B","Finlandia","Green"],["694554","Finn","Violet"],["4B5A62","Fiord","Blue"],["8F3F2A","Fire","Orange"],["B22222","Fire Brick","Red"],["E09842","Fire Bush","Yellow"],["CE1620","Fire Engine Red","Red"],["314643","Firefly","Green"],["BE5C48","Flame Pea","Orange"],["86282E","Flame Red","Red"],["EA8645","Flamenco","Orange"],["E1634F","Flamingo","Orange"],["EEDC82","Flax","Yellow"],["716E61","Flint","Green"],["7A2E4D","Flirt","Red"],["FFFAF0","Floral White","White"],["D0EAE8","Foam","Green"],["D5C7E8","Fog","Violet"],["A7A69D","Foggy Grey","Grey"],["228B22","Forest Green","Green"],["FDEFDB","Forget Me Not","Yellow"],["65ADB2","Fountain Blue","Blue"],["FFD7A0","Frangipani","Yellow"],["029D74","Free Speech Aquamarine","Green"],["4156C5","Free Speech Blue","Blue"],["09F911","Free Speech Green","Green"],["E35BD8","Free Speech Magenta","Red"],["C00000","Free Speech Red","Red"],["BFBDC1","French Grey","Grey"],["DEB7D9","French Lilac","Violet"],["A4D2E0","French Pass","Blue"],["F64A8A","French Rose","Red"],["86837A","Friar Grey","Grey"],["B4E1BB","Fringy Flower","Green"],["E56D75","Froly","Red"],["E1E4C5","Frost","Green"],["E2F2E4","Frosted Mint","Green"],["DBE5D2","Frostee","Green"],["4BA351","Fruit Salad","Green"],["C154C1","Fuchsia","Violet"],["FF77FF","Fuchsia Pink","Red"],["C2D62E","Fuego","Green"],["D19033","Fuel Yellow","Yellow"],["335083","Fun Blue","Blue"],["15633D","Fun Green","Green"],["3C3B3C","Fuscous Grey","Grey"],["C45655","Fuzzy Wuzzy Brown","Brown"],["2C4641","Gable Green","Green"],["DCDCDC","Gainsboro","White"],["DCD7D1","Gallery","Grey"],["D8A723","Galliano","Yellow"],["E49B0F","Gamboge","Yellow"],["C5832E","Geebung","Yellow"],["31796D","Genoa","Green"],["E77B75","Geraldine","Red"],["CBD0CF","Geyser","Grey"],["C0BFC7","Ghost","Blue"],["F8F8FF","Ghost White","White"],["564786","Gigas","Violet"],["B9AD61","Gimblet","Green"],["D9DFCD","Gin","Green"],["F8EACA","Gin Fizz","Yellow"],["EBD4AE","Givry","Yellow"],["78B1BF","Glacier","Blue"],["5F8151","Glade Green","Green"],["786E4C","Go Ben","Yellow"],["34533D","Goblin","Green"],["FFD700","Gold","Yellow"],["D56C30","Gold Drop","Orange"],["E2B227","Gold Tips","Yellow"],["CA8136","Golden Bell","Orange"],["996515","Golden Brown","Brown"],["F1CC2B","Golden Dream","Yellow"],["EBDE31","Golden Fizz","Green"],["F9D77E","Golden Glow","Yellow"],["FCC200","Golden Poppy","Yellow"],["EACE6A","Golden Sand","Yellow"],["FFC152","Golden Tainoi","Yellow"],["FFDF00","Golden Yellow","Yellow"],["DBDB70","Goldenrod","Yellow"],["373332","Gondola","Grey"],["29332B","Gordons Green","Green"],["FDE336","Gorse","Green"],["399F86","Gossamer","Green"],["9FD385","Gossip","Green"],["698890","Gothic","Blue"],["51559B","Governor Bay","Blue"],["CAB8A2","Grain Brown","Yellow"],["FFCD73","Grandis","Yellow"],["8B8265","Granite Green","Yellow"],["C5E7CD","Granny Apple","Green"],["7B948C","Granny Smith","Green"],["9DE093","Granny Smith Apple","Green"],["413D4B","Grape","Violet"],["383428","Graphite","Yellow"],["4A4B46","Gravel","Grey"],["008000","Green","Green"],["3E6334","Green House","Green"],["393D2A","Green Kelp","Green"],["526B2D","Green Leaf","Green"],["BFC298","Green Mist","Green"],["266242","Green Pea","Green"],["9CA664","Green Smoke","Green"],["A9AF99","Green Spring","Green"],["23414E","Green Vogue","Blue"],["2C2D24","Green Waterloo","Green"],["DEDDCB","Green White","Green"],["ADFF2F","Green Yellow","Green"],["C14D36","Grenadier","Orange"],["808080","Grey","Grey"],["9FA3A7","Grey Chateau","Grey"],["BDBAAE","Grey Nickel","Green"],["D1D3CC","Grey Nurse","Grey"],["A19A7F","Grey Olive","Yellow"],["9391A0","Grey Suit","Blue"],["465945","Grey-Asparagus","Green"],["952E31","Guardsman Red","Red"],["343F5C","Gulf Blue","Blue"],["74B2A8","Gulf Stream","Green"],["A4ADB0","Gull Grey","Grey"],["ACC9B2","Gum Leaf","Green"],["718F8A","Gumbo","Green"],["484753","Gun Powder","Violet"],["2C3539","Gunmetal","Blue"],["7A7C76","Gunsmoke","Grey"],["989171","Gurkha","Green"],["9E8022","Hacienda","Yellow"],["633528","Hairy Heath","Brown"],["2C2A35","Haiti","Violet"],["EDE7C8","Half And Half","Green"],["558F93","Half Baked","Blue"],["F2E5BF","Half Colonial White","Yellow"],["FBF0D6","Half Dutch White","Yellow"],["F1EAD7","Half Pearl Lusta","Yellow"],["E6DBC7","Half Spanish White","Yellow"],["E8D4A2","Hampton","Yellow"],["5218FA","Han Purple","Violet"],["3FFF00","Harlequin","Green"],["C93413","Harley Davidson Orange","Orange"],["CBCEC0","Harp","Green"],["EAB76A","Harvest Gold","Yellow"],["3B2B2C","Havana","Brown"],["5784C1","Havelock Blue","Blue"],["99522B","Hawaiian Tan","Orange"],["D2DAED","Hawkes Blue","Blue"],["4F2A2C","Heath","Red"],["AEBBC1","Heather","Blue"],["948C7E","Heathered Grey","Brown"],["46473E","Heavy Metal","Grey"],["DF73FF","Heliotrope","Violet"],["69684B","Hemlock","Yellow"],["987D73","Hemp","Brown"],["928C3C","Highball","Green"],["7A9461","Highland","Green"],["A7A07E","Hillary","Green"],["736330","Himalaya","Yellow"],["DFF1D6","Hint Of Green","Green"],["F5EFEB","Hint Of Red","Grey"],["F6F5D7","Hint Of Yellow","Green"],["49889A","Hippie Blue","Blue"],["608A5A","Hippie Green","Green"],["AB495C","Hippie Pink","Red"],["A1A9A8","Hit Grey","Grey"],["FDA470","Hit Pink","Orange"],["BB8E34","Hokey Pokey","Yellow"],["647D86","Hoki","Blue"],["25342B","Holly","Green"],["F400A1","Hollywood Cerise","Red"],["5C3C6D","Honey Flower","Violet"],["F0FFF0","Honeydew","White"],["E8ED69","Honeysuckle","Green"],["CD6D93","Hopbush","Violet"],["648894","Horizon","Blue"],["6D562C","Horses Neck","Yellow"],["815B28","Hot Curry","Yellow"],["FF00CC","Hot Magenta","Red"],["FF69B4","Hot Pink","Red"],["4E2E53","Hot Purple","Violet"],["A7752C","Hot Toddy","Yellow"],["CEEFE4","Humming Bird","Green"],["355E3B","Hunter Green","Green"],["8B7E77","Hurricane","Brown"],["B2994B","Husk","Yellow"],["AFE3D6","Ice Cold","Green"],["CAE1D9","Iceberg","Green"],["EF95AE","Illusion","Red"],["B0E313","Inch Worm","Green"],["CD5C5C","Indian Red","Red"],["4F301F","Indian Tan","Brown"],["4B0082","Indigo","Violet"],["9C5B34","Indochine","Orange"],["002FA7","International Klein Blue","Blue"],["FF4F00","International Orange","Orange"],["03B4C8","Iris Blue","Blue"],["62422B","Irish Coffee","Brown"],["CBCDCD","Iron","Grey"],["706E66","Ironside Grey","Grey"],["865040","Ironstone","Brown"],["009900","Islamic Green","Green"],["F8EDDB","Island Spice","Yellow"],["FFFFF0","Ivory","White"],["3D325D","Jacarta","Violet"],["413628","Jacko Bean","Brown"],["3D3F7D","Jacksons Purple","Violet"],["00A86B","Jade","Green"],["E27945","Jaffa","Orange"],["CAE7E2","Jagged Ice","Green"],["3F2E4C","Jagger","Violet"],["29292F","Jaguar","Blue"],["674834","Jambalaya","Brown"],["2F7532","Japanese Laurel","Green"],["CE7259","Japonica","Orange"],["259797","Java","Green"],["5F2C2F","Jazz","Red"],["A50B5E","Jazzberry Jam","Red"],["44798E","Jelly Bean","Blue"],["BBD0C9","Jet Stream","Green"],["136843","Jewel","Green"],["463D3E","Jon","Grey"],["EEF293","Jonquil","Green"],["7AAAE0","Jordy Blue","Blue"],["5D5346","Judge Grey","Brown"],["878785","Jumbo","Grey"],["29AB87","Jungle Green","Green"],["B0C4C4","Jungle Mist","Green"],["74918E","Juniper","Green"],["DCBFAC","Just Right","Orange"],["6C5E53","Kabul","Brown"],["245336","Kaitoke Green","Green"],["C5C3B0","Kangaroo","Green"],["2D2D24","Karaka","Green"],["FEDCC1","Karry","Orange"],["576D8E","Kashmir Blue","Blue"],["4CBB17","Kelly Green","Green"],["4D503C","Kelp","Green"],["6C322E","Kenyan Copper","Red"],["5FB69C","Keppel","Green"],["F0E68C","Khaki","Yellow"],["BFC0AB","Kidnapper","Green"],["3A3532","Kilamanjaro","Grey"],["49764F","Killarney","Green"],["695D87","Kimberly","Violet"],["583580","Kingfisher Daisy","Violet"],["E093AB","Kobi","Red"],["7B785A","Kokoda","Green"],["804E2C","Korma","Orange"],["FEB552","Koromiko","Yellow"],["F9D054","Kournikova","Yellow"],["428929","La Palma","Green"],["BAC00E","La Rioja","Green"],["C6DA36","Las Palmas","Green"],["C6A95E","Laser","Yellow"],["FFFF66","Laser Lemon","Yellow"],["6E8D71","Laurel","Green"],["E6E6FA","Lavender","Violet"],["CCCCFF","Lavender Blue","Blue"],["FFF0F5","Lavender Blush","Violet"],["BDBBD7","Lavender Grey","Grey"],["FBAED2","Lavender Pink","Red"],["FBA0E3","Lavender Rose","Red"],["7CFC00","Lawn Green","Green"],["906A54","Leather","Brown"],["FDE910","Lemon","Yellow"],["FFFACD","Lemon Chiffon","Yellow"],["968428","Lemon Ginger","Yellow"],["999A86","Lemon Grass","Green"],["2E3749","Licorice","Blue"],["ADD8E6","Light Blue","Blue"],["F08080","Light Coral","Orange"],["E0FFFF","Light Cyan","Blue"],["EEDD82","Light Goldenrod","Yellow"],["FAFAD2","Light Goldenrod Yellow","Yellow"],["90EE90","Light Green","Green"],["D3D3D3","Light Grey","Grey"],["FFB6C1","Light Pink","Red"],["FFA07A","Light Salmon","Orange"],["20B2AA","Light Sea Green","Green"],["87CEFA","Light Sky Blue","Blue"],["8470FF","Light Slate Blue","Blue"],["778899","Light Slate Grey","Grey"],["B0C4DE","Light Steel Blue","Blue"],["856363","Light Wood","Brown"],["FFFFE0","Light Yellow","Yellow"],["F7A233","Lightning Yellow","Yellow"],["C8A2C8","Lilac","Violet"],["9470C4","Lilac Bush","Violet"],["C19FB3","Lily","Violet"],["E9EEEB","Lily White","Grey"],["7AAC21","Lima","Green"],["00FF00","Lime","Green"],["32CD32","Lime Green","Green"],["5F9727","Limeade","Green"],["89AC27","Limerick","Green"],["FAF0E6","Linen","White"],["C7CDD8","Link Water","Blue"],["962C54","Lipstick","Red"],["534B4F","Liver","Brown"],["312A29","Livid Brown","Brown"],["DBD9C2","Loafer","Green"],["B3BBB7","Loblolly","Green"],["489084","Lochinvar","Green"],["316EA0","Lochmara","Blue"],["A2A580","Locust","Green"],["393E2E","Log Cabin","Green"],["9D9CB4","Logan","Blue"],["B9ACBB","Lola","Violet"],["AE94AB","London Hue","Violet"],["522426","Lonestar","Red"],["8B504B","Lotus","Brown"],["4C3347","Loulou","Violet"],["AB9A1C","Lucky","Green"],["292D4F","Lucky Point","Blue"],["4E5541","Lunar Green","Green"],["782E2C","Lusty","Red"],["AB8D3F","Luxor Gold","Yellow"],["697D89","Lynch","Blue"],["CBE8E8","Mabel","Blue"],["FFB97B","Macaroni And Cheese","Orange"],["B7E3A8","Madang","Green"],["2D3C54","Madison","Blue"],["473E23","Madras","Brown"],["FF00FF","Magenta","Violet"],["AAF0D1","Magic Mint","Green"],["F8F4FF","Magnolia","White"],["CA3435","Mahogany","Brown"],["A56531","Mai Tai","Orange"],["2A2922","Maire","Yellow"],["E3B982","Maize","Yellow"],["695F50","Makara","Brown"],["505555","Mako","Grey"],["0BDA51","Malachite","Green"],["97976F","Malachite Green","Green"],["66B7E1","Malibu","Blue"],["3A4531","Mallard","Green"],["A59784","Malta","Brown"],["766D7C","Mamba","Violet"],["8D90A1","Manatee","Blue"],["B57B2E","Mandalay","Yellow"],["8E2323","Mandarian Orange","Orange"],["CD525B","Mandy","Red"],["F5B799","Mandys Pink","Orange"],["E77200","Mango Tango","Orange"],["E2AF80","Manhattan","Orange"],["7FC15C","Mantis","Green"],["96A793","Mantle","Green"],["E4DB55","Manz","Green"],["352235","Mardi Gras","Violet"],["B88A3D","Marigold","Yellow"],["42639F","Mariner","Blue"],["800000","Maroon","Brown"],["2B2E26","Marshland","Green"],["B7A8A3","Martini","Brown"],["3C3748","Martinique","Violet"],["EBC881","Marzipan","Yellow"],["57534B","Masala","Brown"],["365C7D","Matisse","Blue"],["8E4D45","Matrix","Red"],["524B4B","Matterhorn","Grey"],["E0B0FF","Mauve","Violet"],["915F6D","Mauve Taupe","Red"],["F091A9","Mauvelous","Red"],["C8B1C0","Maverick","Violet"],["73C2FB","Maya Blue","Blue"],["8C6338","McKenzie","Orange"],["66CDAA","Medium Aquamarine","Blue"],["0000CD","Medium Blue","Blue"],["AF4035","Medium Carmine","Red"],["EAEAAE","Medium Goldenrod","Yellow"],["BA55D3","Medium Orchid","Violet"],["9370DB","Medium Purple","Violet"],["3CB371","Medium Sea Green","Green"],["7B68EE","Medium Slate Blue","Blue"],["00FA9A","Medium Spring Green","Green"],["48D1CC","Medium Turquoise","Blue"],["C71585","Medium Violet Red","Red"],["A68064","Medium Wood","Brown"],["E0B7C2","Melanie","Red"],["342931","Melanzane","Violet"],["FEBAAD","Melon","Red"],["C3B9DD","Melrose","Violet"],["D5D2D1","Mercury","Grey"],["E1DBD0","Merino","Yellow"],["4F4E48","Merlin","Grey"],["73343A","Merlot","Red"],["554A3C","Metallic Bronze","Red"],["6E3D34","Metallic Copper","Red"],["D4AF37","Metallic Gold","Yellow"],["BB7431","Meteor","Orange"],["4A3B6A","Meteorite","Violet"],["9B3D3D","Mexican Red","Red"],["666A6D","Mid Grey","Grey"],["21303E","Midnight","Blue"],["191970","Midnight Blue","Blue"],["21263A","Midnight Express","Blue"],["242E28","Midnight Moss","Green"],["3F3623","Mikado","Brown"],["F6F493","Milan","Green"],["9E3332","Milano Red","Red"],["F3E5C0","Milk Punch","Yellow"],["DCD9CD","Milk White","Grey"],["595648","Millbrook","Brown"],["F5F5CC","Mimosa","Green"],["DAEA6F","Mindaro","Green"],["373E41","Mine Shaft","Blue"],["506355","Mineral Green","Green"],["407577","Ming","Green"],["3E3267","Minsk","Violet"],["F5FFFA","Mint Cream","White"],["98FF98","Mint Green","Green"],["E0D8A7","Mint Julep","Green"],["C6EADD","Mint Tulip","Green"],["373F43","Mirage","Blue"],["A5A9B2","Mischka","Blue"],["BAB9A9","Mist Grey","Grey"],["FFE4E1","Misty Rose","Violet"],["605A67","Mobster","Violet"],["582F2B","Moccaccino","Red"],["FFE4B5","Moccasin","Yellow"],["6F372D","Mocha","Red"],["97463C","Mojo","Red"],["FF9889","Mona Lisa","Red"],["6B252C","Monarch","Red"],["554D42","Mondo","Brown"],["A58B6F","Mongoose","Brown"],["7A7679","Monsoon","Grey"],["393B3C","Montana","Grey"],["7AC5B4","Monte Carlo","Green"],["8378C7","Moody Blue","Violet"],["F5F3CE","Moon Glow","Green"],["CECDB8","Moon Mist","Green"],["C0B2D7","Moon Raker","Violet"],["F0C420","Moon Yellow","Yellow"],["9ED1D3","Morning Glory","Blue"],["442D21","Morocco Brown","Brown"],["565051","Mortar","Grey"],["005F5B","Mosque","Green"],["ADDFAD","Moss Green","Green"],["1AB385","Mountain Meadow","Green"],["A09F9C","Mountain Mist","Grey"],["997A8D","Mountbatten Pink","Violet"],["A9844F","Muddy Waters","Yellow"],["9E7E53","Muesli","Brown"],["C54B8C","Mulberry","Violet"],["884F40","Mule Fawn","Brown"],["524D5B","Mulled Wine","Violet"],["FFDB58","Mustard","Yellow"],["D68B80","My Pink","Red"],["FDAE45","My Sin","Yellow"],["21421E","Myrtle","Green"],["D8DDDA","Mystic","Grey"],["4E5D4E","Nandor","Green"],["A39A87","Napa","Yellow"],["E9E6DC","Narvik","Green"],["FFDEAD","Navajo White","Brown"],["000080","Navy","Blue"],["0066CC","Navy Blue","Blue"],["B8C6BE","Nebula","Green"],["EEC7A2","Negroni","Orange"],["4D4DFF","Neon Blue","Blue"],["FF9933","Neon Carrot","Orange"],["FF6EC7","Neon Pink","Violet"],["93AAB9","Nepal","Blue"],["77A8AB","Neptune","Green"],["252525","Nero","Grey"],["AAA583","Neutral Green","Green"],["666F6F","Nevada","Grey"],["6D3B24","New Amber","Orange"],["00009C","New Midnight Blue","Blue"],["E4C385","New Orleans","Yellow"],["EBC79E","New Tan","Brown"],["DD8374","New York Pink","Red"],["29A98B","Niagara","Green"],["332E2E","Night Rider","Grey"],["A23D54","Night Shadz","Red"],["253F4E","Nile Blue","Blue"],["A99D9D","Nobel","Grey"],["A19986","Nomad","Yellow"],["1D393C","Nordic","Blue"],["A4B88F","Norway","Green"],["BC9229","Nugget","Yellow"],["7E4A3B","Nutmeg","Brown"],["FCEDC5","Oasis","Yellow"],["008F70","Observatory","Green"],["4CA973","Ocean Green","Green"],["CC7722","Ochre","Brown"],["DFF0E2","Off Green","Green"],["FAF3DC","Off Yellow","Yellow"],["313330","Oil","Grey"],["8A3335","Old Brick","Red"],["73503B","Old Copper","Red"],["CFB53B","Old Gold","Yellow"],["FDF5E6","Old Lace","White"],["796878","Old Lavender","Violet"],["C02E4C","Old Rose","Red"],["808000","Olive","Green"],["6B8E23","Olive Drab","Green"],["B5B35C","Olive Green","Green"],["888064","Olive Haze","Yellow"],["747028","Olivetone","Green"],["9AB973","Olivine","Orange"],["C2E6EC","Onahau","Blue"],["48412B","Onion","Yellow"],["A8C3BC","Opal","Green"],["987E7E","Opium","Brown"],["395555","Oracle","Green"],["FFA500","Orange","Orange"],["FFA000","Orange Peel","Orange"],["FF4500","Orange Red","Orange"],["A85335","Orange Roughy","Orange"],["EAE3CD","Orange White","Yellow"],["DA70D6","Orchid","Violet"],["F1EBD9","Orchid White","Yellow"],["255B77","Orient","Blue"],["C28E88","Oriental Pink","Red"],["D2D3B3","Orinoco","Green"],["818988","Oslo Grey","Grey"],["D3DBCB","Ottoman","Green"],["2D383A","Outer Space","Grey"],["FF6037","Outrageous Orange","Orange"],["28353A","Oxford Blue","Blue"],["6D9A78","Oxley","Green"],["D1EAEA","Oyster Bay","Blue"],["D4B5B0","Oyster Pink","Red"],["864B36","Paarl","Orange"],["7A715C","Pablo","Yellow"],["009DC4","Pacific Blue","Blue"],["4F4037","Paco","Brown"],["7EB394","Padua","Green"],["682860","Palatinate Purple","Violet"],["987654","Pale Brown","Brown"],["DDADAF","Pale Chestnut","Red"],["ABCDEF","Pale Cornflower Blue","Blue"],["EEE8AA","Pale Goldenrod","Yellow"],["98FB98","Pale Green","Green"],["BDCAA8","Pale Leaf","Green"],["F984E5","Pale Magenta","Violet"],["9C8D72","Pale Oyster","Brown"],["FADADD","Pale Pink","Red"],["F9F59F","Pale Prim","Green"],["EFD6DA","Pale Rose","Red"],["636D70","Pale Sky","Blue"],["C3BEBB","Pale Slate","Grey"],["BC987E","Pale Taupe","Grey"],["AFEEEE","Pale Turquoise","Blue"],["DB7093","Pale Violet Red","Red"],["20392C","Palm Green","Green"],["36482F","Palm Leaf","Green"],["EAE4DC","Pampas","Grey"],["EBF7E4","Panache","Green"],["DFB992","Pancho","Orange"],["544F3A","Panda","Yellow"],["FFEFD5","Papaya Whip","Yellow"],["7C2D37","Paprika","Red"],["488084","Paradiso","Green"],["D0C8B0","Parchment","Yellow"],["FBEB50","Paris Daisy","Green"],["312760","Paris M","Violet"],["BFCDC0","Paris White","Green"],["305D35","Parsley","Green"],["77DD77","Pastel Green","Green"],["639283","Patina","Green"],["D3E5EF","Pattens Blue","Blue"],["2A2551","Paua","Violet"],["BAAB87","Pavlova","Yellow"],["404048","Payne's Grey","Grey"],["FFCBA4","Peach","Orange"],["FFDAB9","Peach Puff","Yellow"],["FFCC99","Peach-Orange","Orange"],["FADFAD","Peach-Yellow","Yellow"],["7A4434","Peanut","Brown"],["D1E231","Pear","Yellow"],["DED1C6","Pearl Bush","Orange"],["EAE0C8","Pearl Lusta","Yellow"],["766D52","Peat","Yellow"],["2599B2","Pelorous","Blue"],["D7E7D0","Peppermint","Green"],["ACB9E8","Perano","Blue"],["C2A9DB","Perfume","Violet"],["ACB6B2","Periglacial Blue","Green"],["C3CDE6","Periwinkle","Blue"],["1C39BB","Persian Blue","Blue"],["00A693","Persian Green","Green"],["32127A","Persian Indigo","Violet"],["F77FBE","Persian Pink","Red"],["683332","Persian Plum","Red"],["CC3333","Persian Red","Red"],["FE28A2","Persian Rose","Red"],["EC5800","Persimmon","Red"],["CD853F","Peru","Brown"],["733D1F","Peru Tan","Orange"],["7A7229","Pesto","Yellow"],["DA9790","Petite Orchid","Red"],["91A092","Pewter","Green"],["826663","Pharlap","Brown"],["F8EA97","Picasso","Green"],["5BA0D0","Picton Blue","Blue"],["FDD7E4","Pig Pink","Red"],["00A550","Pigment Green","Green"],["756556","Pine Cone","Brown"],["BDC07E","Pine Glade","Green"],["01796F","Pine Green","Green"],["2A2F23","Pine Tree","Green"],["FFC0CB","Pink","Red"],["FF66FF","Pink Flamingo","Red"],["D8B4B6","Pink Flare","Red"],["F6CCD7","Pink Lace","Red"],["F3D7B6","Pink Lady","Orange"],["BFB3B2","Pink Swan","Grey"],["9D5432","Piper","Orange"],["F5E6C4","Pipi","Yellow"],["FCDBD2","Pippin","Red"],["BA782A","Pirate Gold","Yellow"],["BBCDA5","Pixie Green","Green"],["E57F3D","Pizazz","Orange"],["BF8D3C","Pizza","Yellow"],["3E594C","Plantation","Green"],["DDA0DD","Plum","Violet"],["651C26","Pohutukawa","Red"],["E5F2E7","Polar","Green"],["8AA7CC","Polo Blue","Blue"],["6A1F44","Pompadour","Violet"],["DDDCDB","Porcelain","Grey"],["DF9D5B","Porsche","Orange"],["3B436C","Port Gore","Blue"],["F4F09B","Portafino","Green"],["8B98D8","Portage","Blue"],["F0D555","Portica","Yellow"],["EFDCD4","Pot Pourri","Orange"],["845C40","Potters Clay","Brown"],["B0E0E6","Powder Blue","Blue"],["883C32","Prairie Sand","Red"],["CAB4D4","Prelude","Violet"],["E2CDD5","Prim","Violet"],["E4DE8E","Primrose","Green"],["F8F6DF","Promenade","Green"],["F6E3DA","Provincial Pink","Orange"],["003366","Prussian Blue","Blue"],["DD00FF","Psychedelic Purple","Violet"],["CC8899","Puce","Red"],["6E3326","Pueblo","Orange"],["59BAA3","Puerto Rico","Green"],["BAC0B4","Pumice","Green"],["FF7518","Pumpkin","Orange"],["534931","Punga","Yellow"],["800080","Purple","Violet"],["652DC1","Purple Heart","Violet"],["9678B6","Purple Mountain's Majesty","Violet"],["50404D","Purple Taupe","Grey"],["CDAE70","Putty","Yellow"],["F2EDDD","Quarter Pearl Lusta","Green"],["EBE2D2","Quarter Spanish White","Yellow"],["D9D9F3","Quartz","White"],["C3988B","Quicksand","Brown"],["CBC9C0","Quill Grey","Grey"],["6A5445","Quincy","Brown"],["232F2C","Racing Green","Green"],["FF355E","Radical Red","Red"],["DCC6A0","Raffia","Yellow"],["667028","Rain Forest","Green"],["B3C1B1","Rainee","Green"],["FCAE60","Rajah","Orange"],["2B2E25","Rangoon Green","Green"],["6F747B","Raven","Blue"],["D27D46","Raw Sienna","Brown"],["734A12","Raw Umber","Brown"],["FF33CC","Razzle Dazzle Rose","Red"],["E30B5C","Razzmatazz","Red"],["453430","Rebel","Brown"],["FF0000","Red","Red"],["701F28","Red Berry","Red"],["CB6F4A","Red Damask","Orange"],["662A2C","Red Devil","Red"],["FF3F34","Red Orange","Orange"],["5D1F1E","Red Oxide","Red"],["7D4138","Red Robin","Red"],["AD522E","Red Stage","Orange"],["BB3385","Medium Red Violet","Violet"],["5B342E","Redwood","Red"],["D1EF9F","Reef","Green"],["A98D36","Reef Gold","Yellow"],["203F58","Regal Blue","Blue"],["798488","Regent Grey","Blue"],["A0CDD9","Regent St Blue","Blue"],["F6DEDA","Remy","Red"],["B26E33","Reno Sand","Orange"],["323F75","Resolution Blue","Blue"],["37363F","Revolver","Violet"],["3D4653","Rhino","Blue"],["EFECDE","Rice Cake","Green"],["EFF5D1","Rice Flower","Green"],["5959AB","Rich Blue","Blue"],["A15226","Rich Gold","Orange"],["B7C61A","Rio Grande","Green"],["89D9C8","Riptide","Green"],["556061","River Bed","Blue"],["DDAD56","Rob Roy","Yellow"],["00CCCC","Robin's Egg Blue","Blue"],["5A4D41","Rock","Brown"],["93A2BA","Rock Blue","Blue"],["9D442D","Rock Spray","Orange"],["C7A384","Rodeo Dust","Brown"],["6D7876","Rolling Stone","Green"],["D8625B","Roman","Red"],["7D6757","Roman Coffee","Brown"],["F4F0E6","Romance","Grey"],["FFC69E","Romantic","Orange"],["EAB852","Ronchi","Yellow"],["A14743","Roof Terracotta","Red"],["8E593C","Rope","Orange"],["D3A194","Rose","Red"],["FEAB9A","Rose Bud","Red"],["8A2D52","Rose Bud Cherry","Red"],["AC512D","Rose Of Sharon","Orange"],["905D5D","Rose Taupe","Violet"],["FBEEE8","Rose White","Red"],["BC8F8F","Rosy Brown","Brown"],["B69642","Roti","Yellow"],["A94064","Rouge","Red"],["4169E1","Royal Blue","Blue"],["B54B73","Royal Heath","Red"],["6B3FA0","Royal Purple","Violet"],["E0115F","Ruby","Red"],["716675","Rum","Violet"],["F1EDD4","Rum Swizzle","Green"],["80461B","Russet","Brown"],["7D655C","Russett","Brown"],["B7410E","Rust","Red"],["3A181A","Rustic Red","Red"],["8D5F2C","Rusty Nail","Orange"],["5D4E46","Saddle","Brown"],["8B4513","Saddle Brown","Brown"],["FF6600","Safety Orange","Orange"],["F4C430","Saffron","Yellow"],["989F7A","Sage","Green"],["B79826","Sahara","Yellow"],["A5CEEC","Sail","Blue"],["177B4D","Salem","Green"],["FA8072","Salmon","Red"],["FFD67B","Salomie","Yellow"],["696268","Salt Box","Violet"],["EEF3E5","Saltpan","Grey"],["3B2E25","Sambuca","Brown"],["2C6E31","San Felix","Green"],["445761","San Juan","Blue"],["4E6C9D","San Marino","Blue"],["867665","Sand Dune","Brown"],["A3876A","Sandal","Brown"],["AF937D","Sandrift","Brown"],["786D5F","Sandstone","Brown"],["DECB81","Sandwisp","Yellow"],["FEDBB7","Sandy Beach","Orange"],["F4A460","Sandy Brown","Brown"],["92000A","Sangria","Red"],["6C3736","Sanguine Brown","Red"],["9998A7","Santas Grey","Blue"],["A96A50","Sante Fe","Orange"],["E1D5A6","Sapling","Yellow"],["082567","Sapphire","Blue"],["555B2C","Saratoga","Green"],["F4EAE4","Sauvignon","Red"],["F5DEC4","Sazerac","Orange"],["6F63A0","Scampi","Violet"],["ADD9D1","Scandal","Green"],["FF2400","Scarlet","Red"],["4A2D57","Scarlet Gum","Violet"],["7E2530","Scarlett","Red"],["6B6A6C","Scarpa Flow","Grey"],["87876F","Schist","Green"],["FFD800","School Bus Yellow","Yellow"],["8D8478","Schooner","Brown"],["308EA0","Scooter","Blue"],["6A6466","Scorpion","Grey"],["EEE7C8","Scotch Mist","Yellow"],["66FF66","Screamin' Green","Green"],["3D4031","Scrub","Green"],["EF9548","Sea Buckthorn","Orange"],["DFDDD6","Sea Fog","Grey"],["2E8B57","Sea Green","Green"],["C2D5C4","Sea Mist","Green"],["8AAEA4","Sea Nymph","Green"],["DB817E","Sea Pink","Red"],["77B7D0","Seagull","Blue"],["321414","Seal Brown","Brown"],["69326E","Seance","Violet"],["FFF5EE","Seashell","White"],["37412A","Seaweed","Green"],["E6DFE7","Selago","Violet"],["FFBA00","Selective Yellow","Yellow"],["6B4226","Semi-Sweet Chocolate","Brown"],["9E5B40","Sepia","Brown"],["FCE9D7","Serenade","Orange"],["837050","Shadow","Green"],["9AC0B6","Shadow Green","Green"],["9F9B9D","Shady Lady","Grey"],["609AB8","Shakespeare","Blue"],["F8F6A8","Shalimar","Green"],["33CC99","Shamrock","Green"],["009E60","Shamrock Green","Green"],["34363A","Shark","Grey"],["00494E","Sherpa Blue","Green"],["1B4636","Sherwood Green","Green"],["E6B2A6","Shilo","Red"],["745937","Shingle Fawn","Brown"],["7988AB","Ship Cove","Blue"],["4E4E4C","Ship Grey","Grey"],["842833","Shiraz","Red"],["E899BE","Shocking","Violet"],["FC0FC0","Shocking Pink","Red"],["61666B","Shuttle Grey","Grey"],["686B50","Siam","Green"],["E9D9A9","Sidecar","Yellow"],["A0522D","Sienna","Brown"],["BBADA1","Silk","Brown"],["C0C0C0","Silver","Grey"],["ACAEA9","Silver Chalice","Grey"],["BEBDB6","Silver Sand","Grey"],["67BE90","Silver Tree","Green"],["A6D5D0","Sinbad","Green"],["69293B","Siren","Red"],["68766E","Sirocco","Green"],["C5BAA0","Sisal","Yellow"],["9DB4AA","Skeptic","Green"],["87CEEB","Sky Blue","Blue"],["6A5ACD","Slate Blue","Blue"],["708090","Slate Grey","Grey"],["42342B","Slugger","Brown"],["003399","Smalt","Blue"],["496267","Smalt Blue","Blue"],["BB5F34","Smoke Tree","Orange"],["605D6B","Smoky","Violet"],["FFFAFA","Snow","White"],["E3E3DC","Snow Drift","Grey"],["EAF7C9","Snow Flurry","Green"],["D6F0CD","Snowy Mint","Green"],["E4D7E5","Snuff","Violet"],["ECE5DA","Soapstone","Grey"],["CFBEA5","Soft Amber","Yellow"],["EEDFDE","Soft Peach","Red"],["85494C","Solid Pink","Red"],["EADAC2","Solitaire","Yellow"],["E9ECF1","Solitude","Blue"],["DD6B38","Sorbus","Orange"],["9D7F61","Sorrell Brown","Brown"],["C9B59A","Sour Dough","Brown"],["6F634B","Soya Bean","Brown"],["4B433B","Space Shuttle","Brown"],["7B8976","Spanish Green","Green"],["DED1B7","Spanish White","Yellow"],["375D4F","Spectra","Green"],["6C4F3F","Spice","Brown"],["8B5F4D","Spicy Mix","Brown"],["FF1CAE","Spicy Pink","Red"],["B3C4D8","Spindle","Blue"],["F1D79E","Splash","Yellow"],["7ECDDD","Spray","Blue"],["A7FC00","Spring Bud","Green"],["00FF7F","Spring Green","Green"],["A3BD9C","Spring Rain","Green"],["F1F1C6","Spring Sun","Green"],["E9E1D9","Spring Wood","Grey"],["B8CA9D","Sprout","Green"],["A2A1AC","Spun Pearl","Blue"],["8F7D6B","Squirrel","Brown"],["325482","St Tropaz","Blue"],["858885","Stack","Grey"],["A0A197","Star Dust","Grey"],["D2C6B6","Stark White","Yellow"],["E3DD39","Starship","Green"],["4682B4","Steel Blue","Blue"],["43464B","Steel Grey","Grey"],["833D3E","Stiletto","Red"],["807661","Stonewall","Yellow"],["65645F","Storm Dust","Grey"],["747880","Storm Grey","Blue"],["DABE82","Straw","Yellow"],["946A81","Strikemaster","Violet"],["406356","Stromboli","Green"],["724AA1","Studio","Violet"],["8C9C9C","Submarine","Blue"],["EEEFDF","Sugar Cane","Green"],["C6EA80","Sulu","Green"],["8FB69C","Summer Green","Green"],["38B0DE","Summer Sky","Blue"],["EF8E38","Sun","Orange"],["C4AA4D","Sundance","Yellow"],["F8AFA9","Sundown","Red"],["DAC01A","Sunflower","Yellow"],["C76155","Sunglo","Red"],["FFCC33","Sunglow","Orange"],["C0514A","Sunset","Red"],["FE4C40","Sunset Orange","Orange"],["FA9D49","Sunshade","Orange"],["FFB437","Supernova","Yellow"],["B8D4BB","Surf","Green"],["C3D6BD","Surf Crest","Green"],["007B77","Surfie Green","Green"],["7C9F2F","Sushi","Green"],["8B8685","Suva Grey","Grey"],["252F2F","Swamp","Green"],["DAE6DD","Swans Down","Grey"],["F9E176","Sweet Corn","Yellow"],["EE918D","Sweet Pink","Red"],["D7CEC5","Swirl","Grey"],["DBD0CA","Swiss Coffee","Grey"],["F6AE78","Tacao","Orange"],["D2B960","Tacha","Yellow"],["DC722A","Tahiti Gold","Orange"],["D8CC9B","Tahuna Sands","Yellow"],["853534","Tall Poppy","Red"],["A39977","Tallow","Yellow"],["752B2F","Tamarillo","Red"],["D2B48C","Tan","Brown"],["B8B5A1","Tana","Green"],["1E2F3C","Tangaroa","Blue"],["F28500","Tangerine","Orange"],["FFCC00","Tangerine Yellow","Yellow"],["D46F31","Tango","Orange"],["7C7C72","Tapa","Green"],["B37084","Tapestry","Red"],["DEF1DD","Tara","Green"],["253C48","Tarawera","Blue"],["BAC0B3","Tasman","Grey"],["483C32","Taupe","Grey"],["8B8589","Taupe Grey","Grey"],["643A48","Tawny Port","Red"],["496569","Tax Break","Blue"],["2B4B40","Te Papa Green","Green"],["BFB5A2","Tea","Yellow"],["D0F0C0","Tea Green","Green"],["F883C2","Tea Rose","Orange"],["AB8953","Teak","Yellow"],["008080","Teal","Blue"],["254855","Teal Blue","Blue"],["3C2126","Temptress","Brown"],["CD5700","Tenne (Tawny)","Orange"],["F4D0A4","Tequila","Yellow"],["E2725B","Terra Cotta","Red"],["ECE67E","Texas","Green"],["FCB057","Texas Rose","Orange"],["B1948F","Thatch","Brown"],["544E31","Thatch Green","Yellow"],["D8BFD8","Thistle","Violet"],["4D4D4B","Thunder","Grey"],["923830","Thunderbird","Red"],["97422D","Tia Maria","Orange"],["B9C3BE","Tiara","Grey"],["184343","Tiber","Green"],["FC80A5","Tickle Me Pink","Red"],["F0F590","Tidal","Green"],["BEB4AB","Tide","Brown"],["324336","Timber Green","Green"],["D9D6CF","Timberwolf","Grey"],["DDD6E1","Titan White","Violet"],["9F715F","Toast","Brown"],["6D5843","Tobacco Brown","Brown"],["44362D","Tobago","Brown"],["3E2631","Toledo","Violet"],["2D2541","Tolopea","Violet"],["4F6348","Tom Thumb","Green"],["FF6347","Tomato","Red"],["E79E88","Tonys Pink","Orange"],["817C87","Topaz","Violet"],["FD0E35","Torch Red","Red"],["353D75","Torea Bay","Blue"],["374E88","Tory Blue","Blue"],["744042","Tosca","Red"],["9CACA5","Tower Grey","Green"],["6DAFA7","Tradewind","Green"],["DDEDE9","Tranquil","Blue"],["E2DDC7","Travertine","Green"],["E2813B","Tree Poppy","Orange"],["7E8424","Trendy Green","Green"],["805D80","Trendy Pink","Violet"],["C54F33","Trinidad","Orange"],["AEC9EB","Tropical Blue","Blue"],["00755E","Tropical Rain Forest","Green"],["4C5356","Trout","Grey"],["8E72C7","True V","Violet"],["454642","Tuatara","Grey"],["F9D3BE","Tuft Bush","Orange"],["E3AC3D","Tulip Tree","Yellow"],["DEA681","Tumbleweed","Brown"],["46494E","Tuna","Grey"],["585452","Tundora","Grey"],["F5CC23","Turbo","Yellow"],["A56E75","Turkish Rose","Red"],["AE9041","Turmeric","Yellow"],["40E0D0","Turquoise","Blue"],["6CDAE7","Turquoise Blue","Blue"],["363E1D","Turtle Green","Green"],["AD6242","Tuscany","Orange"],["E3E5B1","Tusk","Green"],["BF914B","Tussock","Yellow"],["F8E4E3","Tutu","Red"],["DAC0CD","Twilight","Violet"],["F4F6EC","Twilight Blue","Grey"],["C19156","Twine","Yellow"],["66023C","Tyrian Purple","Violet"],["FF6FFF","Ultra Pink","Red"],["120A8F","Ultramarine","Blue"],["D4574E","Valencia","Red"],["382C38","Valentino","Violet"],["2A2B41","Valhalla","Violet"],["523936","Van Cleef","Brown"],["CCB69B","Vanilla","Brown"],["EBD2D1","Vanilla Ice","Red"],["FDEFD3","Varden","Yellow"],["C80815","Venetian Red","Red"],["2C5778","Venice Blue","Blue"],["8B7D82","Venus","Violet"],["62603E","Verdigris","Grey"],["48531A","Verdun Green","Green"],["FF4D00","Vermilion","Red"],["5C4033","Very Dark Brown","Brown"],["CDCDCD","Very Light Grey","Grey"],["A85533","Vesuvius","Orange"],["564985","Victoria","Violet"],["5F9228","Vida Loca","Green"],["4DB1C8","Viking","Blue"],["955264","Vin Rouge","Red"],["C58F9D","Viola","Red"],["2E2249","Violent Violet","Violet"],["EE82EE","Violet","Violet"],["9F5F9F","Violet Blue","Violet"],["F7468A","Violet Red","Red"],["40826D","Viridian","Blue"],["4B5F56","Viridian Green","Green"],["F9E496","Vis Vis","Yellow"],["97D5B3","Vista Blue","Green"],["E3DFD9","Vista White","Grey"],["FF9980","Vivid Tangerine","Orange"],["803790","Vivid Violet","Violet"],["4E2728","Volcano","Red"],["443240","Voodoo","Violet"],["36383C","Vulcan","Grey"],["D4BBB1","Wafer","Orange"],["5B6E91","Waikawa Grey","Blue"],["4C4E31","Waiouru","Green"],["E4E2DC","Wan White","Grey"],["849137","Wasabi","Green"],["B6ECDE","Water Leaf","Green"],["006E4E","Watercourse","Green"],["D6CA3D","Wattle","Green"],["F2CDBB","Watusi","Orange"],["EEB39E","Wax Flower","Orange"],["FDD7D8","We Peep","Red"],["4C6B88","Wedgewood","Blue"],["8E3537","Well Read","Red"],["5C512F","West Coast","Yellow"],["E5823A","West Side","Orange"],["D4CFC5","Westar","Grey"],["F1919A","Wewak","Red"],["F5DEB3","Wheat","Brown"],["DFD7BD","Wheatfield","Yellow"],["D29062","Whiskey","Orange"],["D4915D","Whiskey Sour","Orange"],["EFE6E6","Whisper","Grey"],["FFFFFF","White","White"],["D7EEE4","White Ice","Green"],["E7E5E8","White Lilac","Blue"],["EEE7DC","White Linen","Grey"],["F8F6D8","White Nectar","Green"],["DAD6CC","White Pointer","Grey"],["D4CFB4","White Rock","Green"],["F5F5F5","White Smoke","White"],["7A89B8","Wild Blue Yonder","Blue"],["E3D474","Wild Rice","Green"],["E7E4DE","Wild Sand","Grey"],["FF3399","Wild Strawberry","Red"],["FD5B78","Wild Watermelon","Red"],["BECA60","Wild Willow","Green"],["53736F","William","Green"],["DFE6CF","Willow Brook","Green"],["69755C","Willow Grove","Green"],["462C77","Windsor","Violet"],["522C35","Wine Berry","Red"],["D0C383","Winter Hazel","Yellow"],["F9E8E2","Wisp Pink","Red"],["C9A0DC","Wisteria","Violet"],["A29ECD","Wistful","Blue"],["FBF073","Witch Haze","Green"],["302621","Wood Bark","Brown"],["463629","Woodburn","Brown"],["626746","Woodland","Green"],["45402B","Woodrush","Yellow"],["2B3230","Woodsmoke","Grey"],["554545","Woody Brown","Brown"],["75876E","Xanadu","Green"],["FFFF00","Yellow","Yellow"],["9ACD32","Yellow Green","Green"],["73633E","Yellow Metal","Yellow"],["FFAE42","Yellow Orange","Orange"],["F49F35","Yellow Sea","Yellow"],["FFC5BB","Your Pink","Red"],["826A21","Yukon Gold","Yellow"],["C7B882","Yuma","Yellow"],["6B5A5A","Zambezi","Brown"],["B2C6B1","Zanah","Green"],["C6723B","Zest","Orange"],["3B3C38","Zeus","Grey"],["81A6AA","Ziggurat","Blue"],["EBC2AF","Zinnwaldite","Brown"],["DEE3E3","Zircon","Grey"],["DDC283","Zombie","Yellow"],["A29589","Zorba","Brown"],["17462E","Zuccini","Green"],["CDD5D5","Zumthor","Grey"]],nt=2e3,it=function(){this.animationEnd=0},ot=function(){this.eye=S(1,-2.5,1),this.center=S(0,0,.5),this.up=R.Z},at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.interpolationAnimation=0,t.getColorsForWhat=$e(function(e){return st[e]()}),t.colorPoss=[],t.colorPossPrev=t.colorPoss,t.highlightIndex=-1,t.state=new it,t.createMeshForWhat=$e(function(e,t){return this.createMeshFromColors(this.getColorsForWhat(e),t)},function(e,t){return e+" "+t}),t.rotationTime=0,t.windowOnResize=function(){t.gl.fixCanvasRes(2),t.forceUpdate()},t.onMouseMove=function(e){var r=t.gl.getMouseLine(e.nativeEvent),n=r.anchor,i=r.dir,o=t.colorPoss.map(function(e,t){return[e,t]}).filter(function(e){var r=e[0];return e[1],function(e,t,r){var n=t.unit(),i=r.minus(e).dot(n);return n.times(i).plus(e).distanceTo(r)}(n,i,r)<(t.props.pointerColorMaxDistance||.01)}).withMax(function(e){var t=e[0];return e[1],-t.minus(n).dot(i.unit())}),a=o?o[1]:-1,s=t.getColorsForWhat(t.props.what)[a];s!=t.hoverColor&&(t.hoverColor=s,t.props.onHoverChange(s)),t.props.onMouseMove&&t.props.onMouseMove(e)},t.renderCanvas=function(e){var r=t.gl,n=t.props.camera,i=n.eye,o=n.center,a=n.up;r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.cullFace(r.BACK),r.matrixMode(r.PROJECTION),r.loadIdentity();var s=r.canvas.width/r.canvas.height,l=.7*Math.max(s,1),h=l/s;r.ortho(-l,l,-h,h,-1e4,1e4),r.lookAt(i,o,a),r.matrixMode(r.MODELVIEW),r.loadIdentity(),r.pushMatrix(),r.disable(r.CULL_FACE),tt[t.props.colorSpace].render(r),r.enable(r.CULL_FACE),r.popMatrix();var u=0;if(e<t.state.animationEnd&&(u=(t.state.animationEnd-e)/nt,requestAnimationFrame(t.renderCanvas)),r.shaders.varyingColor.uniforms({f:u}).draw(t.colorPointsMesh),-1!==t.highlightIndex){r.cullFace(r.FRONT);var c=0==u?t.colorPoss[t.highlightIndex]:t.colorPoss[t.highlightIndex].lerp(t.colorPossPrev[t.highlightIndex],u);r.translate(c),r.scale(.01*1.8),r.shaders.singleColor.uniforms({color:t.props.colorHighlight.textColor().gl()}).draw(t.colorPointMesh)}},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=(t.colorSpace,t.onHoverChange,t.what,t.colorHighlight,t.rotation,t.pointerColorMaxDistance,a(t,["colorSpace","onHoverChange","what","colorHighlight","rotation","pointerColorMaxDistance"]));return r.createElement("canvas",o({},n,{ref:function(t){return e.canvas=t},onMouseMove:this.onMouseMove}))},t.prototype.componentDidMount=function(){return s(this,void 0,void 0,function(){var e;return function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:return(e=this.gl=we.create({canvas:this.canvas})).fixCanvasRes(2),e.meshes={cube:oe.cube().compile()},e.shaders={},this.colorPointMesh=oe.sphere(1),e.shaders.singleColor=he.create("precision mediump float;uniform mat4 ts_ModelViewProjectionMatrix;attribute vec4 ts_Vertex;void main(){gl_Position=ts_ModelViewProjectionMatrix*ts_Vertex;}","precision mediump float;uniform vec4 color;void main(){gl_FragColor=color;}"),e.shaders.varyingColor=he.create("precision mediump float;uniform mat4 ts_ModelViewProjectionMatrix;uniform mat3 ts_NormalMatrix;uniform float f;attribute vec3 ts_Normal;attribute vec4 ts_Vertex;attribute vec4 ts_Vertex2;attribute vec4 ts_Color;varying vec3 normal;varying vec4 color;void main(){vec4 v=mix(ts_Vertex,ts_Vertex2,f);gl_Position=ts_ModelViewProjectionMatrix*v;normal=ts_NormalMatrix*ts_Normal;color=ts_Color;}","precision mediump float;varying vec4 color;void main(){gl_FragColor=color;}"),e.clearColor(.8,.8,.8,1),e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.getExtension("OES_element_index_uint"),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE),e.enable(e.BLEND),[4,e.setupTextRendering("OpenSans-Regular.png","OpenSans-Regular.json")];case 1:return t.sent(),this.componentDidUpdate({}),window.addEventListener("resize",this.windowOnResize),[2]}})})},t.prototype.componentDidUpdate=function(e){var t=this;if(e.colorSpace!=this.props.colorSpace||e.what!=this.props.what){var r=this.createMeshForWhat(this.props.what,this.props.colorSpace);this.colorPointsMesh&&e.what==this.props.what?(r.vertexBuffers.ts_Vertex2=this.colorPointsMesh.vertexBuffers.ts_Vertex,this.setState({animationEnd:performance.now()+nt})):r.vertexBuffers.ts_Vertex2=r.vertexBuffers.ts_Vertex,this.colorPointsMesh=r,this.colorPossPrev=this.colorPoss,this.colorPoss=this.getColorsForWhat(this.props.what).map(tt[this.props.colorSpace].convert)}e.what==this.props.what&&e.colorHighlight==this.props.colorHighlight||(this.highlightIndex=null==this.props.colorHighlight?-1:this.getColorsForWhat(this.props.what).findIndex(function(e){return e.equals(t.props.colorHighlight)})),requestAnimationFrame(this.renderCanvas)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.windowOnResize)},t.prototype.createMeshFromColors=function(e,t){var r,n=this.colorPointMesh,i=new L,o=new L,a=new L,s=e.map(function(e){var r=tt[t].convert(e),s=(e.displayColor||e).gl(),l=n.transform(L.multiply(L.translate(r,o),L.scale(.01,i),a)).addVertexBuffer("colors","ts_Color");return l.colors=function(e,t){for(var r=Array(e),n=e;n--;)r[n]=t;return r}(n.vertices.length,s),l});return(r=(new oe).addIndexBuffer("TRIANGLES",this.gl.UNSIGNED_INT).addVertexBuffer("normals","ts_Normal").addVertexBuffer("colors","ts_Color")).concat.apply(r,s).compile()},t}(e.Component),st={hues:function(){return Array.from({length:180},function(e,t){return X.hsl(2*t,1,.5)})},rgbCube16:function(){return void 0===(e=16)&&(e=16),oe.box(e,e,e).vertices.map(function(e){var t=e.x,r=e.y,n=e.z;return X.gl(t,r,n,1)});var e},w3cx11:function(){return Object.keys(X.w3cx11).map(function(e){return X.color(e)})},_50shadesOfGrey:function(){return Array.from({length:52},function(e,t){return X.hsl(0,0,t/51)})},ks:function(){for(var e=[],t=1e3;t<=4e4;t+=100)e.push(X.kelvin(t));return e},cubehelix:function(){return X.scale(X.cubehelix()).colors(100,!1)},scalePaired:function(){return X.scale("Paired").colors(100,!1)},hslCylinder:function(){for(var e=[],t=0;t<90;t++)for(var r=0;r<5;r++)for(var n=0;n<10;n++)e.push(X.hsl(t/90*360,r/4,m(.01,.99,n/9)));return e},colors2:function(){return rt.map(function(e){var t=e[0];return e[1],e[2],X.color(t)})},l05:function(){for(var e=[],t=0;t<19;t++)for(var r=t/18,n=Math.round(120*r),i=0;i<n;i++)e.push(X.hsl(i/n*360,r,.5));return e}},lt=H(function(e){!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=r.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}),ht=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.title,i=e.items,s=e.id,l=e.onchange,h=a(e,["value","title","items","id","onchange"]);return r.createElement("div",o({},h,{id:s}),r.createElement("div",{className:"title"},n),i.map(function(e){var n=e.value,i=e.title,o=e.children;return r.createElement("label",{className:lt("picker-option",n===t&&"selected"),key:n},r.createElement("div",{className:"title"},i,r.createElement("input",{type:"radio",value:n,name:s,checked:n==t,onChange:function(e){return e.target.checked&&l(e.target.value)}})),o)}))},t}(e.Component),ut=function(){this.open=!1},ct=function(e){function t(t){var r=e.call(this,t)||this;return r.state=new ut,r}return i(t,e),t.prototype.setState=function(t){e.prototype.setState.call(this,t),console.log(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.value,i=t.title,s=t.items,l=t.id,h=t.onchange,u=t.style,c=t.className,d=a(t,["value","title","items","id","onchange","style","className"]),m=s.find(function(e){return e.value==n});return console.log("render"),r.createElement("div",o({},d,{style:o({},u,{height:"auto"}),className:lt(c,"picker-mobile",this.state.open?"open":"closed"),onClick:!this.state.open&&function(t){console.log("div.picker-mobile onClick",t),e.setState({open:!0}),console.log("div.picker-mobile onClick2",t),t.preventDefault()},id:l}),r.createElement("div",{className:"title"},i),(this.state.open?s:[m]).map(function(t){var i=t.value,o=t.title,a=t.children;return r.createElement("label",{className:lt("picker-option",i===n&&"selected"),key:i},r.createElement("div",{className:"title"},r.createElement("input",{type:"radio",value:i,name:l,checked:i==n,onClick:e.state.open&&function(t){console.log("input onClick",t),e.setState({open:!1}),console.log("input onClick2",t),console.log("onchange",t.target.value),h(t.target.value)}})," ",o),a)}))},t}(e.Component),dt=[{value:"_50shadesOfGrey",title:"50 shades of grey (+ black and white)",children:"Evenly spaced in HSL color space.",detail:function(e){var t=e.hsl()[2],r=51*t|0;return(0==r?"black":51==r?"white":"grey "+r+"/50")+" Lightness: "+t.toFixed(2)}},{value:"rgbCube16",title:"RGB color cube",children:"Only the faces of the cube though.",detail:function(e){return e.css("rgb")}},{value:"hues",title:"Hues",children:"All the colors of the rainbow.",detail:function(e){return"Hue: "+(0|e.hsl()[0])}},{value:"w3cx11",title:"CSS Colors",children:"All the named CSS colors.",detail:function(e){return e.name()}},{value:"ks",title:"Temperatures",children:"",detail:function(e){return"Temperature: "+(0|e.temperature())}},{value:"cubehelix",title:"chroma.cubehelix()",children:"100 samples of the default settings.",detail:function(){return""}},{value:"scalePaired",title:"chroma.scale('Paired')",children:"100 samples.",detail:function(){return""}},{value:"hslCylinder",title:"HSL cylinder",children:"Lightness goes from 1% to 99%, as 0% (black) and 100% (white) colors collapse into a single point.",detail:function(e){return e.css("hsl")}},{value:"colors2",title:"Extended Colors",detail:function(e){var t=e.num();return rt.find(function(e){return parseInt(e[0],16)==t})[1]},children:""},{value:"l05",title:"HSL Cylinder Slice at L=50%",children:"",detail:function(){return""}}];if(et=(window.location.hash||"").match(/^#(.*?)-((?:[a-f\d]{6})+)$/)){var mt=et[1],ft=et[2].match(/.{6}/g).map(function(e){return X.css(e)});dt.push({value:"hash",title:decodeURI(mt),children:"from the URL hash",detail:function(){return""}}),st.hash=function(){return ft}}var gt=function(){this.colorSpace="rgb",this.what=st.hash?"hash":"hslCylinder",this.rotation=!0,this.highlightedColor=void 0,this.selectedColor=void 0,this.camera=new ot},pt=Object.keys(tt).map(function(e){var t=tt[e];return{value:e,title:t.title,children:t.children}}),Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=new gt,t.canvasMousePos=R.O,t.cancelNextClick=!1,t.canvasTouchStart=function(e){1===e.targetTouches.length&&(t.canvasMousePos=S(e.targetTouches[0].clientX,e.targetTouches[0].clientY))},t.canvasMove=function(e){var r;if("mousemove"==e.type){var n=e;r=S(n.nativeEvent.offsetX,n.nativeEvent.offsetY)}else{var i=e;if(1!==i.targetTouches.length)return;r=S(i.targetTouches[0].clientX,i.targetTouches[0].clientY)}if("mousemove"!==e.type||1&e.buttons){var o=t.canvasMousePos.to(r);console.log(o);var a=t.state.camera,s=a.eye,l=a.center,h=a.up,u=3/Math.min(t.spacesCanvas.canvas.width,t.spacesCanvas.canvas.height),c=L.multiply(L.rotateZ(-o.x*u),L.rotate(-o.y*u,s.to(l).cross(h)));t.setState({camera:{eye:c.transformPoint(s),center:l,up:c.transformVector(h)}}),t.cancelNextClick=!0,e.preventDefault()}t.canvasMousePos=r},t.canvasClick=function(){t.cancelNextClick||t.setState({selectedColor:t.state.highlightedColor}),t.cancelNextClick=!1},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.highlightedColor,i=t.selectedColor,o=(t.colorSpace,t.what),a=t.rotation,s=t.camera,l=n||i,h=window.innerWidth<600?ct:ht;return console.log("window.innerWidth ",window.innerWidth),r.createElement(r.Fragment,null,r.createElement(h,{id:"colorSpace",title:"Choose a color space...",items:pt,className:"picker",onchange:function(t){return e.setState({colorSpace:t})},value:this.state.colorSpace}),r.createElement(h,{id:"what",title:"...and what to draw:",items:dt,className:"picker",onchange:function(t){return e.setState({what:t})},value:this.state.what}),r.createElement("div",{id:"canvasContainer"},r.createElement(at,{id:"spacesCanvas",colorSpace:this.state.colorSpace,style:{cursor:n?"crosshair":"move"},what:this.state.what,rotation:a,colorHighlight:l,onHoverChange:function(t){return e.setState({highlightedColor:t})},onClick:this.canvasClick,camera:s,onMouseMove:this.canvasMove,onTouchMove:this.canvasMove,onTouchStart:this.canvasTouchStart,ref:function(t){return e.spacesCanvas=t},pointerColorMaxDistance:window.innerWidth<600?.05:.01}),r.createElement("div",{id:"info"},r.createElement("div",{id:"activeColorPreview",style:l&&{backgroundColor:l.css(),color:l.textColor().name()}},r.createElement("div",{id:"activeColorHex"},l&&l.hex()),r.createElement("div",{id:"activeColorDetail"},l&&dt.find(function(e){return e.value==o}).detail(l))),r.createElement("div",{id:"buttons"},r.createElement("button",{onClick:function(){return e.setCamera(S(5,0,.5),S(0,0,.5),R.Z)}},"X"),r.createElement("button",{onClick:function(){return e.setCamera(S(0,5,.5),S(0,0,.5),R.Z)}},"Y"),r.createElement("button",{onClick:function(){return e.setCamera(S(0,0,5.5),S(0,0,.5),R.Y)}},"Z"),r.createElement("button",{onClick:function(){return e.setState({camera:new ot})}},"Default"),r.createElement("a",{href:"https://github.com/NaridaL/visualize-color-spaces",style:{display:"inline-block",padding:"4px"}},r.createElement("img",{src:"./Octicons-mark-github.svg",width:"32px",height:"32px",style:{display:"inline-block"}}))))))},t.prototype.setCamera=function(e,t,r){this.setState({camera:{eye:e,center:t,up:r}})},t}(e.PureComponent);t.render(r.createElement(Bt),document.getElementById("vcs-root"))}(React,ReactDOM);
//# sourceMappingURL=bundle.min.js.map
